<html>
<head>
<title>Predicting Hospital Bed Availability (Part. 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测医院病床的可用性(部分。2)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/predicting-hospital-bed-availability-part-2-4ebf1c037df1?source=collection_archive---------5-----------------------#2018-09-20">https://towardsdatascience.com/predicting-hospital-bed-availability-part-2-4ebf1c037df1?source=collection_archive---------5-----------------------#2018-09-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e05c3e8292298f624eb350f569a9febe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qLC-0JAoL6311twk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“woman showing man laptop” by <a class="ae kc" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="758f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们是塞利姆·阿姆鲁尼和 T2，目前是哥伦比亚大学运筹学的学生。如果您有任何问题，请随时通过电子邮件(<a class="ae kc" href="mailto:selim.amrouni@columbia.edu" rel="noopener ugc nofollow" target="_blank">塞利姆</a> / <a class="ae kc" href="mailto:thibault.duplay@columbia.edu" rel="noopener ugc nofollow" target="_blank">蒂博</a>)或我们的 LinkedIn ( <a class="ae kc" href="https://www.linkedin.com/in/selimamrouni/" rel="noopener ugc nofollow" target="_blank">塞利姆·阿姆鲁尼</a> / <a class="ae kc" href="https://www.linkedin.com/in/thibaultduplay/" rel="noopener ugc nofollow" target="_blank">蒂博·杜普雷</a>)账户与我们联系。</p><p id="7288" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个 Medium 系列中，我们将于 2018 年夏天在<a class="ae kc" href="https://nyulangone.org/" rel="noopener ugc nofollow" target="_blank"> NYU 朗格健康</a>展示我们作为研究实习生的工作。</p><p id="5448" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/predicting-hospital-bed-availability-part-1-81d75649a18c">部分。1 </a>是关于问题的一般陈述和医院流程的描述。</p><p id="393b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本文(部分。2)将集中于用于预测医院占用率的模型。所以，这里我们进入项目的核心！</p><h1 id="f382" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">住院病人模型</h1><h2 id="c79d" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">初步的</h2><p id="47e6" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated"><strong class="kf ir">住院病人</strong>已经进入 NYU 朗格医疗机构。正如他们已经承认的那样，<strong class="kf ir">唯一的目标</strong>是<strong class="kf ir">预测</strong>他们的<strong class="kf ir">出院</strong>日期。然后，通过合计每个 NU 内的出院人数，我们可以检索 NU 内的患者人数。</p><blockquote class="ms"><p id="29b1" class="mt mu iq bd mv mw mx my mz na nb la dk translated">每天预测患者的剩余 LoS 是多少</p></blockquote><p id="1ebc" class="pw-post-body-paragraph kd ke iq kf b kg nc ki kj kk nd km kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated"><strong class="kf ir">可以实施两种方法</strong>来预测患者的出院情况。<strong class="kf ir">首先</strong>，我们可以尝试<strong class="kf ir">直接预测患者入院时的损失</strong>(例如:3 天、4 天……)。然而，患者的出院是非常不可预测的，并且估计的出院日期在患者护理过程中会改变几次。事实上，患者的身体反应是不确定的，没有人确切知道患者将停留多久，未来的治疗将是什么，等等。因此，<strong class="kf ir">第二种方法</strong>是每天<strong class="kf ir">预测患者的<strong class="kf ir">剩余 LoS </strong>是什么。这是我们采取的方法。</strong></p><p id="93e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，<strong class="kf ir">预测</strong><strong class="kf ir">排放</strong>日期既可以看作是<strong class="kf ir">回归</strong>也可以看作是<strong class="kf ir">分类</strong>问题。</p><blockquote class="ms"><p id="dc22" class="mt mu iq bd mv mw mx my mz na nb la dk translated">由于 CTC 团队要求的粒度，我们选择了分类方法。</p></blockquote><p id="d98c" class="pw-post-body-paragraph kd ke iq kf b kg nc ki kj kk nd km kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">在<strong class="kf ir">回归问题</strong>中，目标是预测<strong class="kf ir">在医院的正确剩余时间量</strong>。然而，由于 CTC 团队要求的粒度，<strong class="kf ir">我们选择了分类方法</strong>。事实上，从运营的角度来看，重要的是了解医院每天的入住情况，但他们并不关心出院的确切时间。在与团队进行了几次审查后，除了当天，我们意识到他们需要知道的一个<strong class="kf ir">重要信息</strong>是<strong class="kf ir">放电</strong>是否会在中午(下午 12:00)之前<strong class="kf ir">发生。事实上，在中午之前知道一张床是否是<strong class="kf ir">排放物</strong> (DBN)使得团队能够在下午直接重新确定这张床的属性。这样，就不会出现病人在夜间入住的床位不足的情况。这就是为什么我们把回归问题变成了分类问题。我们<strong class="kf ir">将时间分成 7 个 12 小时的时间段</strong>，从<strong class="kf ir">“0–12 小时”</strong>到<strong class="kf ir">“+72 小时”</strong>。例如，如果患者属于“24–36h”类别，这意味着他的剩余 LoS 在 24 到 36 小时之间。这样，预测医院住院人数的问题就变成了一个<strong class="kf ir">监督七类分类问题</strong>。</strong></p><h2 id="5ead" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">使用的功能</h2><p id="8fee" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">用于这项任务的数据集是当前的人口普查。这是医院的快照，有大约 200 个特征。但是，由于过去数据中未来数据的数据泄漏(患者的过去数据被最后的条目覆盖)，我们无法使用这些功能。有希望的是，在与 it 团队的几次会议后，由于他们惊人的工作，我们开始每天四次捕获和存储当前的人口普查数据集。因此，我们希望能够在今后的工作中尝试和检验我们的方法。</p><p id="9077" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">乍一看，因为我们无法访问历史数据，所以我们只能为我们的住院病人模型使用一个特性:<strong class="kf ir">医生给出的估计出院数据</strong>。事实上，医生在其每日患者巡视期间更新患者的估计出院日期。</p><h2 id="5d2a" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">数据的处理</h2><p id="d756" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">给定医生估计的出院日期和当前时间，我们可以计算患者的剩余住院时间。然后，知道了病人将停留的剩余时间，我们可以将每个病人归属于它所属的类别。最后一步是在每个 NU 内计算属于每个类别的患者数量，以便了解出院人数。</p><p id="d046" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">结果</strong></p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/33a1bf7bf3cd7b4a2715e41c354e14bc.png" data-original-src="https://miro.medium.com/v2/format:webp/1*qzs9GTdDqXZ77B_2dau0ww.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Scatter Plot of the Actual vs. Expected Remaining LoS</figcaption></figure><p id="3854" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">实际剩余 LoS 与预期剩余 LoS 的散点图显示了医生预测的<strong class="kf ir">低效率。</strong>基于这种观察，我们试图开发一种监督学习分类算法。</p><h1 id="4c99" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">预定模型</h1><h2 id="2cbc" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">放置矩阵</h2><p id="3b58" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">安置矩阵为 NU 指定一种医疗类型和一个护理级别。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/19977cb31c6ffdf093c8f38c9fb54505.png" data-original-src="https://miro.medium.com/v2/format:webp/1*1pzJCjaCfuMbYW5VjmvqUg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">First rows of the Placement Matrix (details have been blurred for non-disclosure agreement)</figcaption></figure><p id="0a0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到在某些情况下有 NU ( 1)，2) …)的列表。这描述了 NU 填充的顺序，如果“1”已满，则将患者放在“2”中，以此类推。我们还可以观察到，有时根据外科医生的团队或一天的类型(工作日、周末或假日)，位置会发生变化。</p><blockquote class="ms"><p id="3d6f" class="mt mu iq bd mv mw mx my mz na nb la dk translated">我们必须解读原始文本…</p></blockquote><p id="003b" class="pw-post-body-paragraph kd ke iq kf b kg nc ki kj kk nd km kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated"><strong class="kf ir">格式</strong>是<strong class="kf ir">不是</strong>T8】以为是<strong class="kf ir">被<strong class="kf ir">机器</strong>使用</strong>而是被人类雇员使用。我们不得不<strong class="kf ir">解读</strong>原始文本。有时，同一 NU 的名称会有些不同。我们需要找到一种方法来解决这些困难，我们不能为特定的布局矩阵编码一个简单的映射。事实上，布局矩阵经常变化，我们需要<strong class="kf ir">执行</strong>一个<strong class="kf ir">算法</strong> <strong class="kf ir">对这些变化</strong>具有鲁棒性。</p><blockquote class="ms"><p id="81ba" class="mt mu iq bd mv mw mx my mz na nb la dk translated">…使用单词距离…将 ch1 转换为 ch2 所需的最少数量的基本运算</p></blockquote><p id="d46a" class="pw-post-body-paragraph kd ke iq kf b kg nc ki kj kk nd km kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">我们决定列出 NU 的未更改名称，然后使用<strong class="kf ir">单词距离</strong>将放置矩阵建议的 NU 与列表中距离<strong class="kf ir">最小的 NU 相关联。为此，我们使用了以下距离:设<em class="nm"> ch1 </em>和<em class="nm"> ch2 </em>为两个字符链。<em class="nm"> ch1 </em>和<em class="nm"> ch2 </em>标注为<em class="nm"> D(ch1，ch2) </em>的距离是<strong class="kf ir">将<strong class="kf ir">ch1 转换为<em class="nm"> ch2 </em>所需的</strong>对<em class="nm"> ch1 </em>的最小基本运算次数。有三种基本操作:</strong></strong></p><ul class=""><li id="b78e" class="nn no iq kf b kg kh kk kl ko np ks nq kw nr la ns nt nu nv bi translated">互换两个角色(1)(例如:狗→上帝)</li><li id="f980" class="nn no iq kf b kg nw kk nx ko ny ks nz kw oa la ns nt nu nv bi translated">插入一个字符(2)(例如:上帝→黄金)</li><li id="8e6f" class="nn no iq kf b kg nw kk nx ko ny ks nz kw oa la ns nt nu nv bi translated">删除一个字符(3)(例如:黄金→旧)</li></ul><p id="55aa" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如<em class="nm">D(“</em>狗<em class="nm">”、“</em>手套<em class="nm">”)</em>= 5:</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/d7149f4c66d36cc687f573e68014599a.png" data-original-src="https://miro.medium.com/v2/format:webp/1*egPpRj1nlJum9RwJ8TqxVA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">How to calculate the distance between ”dog” and “glove”</figcaption></figure><p id="df44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个距离的灵感来自于著名的<strong class="kf ir">莱文斯坦距离</strong>。我们<strong class="kf ir">增加了</strong>操作<strong class="kf ir">互换</strong>。在我们的例子中，字符链实际上是句子。如果两个句子中的单词相似但顺序不同，则互换具有灵活性。我们可以注意到距离<strong class="kf ir">验证了</strong>距离的<strong class="kf ir">最广泛的数学定义:</strong></p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/f826ee44309f48dc64b1d37fad8d20ec.png" data-original-src="https://miro.medium.com/v2/format:webp/1*x14BM1hcMhKy2m-Ewmt9tQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Definition of a distance</figcaption></figure><p id="dab4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">结果非常令人满意，没有一个 NU 的名字被错误地映射。</p><h2 id="6c3c" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">承认</h2><p id="c937" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">一旦我们能够正确处理位置矩阵，承认是简单的。我们选择了这样的假设，即<strong class="kf ir">患者</strong> <strong class="kf ir">在其手术</strong>之后的时间段进入 <strong class="kf ir">他的 NU。我们做这个选择是为了考虑手术的长度和在 PACU 的时间。例如，如果患者被安排在明天下午，因此在时间段“36-48 小时”，我们将假设他将在时间段“48-60 小时”到达他的 NU。</strong></p><h2 id="499b" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">排放</h2><p id="ac29" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">由于我们还没有关于该患者的任何其他信息(他还没有住院)，我们不能以令人满意的准确性影响他。根据他的《怒》，我们可以根据<strong class="kf ir">史料</strong>对<strong class="kf ir">样</strong>其<strong class="kf ir">洛</strong>。<br/>下图给出了每个单位患者的平均损失:</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/eb0a9c549872338d2099a8f245173d2d.png" data-original-src="https://miro.medium.com/v2/format:webp/1*yCYJqprmvlJ6hx1Jn5cShA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The average LoS for each unit (details have been blurred for non-disclosure agreement)</figcaption></figure><h2 id="0fdf" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">非计划模型</h2><p id="5e8e" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">对于计划外的患者，我们需要使用历史数据对<strong class="kf ir">急诊室</strong>中的<strong class="kf ir">到达者</strong>进行<strong class="kf ir">采样。</strong></p><h2 id="b3ae" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">承认</h2><p id="ba7a" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">原理很简单，在关于病人出院的数据中，我们可以推导出每天的平均到达人数，考虑到一周中的某一天- <strong class="kf ir">季节性</strong>。下图给出了这种特殊季节性的精确值。由于一年中的一段时间(有一些高峰，尤其是在夏季或冬季)造成的季节性应该被直接考虑在内。事实上，我们只考虑了过去两个月的出院数据。因此<strong class="kf ir">统计</strong>使得<strong class="kf ir">只考虑</strong>当年的<strong class="kf ir">当前</strong> <strong class="kf ir">期间</strong>。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/37eb26de99467c78e2bf513b3a76e446.png" data-original-src="https://miro.medium.com/v2/format:webp/1*DTA9pP0GVlF7o3P46yKUzw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Day-of-the-week-seasonality for the unscheduled arrivals</figcaption></figure><blockquote class="ms"><p id="96f9" class="mt mu iq bd mv mw ob oc od oe of la dk translated">我们需要模拟今天、明天和后天</p></blockquote><p id="81a8" class="pw-post-body-paragraph kd ke iq kf b kg nc ki kj kk nd km kn ko ne kq kr ks nf ku kv kw ng ky kz la ij bi translated">一旦我们对这些天进行了统计，我们就知道<strong class="kf ir">今天、明天和后天</strong>我们需要模拟多少计划外的患者。我们甚至更精确:我们考虑是上午还是下午来正确地填充我们的时间段。<br/>然后，如果我们知道我们必须对特定时间段内的"<em class="nm"> n </em>"非预定到达进行采样，我们也可以<strong class="kf ir">将</strong>分配给这个"<em class="nm"> n </em>"不同的患者和 NU。我们利用历史数据完成了这项任务，下图说明了非计划到达的 NU 份额。基于这种分布，我们可以很容易地对计划外患者进行抽样(这只是一种多项分布)。我们使用这个模型来填充急诊室到达的输入。</p><figure class="nh ni nj nk gt jr gh gi paragraph-image"><div class="ab gu cl nl"><img src="../Images/dad750368db7f9ff2a9d1368999ffc29.png" data-original-src="https://miro.medium.com/v2/format:webp/1*Ta4Tkka9eCZt3izLd3mHbQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The distribution of the NU concerning the unscheduled arrivals (details have been blurred for non-disclosure agreement)</figcaption></figure><h2 id="fc10" class="mb le iq bd lf mc md dn lj me mf dp ln ko mg mh lr ks mi mj lv kw mk ml lz mm bi translated">排放</h2><p id="8364" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">正如我们对预约患者所做的那样，我们对非预约患者的 LoS 进行了抽样。然后我们可以推导出不定期到达的出院日期。</p><blockquote class="ms"><p id="7c01" class="mt mu iq bd mv mw mx my mz na nb la dk translated">现在，CTC 团队已经将软件全部设置好了…</p></blockquote><figure class="oh oi oj ok ol jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/cdcd011f34726402ca7172af68719272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iFMf1GEupb2cVRENaPnpzQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Graphic interface we made in order to facilitate the use for non-technical people</figcaption></figure><h1 id="04c2" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">结论</h1><p id="c7b6" class="pw-post-body-paragraph kd ke iq kf b kg mn ki kj kk mo km kn ko mp kq kr ks mq ku kv kw mr ky kz la ij bi translated">瞧啊。在第二部分中，您有机会深入了解我们为项目构建的模型。在接下来的文章中，我们将进入更奇妙、更吸引人的数学领域来改进这个模型。</p><blockquote class="ms"><p id="2e20" class="mt mu iq bd mv mw mx my mz na nb la dk translated">请跟随我们并保持关注…</p></blockquote></div></div>    
</body>
</html>