<html>
<head>
<title>Number plate detection with Supervisely and Tensorflow (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Supervisely和Tensorflow进行车牌检测(上)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/number-plate-detection-with-supervisely-and-tensorflow-part-1-e84c74d4382c?source=collection_archive---------0-----------------------#2017-08-11">https://towardsdatascience.com/number-plate-detection-with-supervisely-and-tensorflow-part-1-e84c74d4382c?source=collection_archive---------0-----------------------#2017-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="9bad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">深度学习现在被广泛使用。神经网络在计算机视觉任务中有许多有趣的应用。本教程将向您介绍如何用<a class="ae kl" href="https://supervise.ly/" rel="noopener ugc nofollow" target="_blank">supervisory</a>和<a class="ae kl" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> Tensorflow </a>轻松构建车牌检测系统。</p><p id="bef4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你没有听说过超级监管，你可以在我们的<a class="ae kl" href="https://medium.com/p/57b00f863040" rel="noopener">介绍</a>帖子中了解更多。</p><p id="cd65" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本分步指南由两部分组成:</p><ul class=""><li id="0896" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">第1部分:在人工生成的数据上训练神经网络。</li><li id="5147" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">第2部分:在真实数据上微调神经网络。</li></ul><p id="b0b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所有资源都可以在<a class="ae kl" href="https://github.com/DeepSystems/supervisely-tutorials" rel="noopener ugc nofollow" target="_blank"> github </a>获得。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="b39a" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">什么是超级监管？</h1><p id="b6f4" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">每个数据科学家都知道什么是<a class="ae kl" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> Tensorflow </a>。几天前，我们在<a class="ae kl" href="https://deepsystems.ai/en/" rel="noopener ugc nofollow" target="_blank"> Deep Systems </a>的团队发布了<a class="ae kl" href="https://supervise.ly/" rel="noopener ugc nofollow" target="_blank">supervised</a>，让开发者和研究人员更容易处理训练数据集。</p><p id="8a2d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现有技术的神经网络架构有许多开源实现。但是深度学习模型非常“数据饥渴”。</p><blockquote class="mk ml mm"><p id="7443" class="jn jo mn jp b jq jr js jt ju jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj kk ij bi translated">“深度学习算法有许多参数需要调整，因此需要大量数据，以便提出某种程度上通用的模型。因此，从这个意义上说，拥有大量数据是为这些方法提供良好训练集的关键。”</p><p id="28c1" class="jn jo mn jp b jq jr js jt ju jv jw jx mo jz ka kb mp kd ke kf mq kh ki kj kk ij bi translated">Quora工程副总裁Xavier Amatriain。</p></blockquote><p id="4a49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">众所周知，在大多数情况下，数据科学家将大部分时间花在训练数据准备上:</p><ul class=""><li id="0918" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">创建私有数据集</li><li id="d92a" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">将它们与不同格式的几个公共数据集合并</li><li id="67c4" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">添加各种数据扩充</li></ul><p id="21d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而他在做这些的同时，很大概率会犯很多错误，或者在数据准备过程中做错一些事情。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mr"><img src="../Images/811a112c5f0ae63c41b63148b0b3dfa2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72Ayj_X1BTNIYEkMokgnDA.png"/></div></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Source: <a class="ae kl" href="http://dilbert.com/strip/2014-05-07" rel="noopener ugc nofollow" target="_blank">http://dilbert.com/strip/2014-05-07</a></figcaption></figure><p id="840e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">和</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/7a5cb8def8809bccaa691ad3ea48c9a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*KAo1-M7BepKotd1KvUjlpw.jpeg"/></div><figcaption class="nd ne gj gh gi nf ng bd b be z dk">Source: <a class="ae kl" href="https://9gag.com/gag/aDoBnGK" rel="noopener ugc nofollow" target="_blank">https://9gag.com/gag/aDoBnGK</a></figcaption></figure><p id="8a08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">超级解决这些问题。它提供了最佳的简单性和性能—它是一个基于web的框架，允许导入所有最著名的公共数据集，使用集成的注释工具创建自己的数据集，使用各种数量的扩展将数据集合并和导出为不同的格式等等。</p><p id="4c32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我们将向您展示如何使用Supervisely来解决现实世界中的车牌检测任务。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="bbd3" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">预览训练数据</strong></h1><p id="7bfa" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">用真实数据创建大型特定任务数据集几乎总是既困难又昂贵。通常的做法是在可能的情况下生成人工数据集。</p><p id="b5d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">幸运的是，我们可以为我们的任务做到这一点。出于教学目的，我们生成了10k图像数据集，在带有噪声、小旋转和不同比例的随机背景上带有号码牌。为了简单起见，我们将使用灰度图像。这个数据集可以在Supervisely的数据集库中免费获得。</p><div class="ms mt mu mv gt ab cb"><figure class="ni mw nj nk nl nm nn paragraph-image"><img src="../Images/836e6dec2bf7e25c295c2f8577a37117.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*r_BKPe_iRJzpgypJWULb1A.png"/></figure><figure class="ni mw nj nk nl nm nn paragraph-image"><img src="../Images/6191c8bdb6a9ee44ea1918fdbe68a42b.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*Ai9dK5W4hiWx0l713G7MQw.png"/></figure></div><div class="ab cb"><figure class="ni mw nj nk nl nm nn paragraph-image"><img src="../Images/794857414d7e383010364d210aba5ff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*oyxevIGUerRkFYsfz9HySQ.png"/></figure><figure class="ni mw nj nk nl nm nn paragraph-image"><img src="../Images/afd76d219d12eed54fd1743ab8a4f235.png" data-original-src="https://miro.medium.com/v2/resize:fit:256/format:webp/1*Z6PiuR5G992TSjIrWWUTLw.png"/><figcaption class="nd ne gj gh gi nf ng bd b be z dk no di np nq">Here are the few examples of artificially generated images with number plates.</figcaption></figure></div><p id="4469" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要开始使用该数据集<a class="ae kl" href="https://app.supervise.ly/signup" rel="noopener ugc nofollow" target="_blank">，请创建</a>或<a class="ae kl" href="https://app.supervise.ly/login" rel="noopener ugc nofollow" target="_blank">登录</a>进入<a class="ae kl" href="https://supervise.ly" rel="noopener ugc nofollow" target="_blank"> Supervise.ly </a>账户。</p><p id="b8cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注册后，您将在您的帐户中看到以下内容:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/8b6248fcf39a0a6fc022e9e660cfed71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BkxKrOkRg4jmuNgXc4_iCg.png"/></div></div></figure><p id="5402" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要开始使用“牌照”数据集，请单击“导入”选项卡，然后单击“数据集库”子选项卡。在此页面上，您可以看到可用现成数据集的列表(该列表将被积极丰富)。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/9d0d87e510b20dfa47acd330faf13d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JAjETnD0j4FL4T5beqabEg.png"/></div></div></figure><p id="8a50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们点击“车牌”数据集。下一步是为创建的项目键入名称。姑且称之为“Anpr教程”:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/bb6746df95e41df7b4e2a55c3acdf700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LLTjSP0Ah8V0NHgU-Adbkw.png"/></div></div></figure><p id="5d55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后点击“下一步”按钮。选择所有复选框，然后单击“上传”。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/8dd89c75a208d5d7a37c6464f2ee60d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UqZ5bcpI3gUhLmTm-dEobA.png"/></div></div></figure><p id="39d2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您将被重定向到任务列表。从数据集库中导入数据集的任务将在几秒钟内完成。</p><p id="a1d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在你可以点击主菜单中的“项目”标签。你会看到项目“Anpr教程”(左图)里面有单个数据集“人造的”(右图):</p><div class="ms mt mu mv gt ab cb"><figure class="ni mw nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><img src="../Images/7b75b38f72509e14f1f00a1af292d24a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*tr4ceQpt2PZHQek5ROwqqg.png"/></div></figure><figure class="ni mw nj nk nl nm nn paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><img src="../Images/17b603a1ac1fa79a3f5839cc711765f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*afeGNsGiXygQwK6S4BW6JQ.png"/></div></figure></div><p id="869f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单击数据集打开注记工具。下面的gif展示了注释器工具的一些功能。在本教程中，我们将只使用它来预览图像。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi ns"><img src="../Images/d4e72cce12de031215f4d56d968c4d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hPZms9qje5ynMQYIOZYliA.gif"/></div></div></figure><p id="658a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以。现在我们有一个数据集的帐户和项目。在我们进行模特训练之前，只剩下一步了。我们应该导出这个数据集。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="78b8" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">导出培训数据</strong></h1><p id="3132" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在我们开始之前，让我说几句关于数据集导出功能的话。当我们设计神经网络时，我们从计算图的角度来考虑它。这是流行的深度学习框架背后的核心抽象。计算图由数学运算和变量组成。</p><p id="51ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们开发了强大的数据集导出工具，该工具提供了用计算图形配置导出的可能性。我们可以定义将应用于所选数据集中每个图像的操作顺序。</p><p id="72af" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需单击主菜单中的“导出”选项卡，然后将json配置(如下所示)粘贴到文本框中。</p><pre class="ms mt mu mv gt nt nu nv nw aw nx bi"><span id="49d0" class="ny li iq nu b gy nz oa l ob oc">[<br/>  {<br/>    "dst": "$sample01",<br/>    "src": [<br/>      "Anpr tutorial/artificial"<br/>    ],<br/>    "action": "data",<br/>    "settings": {<br/>      "classes_mapping": {<br/>        "Licence plate": "plate"<br/>      }<br/>    }<br/>  },<br/>  {<br/>    "dst": "$sample_bb",<br/>    "src": [<br/>      "$sample01"<br/>    ],<br/>    "action": "bbox",<br/>    "settings": {<br/>      "classes_mapping": {<br/>        "plate": "plate_bbox"<br/>      }<br/>    }<br/>  },<br/>  {<br/>    "dst": [<br/>      "$sample_train",<br/>      "$sample_test"<br/>    ],<br/>    "src": [<br/>      "$sample_bb"<br/>    ],<br/>    "action": "if",<br/>    "settings": {<br/>      "condition": {<br/>        "probability": 0.98<br/>      }<br/>    }<br/>  },<br/>  {<br/>    "dst": "$train_tagged",<br/>    "src": [<br/>      "$sample_train"<br/>    ],<br/>    "action": "tag",<br/>    "settings": {<br/>      "tag": "train",<br/>      "action": "add"<br/>    }<br/>  },<br/>  {<br/>    "dst": "$test_tagged",<br/>    "src": [<br/>      "$sample_test"<br/>    ],<br/>    "action": "tag",<br/>    "settings": {<br/>      "tag": "test",<br/>      "action": "add"<br/>    }<br/>  },<br/>  {<br/>    "dst": "artificial_samples",<br/>    "src": [<br/>      "$train_tagged",<br/>      "$test_tagged"<br/>    ],<br/>    "action": "save",<br/>    "settings": {<br/>      "images": true,<br/>      "annotations": true<br/>    }<br/>  }<br/>]</span></pre><p id="af51" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">系统会自动在右侧生成这样的图:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi od"><img src="../Images/c04db1eb02578aa5936b922f983e6df3.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*GW0Z_nh40ykR_bPzJvIcZw.jpeg"/></div></figure><p id="ada7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看一下我们的例子。蓝框是数据变量，紫框是操作。关于所有可用导出层的详细说明，您可以在这里找到<a class="ae kl" href="https://docs.supervise.ly/en/export/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="9b3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本例中，我们从项目“Anpr教程”的数据集“人造”中获取图像。此数据集的所有标注都是多边形，因此我想将它们转换为边界框。在这种情况下，它并不重要，但在其他教程中，例如，当我们从Cityscapes数据集导出汽车和行人周围的边界框时，它将非常有用(所有注释都显示为多边形)。</p><p id="51fa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们分割数据集进行训练和测试。每个图像以98%的概率落入训练集中。此后，所有训练图像将保存为标签“测试”，所有测试图像-标签为“测试”。</p><p id="de78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，让我们点击“开始导出”按钮。您将被重定向到包含导出任务的页面。等待几秒钟，直到“人工样本”任务完成。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi oe"><img src="../Images/9d025999cd2275b7ba9db5954cf85596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qyqm6mT9_ATOMtHMADhSSQ.jpeg"/></div></div></figure><p id="23b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，您可以单击“三点”按钮或“下载”图标，下载包含培训/测试图像和注释的结果档案。</p><p id="03e7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该档案的结构如下:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi of"><img src="../Images/3e9e7088593d7bbe944507d3d6b3f098.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*efiQTjUMuBokyBOzXZ2byQ.jpeg"/></div></div></figure><p id="b775" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看它是什么。整体存档是项目，“Anpr教程_ _人工”是数据集。“img”目录包含图像，“ann”目录包含json格式的每个图像的注释。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="63cb" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">训练模型</strong></h1><p id="b1b5" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated"><em class="mn">需求</em>:安装了GPU和docker的电脑。</p><p id="d6ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们应该通过键入以下命令来克隆教程存储库:</p><pre class="ms mt mu mv gt nt nu nv nw aw nx bi"><span id="eec5" class="ny li iq nu b gy nz oa l ob oc">git clone <a class="ae kl" href="https://github.com/DeepSystems/supervisely-tutorials.git" rel="noopener ugc nofollow" target="_blank">https://github.com/DeepSystems/supervisely-tutorials.git</a> &amp;&amp; cd supervisely-tutorials/anpr</span></pre><p id="3759" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，将下载的数据集提取到“数据”目录。您应该得到以下“数据”目录结构:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/67c142fafe811c28a9f0d7110a0e2c42.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*J_QFJzN25_W5jnTN_cUXdw.jpeg"/></div></figure><p id="38a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在让我们转到“docker”目录。它包含Dockerfile和两个用于构建映像和运行容器的脚本。在“anpr/docker”目录中运行以下命令:</p><pre class="ms mt mu mv gt nt nu nv nw aw nx bi"><span id="e3b6" class="ny li iq nu b gy nz oa l ob oc">./build.sh<br/>./run.sh<br/># now you are inside the container.<br/>jupyter notebook</span></pre><p id="f9be" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“jupyter notebook”命令的输出如下:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi oh"><img src="../Images/5c50585e8982dd9f0822b507bfc24f6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-V1bzdnbbfh1Xj_wStrObQ.png"/></div></div></figure><p id="b0b1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只需复制最后一个链接并粘贴到浏览器。您链接中的令牌将与我的不同。在您的浏览器中，您将看到:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/9784f1a81cbcaa29dc94acd97e2221b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1pOgu4KI8yE_dq0tA-UXyw.png"/></div></div></figure><p id="54d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们打开“experiment1.ipynb”吧。点击“单元格-&gt;全部运行”。该示例将:</p><ul class=""><li id="f23c" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">加载所有训练和测试数据</li><li id="b230" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">可视化一些带有注释的随机图像</li><li id="eb9d" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">训练神经网络并保存到“数据/模型_artif”</li><li id="4950" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">加载模型并在随机测试图像上进行测试</li><li id="2fc7" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">随机训练图像上负载模型和测试</li></ul><p id="65ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">单元格[12]的输出如下。它只是可视化一些随机图像及其来自训练集的注释。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/b4ede6233bcd64a4ba6dc936b6c7d45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DhKYiJiwMwFlvDxNNrI8Fw.png"/></div></div></figure><p id="3238" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后模型训练20个纪元。输出应该是这样的:</p><pre class="ms mt mu mv gt nt nu nv nw aw nx bi"><span id="89e6" class="ny li iq nu b gy nz oa l ob oc">Epoch: 0, Score: 632.081665, Epoch per minute: 0.000000<br/>Epoch: 1, Score: 0.031625, Epoch per minute: 7.076456<br/>Epoch: 2, Score: 0.020695, Epoch per minute: 7.555644<br/>Epoch: 3, Score: 0.015778, Epoch per minute: 7.724735<br/>Epoch: 4, Score: 0.011812, Epoch per minute: 7.804142<br/>Epoch: 5, Score: 0.007921, Epoch per minute: 7.864671<br/>Epoch: 6, Score: 0.005887, Epoch per minute: 7.877275<br/>Epoch: 7, Score: 0.003385, Epoch per minute: 7.888540<br/>Epoch: 8, Score: 0.002968, Epoch per minute: 7.895694<br/>Epoch: 9, Score: 0.002555, Epoch per minute: 7.902217<br/>Epoch: 10, Score: 0.002133, Epoch per minute: 7.925616<br/>Epoch: 11, Score: 0.001715, Epoch per minute: 7.935624<br/>Epoch: 12, Score: 0.001581, Epoch per minute: 7.936112<br/>Epoch: 13, Score: 0.001396, Epoch per minute: 7.969603<br/>Epoch: 14, Score: 0.001210, Epoch per minute: 7.999257<br/>Epoch: 15, Score: 0.001140, Epoch per minute: 8.019996<br/>Epoch: 16, Score: 0.001603, Epoch per minute: 8.059043<br/>Epoch: 17, Score: 0.001414, Epoch per minute: 8.080978<br/>Epoch: 18, Score: 0.001150, Epoch per minute: 8.102449<br/>Epoch: 19, Score: 0.001129, Epoch per minute: 8.097572<br/>Epoch: 20, Score: 0.001273, Epoch per minute: 8.128981<br/>Epoch: 21, Score: 0.001324, Epoch per minute: 8.141784<br/>Epoch: 22, Score: 0.000929, Epoch per minute: 8.133494<br/>Epoch: 23, Score: 0.001333, Epoch per minute: 8.143423<br/>Epoch: 24, Score: 0.000930, Epoch per minute: 8.146000<br/>Epoch: 25, Score: 0.000900, Epoch per minute: 8.138766<br/>Epoch: 26, Score: 0.000948, Epoch per minute: 8.148882<br/>Epoch: 27, Score: 0.000853, Epoch per minute: 8.138941<br/>Epoch: 28, Score: 0.001174, Epoch per minute: 8.148271<br/>Epoch: 29, Score: 0.000871, Epoch per minute: 8.154097<br/>Epoch: 30, Score: 0.000740, Epoch per minute: 8.143948<br/>Finished in 221.023122 seconds.</span></pre><p id="e83d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，加载保存的模型并预测随机测试图像的边界框。这里我们可以看到模型做得很好。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/8161773bdd77ba9c34a0a792811b1294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v8hU00_HvITrrpEnb0RjvA.png"/></div></div></figure><p id="e7e2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看随机列车图像上的模型预测。该模型完美地预测了火车图像的包围盒。</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/894356e458024e739227b75630f15bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKY5Rene5N1ZZIN2W7IR-w.png"/></div></div></figure><p id="a5d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你一切顺利。如果没有，欢迎在评论中提问。</p><p id="bba9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，我们来详细看看一些脚本部分。我想简要讨论两个关键时刻:</p><ul class=""><li id="df63" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">我如何处理来自主管的培训数据</li><li id="4257" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">神经网络体系结构</li></ul><p id="c1a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在接下来的教程中，了解注释格式将非常有用。对于每个图像，我们都有json文件。这里有一个例子:</p><pre class="ms mt mu mv gt nt nu nv nw aw nx bi"><span id="fd00" class="ny li iq nu b gy nz oa l ob oc">{<br/>    "name": "00009975_H314CO08",<br/>    "tags": [ ],<br/>    "objects": [<br/>        {<br/>            "classTitle": "plate",<br/>            "description": "",<br/>            "tags": [<br/>                "H314CO08"<br/>            ],<br/>            "bitmap": <em class="mn">null</em>,<br/>            "points": {<br/>                "interior": [ ],<br/>                "exterior": [<br/>                    [<br/>                        32,<br/>                        24<br/>                    ],<br/>                    [<br/>                        32,<br/>                        40<br/>                    ],<br/>                    [<br/>                        95,<br/>                        40<br/>                    ],<br/>                    [<br/>                        95,<br/>                        24<br/>                    ]<br/>                ]<br/>            }<br/>        }<br/>    ],<br/>    "size": {<br/>        "width": 128,<br/>        "height": 64<br/>    }<br/>}</span></pre><p id="58de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个json文件只包含一个json对象。现在，我将向您解释一些字段:</p><ul class=""><li id="8b64" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">【名称】:对应的图像名称</li><li id="1d98" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">“标签”:图像标签(字符串数组)。</li><li id="a847" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">“size”:以像素为单位的具有图像“宽度”和“高度”的对象。</li><li id="7321" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">“objects”:给定图像的注释数组。</li></ul><p id="a0a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">注释对象的字段:</p><ul class=""><li id="7603" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">“classTitle”:对象类名。它本教程我们只有一个类，它是“板”。但是在我们的<a class="ae kl" href="https://github.com/DeepSystems/supervisely-tutorials" rel="noopener ugc nofollow" target="_blank">其他教程</a>中，你将使用多个职业。</li><li id="ee7d" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">“tags”:给定对象的字符串标记数组。在这里我们可以看到，我存储地面真相号码牌文本有机会在未来做光学字符识别。</li><li id="cb30" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">“点”:具有两个字段的对象。管理存储特定格式的对象。“外部”场是对象的外部轮廓。“内部”场是孔轮廓的阵列。</li></ul><p id="9def" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在是讨论神经网络架构的好时机。这个网很小，但它可以很容易地检测出我们任务中的车牌，而且质量很好。此外，该模型速度非常快，可以在嵌入式设备上使用。</p><p id="499c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是网络计算图的示意图:</p><figure class="ms mt mu mv gt mw gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi nr"><img src="../Images/48a41234afc39ebbfd767fc711b4b201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBX4Fc16iMuPaeqDhUfnRw.png"/></div></div></figure><p id="df4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">模型非常简单:它是基本卷积、relu和池操作的序列，最后是几个完全连接的层。模型预测车牌包围盒的坐标。</p></div><div class="ab cl la lb hu lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="ij ik il im in"><h1 id="b2ea" class="lh li iq bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated"><strong class="ak">结论</strong></h1><p id="1e23" class="pw-post-body-paragraph jn jo iq jp b jq mf js jt ju mg jw jx jy mh ka kb kc mi ke kf kg mj ki kj kk ij bi translated">在这部分教程中，我们已经向您展示了如何使用Supervisely和Tensorflow轻松构建车牌检测系统。我们使用人工生成的数据来训练简单但有效的神经网络。</p><p id="b789" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程的下一部分，我们将在真实数据上微调我们的模型。这种两阶段训练是深度学习研究人员的常见做法。</p><p id="b6c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">详细讲解如何使用Supervisely进行训练数据准备，有助于我们在以后的教程和日常工作中进行数据处理。</p><p id="cc87" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">欢迎在评论中提出任何问题，并订阅我们的博客。我们将定期添加新的教程和最新神经网络架构的解释。</p><p id="f731" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢大家！</p></div></div>    
</body>
</html>