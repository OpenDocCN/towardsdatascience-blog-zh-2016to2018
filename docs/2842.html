<html>
<head>
<title>My first contribution to open-source software</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我对开源软件的第一个贡献</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/making-my-first-open-source-software-contribution-8ebf622be33c?source=collection_archive---------8-----------------------#2018-03-12">https://towardsdatascience.com/making-my-first-open-source-software-contribution-8ebf622be33c?source=collection_archive---------8-----------------------#2018-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e742" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">开源软件汇集了许多无私的程序员，他们自由地向世界发布他们的代码。作为一名利用开源软件谋生的程序员，我一直想为开源社区做点贡献。在过去的这个周末，我在全球熊猫文献冲刺中实现了这个目标。</p><p id="8ac1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我知道我不必等待这个全球性的事件来做出开源的贡献。事实上，我经常爬上我经常使用的开源软件的发布板。然而，这是我第一次为开源项目做贡献，得到社区的支持和详细的指导真的很有帮助。也给了我一个很具体的任务，也有帮助。</p><p id="7cb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">pydata TO group在多伦多的hacklab space举办了一次活动。组织者给我分配了熊猫。DataFrame.all文档，但在开始之前，我必须设置我的环境。熊猫的网页上有很好的说明，可以在这里找到。</p><div class="kl km gp gr kn ko"><a href="http://pandas.pydata.org/pandas-docs/stable/contributing.html#creating-a-python-environment-pip" rel="noopener  ugc nofollow" target="_blank"><div class="kp ab fo"><div class="kq ab kr cl cj ks"><h2 class="bd ir gy z fp kt fr fs ku fu fw ip bi translated">为熊猫做贡献-熊猫0.22.0文档</h2><div class="kv l"><h3 class="bd b gy z fp kt fr fs ku fu fw dk translated">如果你不是开发人员，对文档做出贡献仍然有巨大的价值。你甚至不必…</h3></div><div class="kw l"><p class="bd b dl z fp kt fr fs ku fu fw dk translated">pandas.pydata.org</p></div></div></div></a></div><p id="c12a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我更喜欢用venv管理我的虚拟环境，尽管有很多警告，但一切都运行得很好。我现在可以开始写文档了，开始如下:</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/64104e6fd32aa544a35bd9e2dcf0d9d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3trjtnpm8bHG65_FScK72A.png"/></div></div></figure><p id="e969" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我运行了下面一行代码来产生文档字符串输出。</p><pre class="ky kz la lb gt lj lk ll lm aw ln bi"><span id="9d47" class="lo lp iq lk b gy lq lr l ls lt">python ../scripts/validate_docstrings.py pandas.DataFrame.all</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi lu"><img src="../Images/d3f03240006394406c4998cefd1f3dd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qw0JfnXbG2i33szPs9a_Ew.png"/></div></div></figure><p id="993e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在第一组散列标签下面是文档字符串当前的样子，在第二组下面是当前的错误列表。第一个错误是:</p><pre class="ky kz la lb gt lj lk ll lm aw ln bi"><span id="0f61" class="lo lp iq lk b gy lq lr l ls lt">Docstring text (summary) should start in the line immediately after the opening quotes (not in the same line, or leaving a blank line in between)</span><span id="c112" class="lo lp iq lk b gy lv lr l ls lt">Use only one blank line to separate sections or paragraphs</span></pre><p id="8c2e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我得到了一个与这个文档字符串相关的行，当我阅读代码时，遇到了困惑。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/d0aa08cd5fb513c39ac0bf4b8df28842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*z27HkMAoORzjaXuyBImAOg.png"/></div></figure><p id="ec0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我期待的是更接近实际医生的样子。经过一些调查后，我意识到我正在失去装饰者的魔力。appender decorator追加在_bool_doc变量中找到的内容。_bool_doc变量本身引用了从替换装饰器中给出的参数中插入的变量。</p><p id="dc76" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我跟踪_bool_doc变量时，我发现了第一个错误的来源。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/bbbda10adaa13095afdbc0ee0affc80f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*TYR_379aoWu4U5XCCg9CWw.png"/></div></figure><p id="fd64" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">%(desc)的变量占位符在左引号后有一个空行。这是不允许的。所以我去掉了这条空行，瞧！我已经排除了第一个错误。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/467e4ffa8b031980587a1c7d92028a0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*y2k5f7X9g27FtBzfDGgGhA.png"/></div></figure><p id="1483" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我一直在努力纠正这些错误，然后面临一个挑战。我正在完成DataFrame.all的文档，但它实际上与DataFrame.any方法共享文档。因此，当我需要放入“另请参阅”和“示例”部分时，我必须向这些文档的实例化函数添加参数。这将允许这两个相关的方法共享它们文档的模板，但是在需要的地方有所不同。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/a9a9f5d5e6e35f8daddae985d2da287e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*Ut5HnqehGz0pjRR4N3ZJIw.png"/></div></figure><p id="37f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将示例和see_also参数添加到_make_logical_function中，并将它们作为变量传入。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ma"><img src="../Images/63b9ef0f175512fd42b3f903404e19f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1108/format:webp/1*gtamSBOTJV3TUiJQVg3Gbw.png"/></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/7674e32d800254c0430c591cc9128652.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*AlhWNSpZjW2xly4AMk8W8w.png"/></div></figure><p id="abff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个传递给生成文档的参数的变量的例子。</p><p id="063e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意我是如何将_all_doc、_all_examples和_all_see_also变量添加到cls.all对象中的。</p><p id="5d2c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些更改导致新的文档页面如下所示</p><p id="3402" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">python make.py -单身熊猫。DataFrame.all</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi mc"><img src="../Images/a0084c607d9c497e5cd9071d32f6847a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wA63tDhFPi__n_6unFSyuw.png"/></div></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi md"><img src="../Images/7812b7248eb4bbb290372199353cb5b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGQ4allnTz0n8oRBwSloxg.png"/></div></div></figure><p id="59cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">肯定是一个进步。</p><p id="6fce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一步是准备合并这个分支。包括确保它编译并通过了pep8标准。</p><pre class="ky kz la lb gt lj lk ll lm aw ln bi"><span id="10e4" class="lo lp iq lk b gy lq lr l ls lt">git diff upstream/master -u -- "*.py" | flake8 --diff</span></pre><p id="8139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我提交了一个拉取请求，几分钟内就有了评论。评论的范围从风格上的改变到请求添加有关适用于系列数据结构的all方法的信息。三个独立的核心熊猫开发者评论了这个分支。虽然我经常在工作中经历这一过程，但和世界各地我从未见过的人一起做这件事真的很酷。</p><p id="cd61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最终在3月11日上午10:42，我的分支被合并，我正式成为0.23.0版本中熊猫项目的贡献者。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi me"><img src="../Images/abe5952360ff5f48ea1e366e6b10aeab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LRxfUn9ioU2wVJfhhr_jg.png"/></div></div></figure><p id="8720" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望对开源软件做出更多的贡献，也希望对实现细节和更多的文档做出贡献。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi mf"><img src="../Images/6e69c7ec61bcae1bf79ca8109cd29810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lmu8-e2znyeC-yTabWV7dg.jpeg"/></div></div><figcaption class="mg mh gj gh gi mi mj bd b be z dk"><a class="ae mk" href="https://pixabay.com/en/background-art-wallpaper-panorama-3104413/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/en/background-art-wallpaper-panorama-3104413/</a></figcaption></figure></div></div>    
</body>
</html>