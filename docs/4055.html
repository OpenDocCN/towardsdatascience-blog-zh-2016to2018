<html>
<head>
<title>Where the F**k do I execute my model?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在哪里执行我的模型？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/where-the-f-k-do-i-execute-my-model-2591d302bcb1?source=collection_archive---------8-----------------------#2018-07-13">https://towardsdatascience.com/where-the-f-k-do-i-execute-my-model-2591d302bcb1?source=collection_archive---------8-----------------------#2018-07-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/dd6f0340735f755675faaee8c274699f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jICy8s_sDS_QrRXb6UGsUA.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="6c56" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated"><em class="kq">或者:走向机器学习部署环境。</em></h2></div><p id="d99b" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在，机器学习领域的大牌都有自己的数据科学分析环境和生产中的机器学习执行环境。其他人有定制零件的大杂烩，或者足够幸运，现有的商用机器学习环境符合他们的需求，他们可以使用它们。有几个商业可用的数据科学环境，Gartner 在其数据科学和机器学习平台的<a class="ae ln" href="https://www.gartner.com/doc/reprints?id=1-4RMUF0K&amp;ct=180222&amp;st=sb" rel="noopener ugc nofollow" target="_blank">魔力象限中提到了最知名的参与者(尽管每周都有新的参与者出现)。然而，这些平台中的大多数(如果不是全部的话)都受到限制，这可能会阻止一些行业采用它们。这些平台中的大多数都有一个前提，即它们将在单个云(无论是公共云还是私有云)上执行所有内容。让我们来看看为什么不是每个用例都是这样。</a></p><p id="90af" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一些机器学习模型可能需要远程执行。让我们以自动驾驶汽车行业为例。延迟和安全性阻碍了云中的执行(除非云是车载的)。一些工业用例可能需要以边缘计算或雾计算的方式执行模型，以满足延迟需求。某些行业的数据敏感性可能需要在客户设备上执行某些算法。除了在云中进行数据科学分析之外，还有许多其他原因可以让您在其他地方执行您的模型。</p><p id="faa6" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如前所述，大多数商用产品都不符合这一要求。在现有解决方案的基础上增加一个简单的功能并不是一件小事。在某些情况下，允许这种分布式和异构的分析和部署环境有一些深刻的含义。我们只看一些注意事项。</p><p id="dacd" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">首先，我们必须认识到机器学习模型和完整用例之间的区别，或者像一些人喜欢称之为人工智能。机器学习模型只是被提供一组数据，并返回一个“答案”。它可以是分类任务、回归或预测任务等。但这是机器学习模型的终点。为了从模型中获得价值，人们必须将它包装在一个完整的用例中，有些人称之为人工智能。您如何可靠地获取所需的数据？你如何呈现或按照模型给出的答案行动？这些以及更多的问题需要由机器学习部署环境来回答。</p><p id="6d0d" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">认识到这一点，部署一个完整的用例首先需要做的事情之一就是访问数据。在大多数行业中，数据的来源是有限的(数据库、web 查询、csv 文件、日志文件等等)，处理它们的方式是重复的，也就是说，一旦我找到了一种处理数据库查询的方式，下一次我的大部分代码看起来都是一样的，除了查询本身。因此，数据访问应该由机器学习部署环境来促进，该环境应该提供“数据连接器”，其可以根据需要进行配置，并且部署在数据可用的地方。</p><p id="6d70" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一旦您可以访问数据，您将需要关于何时需要执行机器学习模型的“规则”:是一天一次，还是应请求…同样，有许多可能性(尽管当您开始考虑它时，许多都是相同的)，但是表达这些“规则”应该通过部署环境来促进，这样您就不必为每个用例重写新的“数据调度程序”，而只需配置一个通用的“数据调度程序”。</p><p id="eab5" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在我们有了数据，我们准备调用一个模型，对不对？没那么快。虽然有些人认为数据准备是模型的一部分，但我更愿意把它看作是一个中间步骤。你为什么会说？原因很简单，因为数据准备是一个确定性的步骤，其中不应该包含学习，而且在许多情况下，您将显著减少该步骤中的数据大小，这些数据是您可能希望存储以监控模型行为的数据。但我稍后会谈到这一点。就目前而言，只需考虑可能需要“数据简化”，而这一点不可能是通用的。您可以将它视为一个预模型，它以一种您的模型可以使用的方式格式化数据。部署环境应该有助于此类组件的打包，并提供轻松部署它们的方法(同样，在任何需要的地方)。</p><p id="2629" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们现在已经准备好执行机器学习了！您已经从数据科学活动中产生了一个模型，这个模型需要被称为。至于“数据缩减”，应该通过部署环境、打包和部署来促进“模型执行”。</p><p id="3fc2" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于那些经历过创建模型循环的人来说，你肯定会有这样的问题:但是你是如何训练这个模型的呢？所以，是的，我们可能需要一个“模型训练”组件，它也依赖于模型本身。部署环境还应该促进培训组件的使用/部署。然而，这回避了另一个重要的问题。用于训练的数据从何而来？如果模型漂移，不再准确，需要重新训练呢？您将需要数据…因此，另一个必需的组件是“数据采样”组件。我说数据采样是因为你可能不需要所有的数据，也许一些样本就足够了。这可以是由模型执行环境提供的，并根据用例进行配置。您还记得之前关于数据简化的讨论吗？嗯，只存储来自简化数据的样本可能是明智的……您可能还想存储由模型做出的相关预测。</p><p id="4ce9" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">无论如何，您将需要一个“样本数据库”，它需要根据用例配置适当的保留策略(除非您想永久保留该数据)。</p><p id="db30" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">正如我们所说，模型可能会漂移，因此数据运营团队必须监控该模型/用例。为了方便起见，应该有一个“模型监控”组件，它将从执行环境本身以及示例数据库中获取线索，这意味着您需要一种方法来配置要监视的值。</p><p id="ff14" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这些涵盖了所需的最基本的组件，但可能还需要更多。如果您要以分布式和异构的方式部署这个环境，您将需要一些“信息传输”机制或组件，以便在不同的域之间以安全和简单的方式交换信息。</p><figure class="lp lq lr ls gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lo"><img src="../Images/936882b32e3c9ae642c486647c47db70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b5vNDKplcTqeqrCLIwrTLA.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">Machine Learning Execution Environment Overview.</figcaption></figure><p id="f17c" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您还需要一个模型协调器，它会根据需要放大或缩小所有这些部分。那么模型生命周期管理、金丝雀部署或 A/B 测试呢……你看，这里需要考虑的甚至更多。</p><p id="7660" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">需要注意的一点是，即使在这个阶段，您只有模型“答案”…您仍然需要以对您的用例有用的方式使用它。也许它是一个仪表板，也许它是用来启动某个过程的……故事并没有就此结束。</p><p id="c3de" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对于我在爱立信的朋友，你可以在我写的关于这个主题的备忘录和架构文档中找到更多的信息:“走向机器学习部署环境”。对于其他人来说，如果你正在建立这样一个环境，我希望这些想法可以帮助你。</p></div><div class="ab cl lx ly hu lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="ij ik il im in"><p id="be94" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="me">封面照片由</em> <a class="ae ln" href="https://www.pexels.com/@frans-van-heerden-201846" rel="noopener ugc nofollow" target="_blank"> <em class="me">弗朗斯·范·黑尔登在佩克斯</em> </a> <em class="me">拍摄。</em></p><p id="0516" class="pw-post-body-paragraph kr ks jb kt b ku kv kc kw kx ky kf kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="me">原载于 2018 年 7 月 13 日</em><a class="ae ln" href="https://thelonenutblog.wordpress.com/2018/07/13/where-the-fk-do-i-execute-my-model/" rel="noopener ugc nofollow" target="_blank"><em class="me">【thelonenutblog.wordpress.com】</em></a><em class="me">。</em></p></div></div>    
</body>
</html>