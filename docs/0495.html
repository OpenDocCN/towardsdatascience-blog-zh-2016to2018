<html>
<head>
<title>AI Learning Gin Rummy, Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人工智能学习金拉米，第一部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/learning-gin-rummy-part-i-75aef02c94ba?source=collection_archive---------5-----------------------#2017-05-10">https://towardsdatascience.com/learning-gin-rummy-part-i-75aef02c94ba?source=collection_archive---------5-----------------------#2017-05-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="ca7b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我关于主题的<a class="ae kl" href="https://medium.com/@markfasciano/computer-gin-rummy-27-years-later-ad3c2325315c" rel="noopener">上一篇文章中，我描述并包含了一个手工构建的玩金拉米的系统的代码，该系统只考虑当前可见的牌，而不考虑对手已经捡起或埋在弃牌堆中的先前可见的牌的记忆。我的直觉是，如果你在策略中包含已知牌的历史，你应该可以玩得更好，并且可靠地击败我手工构建的策略。</a></p><p id="5ae0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">理解手牌构建策略的关键首先是手牌和游戏状态的表示，其次是手牌评估函数。</p><h2 id="6114" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">表现</h2><p id="fe5f" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">金拉米世界的表示是一个4 x 13的矩阵，对应于一副牌中的四种花色，以及花色中牌的值，从a到k。例如，拿这手(赢的)十张牌来说:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi lk"><img src="../Images/7875c823a41675ac5223f448b62bf422.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*IGtfHR3r5tDhbYGLJLxS9A.jpeg"/></div></figure><p id="c9ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将由矩阵表示(其中1表示您有该卡):</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/a16125edd6dddf4ea585ac39652109e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*NCJz6UBi14yWc5CCWH1RIA.jpeg"/></div></figure><p id="a833" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">游戏状态也是4×13矩阵，然而代替0/1，有九种状态对应于哪个玩家持有哪些牌，哪些牌已经被放在弃牌堆中，哪些牌留在库存中(面朝下的牌堆)。这些状态是:</p><pre class="ll lm ln lo gt lt lu lv lw aw lx bi"><span id="4a62" class="km kn iq lu b gy ly lz l ma mb">## Card states:          <br/>## 0 Stock         <br/>## 1 Player 0 card that was stock      <br/>## 2 Player 0 card that was discard      <br/>## 3 Player 1 card that was stock      <br/>## 4 Player 1 card that was discard      <br/>## 5 Player 0 top-discard       <br/>## 6 Player 0 discard       <br/>## 7 Player 1 top-discard       <br/>## 8 Player 1 discard       </span></pre><p id="d6c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个游戏状态的例子，玩家0刚刚用上面说明的那手牌赢了游戏:</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/22ba5d801cdc48f59a73bdbd9335b642.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*rAGYAXi2bHb1sYFQBJ1TqA.png"/></div></figure><p id="5a91" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，还有另一种表示方法，那就是股票牌的顺序(stockOrder)，它表示为一副牌中52张牌的列表，这是一个4 x 13矩阵的简化版本。游戏开始时，洗牌相当于:</p><pre class="ll lm ln lo gt lt lu lv lw aw lx bi"><span id="82bc" class="km kn iq lu b gy ly lz l ma mb">stockOrder = np.arange(52)</span></pre><h2 id="50e5" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">手动评估</h2><p id="7a95" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">手牌评估功能为手牌中的每张牌赋值，值越高的牌越有价值，有助于组成得分牌。价值较低的牌是你可以弃掉的牌。</p><p id="1380" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">手动构建的手牌评估函数背后的思想是，如果一张牌在花色中具有水平最近邻，以构成顺子得分(例如，上面手牌中的红心4到7)，则该牌获得更高的值。此外，如果一张牌有垂直的相邻牌(例如三个皇后)，它的价值也更高。</p><p id="601a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">手动构建的手牌评估函数使用卷积矩阵来评估手牌中的每张牌。</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/79435742c75b4258c23193610567f359.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*v8sV_5w3SYuBBsE56jU7Cg.png"/></div></figure><p id="89bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着，根据水平相邻的牌，增加的价值最大，而相同价值不同花色的牌也很有价值。</p><h2 id="6565" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">战略</h2><p id="1bf2" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">每回合，玩家必须做出两个决定:</p><ol class=""><li id="ea75" class="md me iq jp b jq jr ju jv jy mf kc mg kg mh kk mi mj mk ml bi translated"><strong class="jp ir">取货</strong>:你是要正面朝上的丢弃，还是正面朝下的股票卡？</li><li id="1a2e" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><strong class="jp ir">弃牌</strong>:你手里的11张牌你会弃哪张？</li></ol><p id="692c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">手工构建策略是<strong class="jp ir">拾取</strong>步骤的一个简单规则:</p><ol class=""><li id="0082" class="md me iq jp b jq jr ju jv jy mf kc mg kg mh kk mi mj mk ml bi translated">用最大弃牌评估当前手牌</li><li id="5c08" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated">如果最上面的弃牌是你手中价值最低的牌，则取牌。否则拾取丢弃。</li></ol><p id="080b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更简单的规则是<strong class="jp ir">弃牌</strong>步骤:评估你手中的11张牌，弃掉价值最低的牌。</p><h2 id="eef2" class="km kn iq bd ko kp kq dn kr ks kt dp ku jy kv kw kx kc ky kz la kg lb lc ld le bi translated">手工打造的策略有什么好的吗？</h2><p id="ddef" class="pw-post-body-paragraph jn jo iq jp b jq lf js jt ju lg jw jx jy lh ka kb kc li ke kf kg lj ki kj kk ij bi translated">在我和我的两个孩子艾娃和卢卡参加的一场非正式锦标赛中，手工打造的策略极具竞争力。这是玩金拉米游戏的最佳策略吗？大概不会。手工构建的策略有点愚蠢，因为它忽略或“忘记”了以前玩过的牌。我知道如果我的对手在收集a，我会尽量避免丢弃a。手工构建的策略不会这样做。</p><p id="cb39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我可以认真考虑一下，自己构建一个考虑历史牌的手牌评估函数的扩展，但我想开发一个自动学习这种手牌评估的系统。是时候学习人工智能技术了。下一篇<a class="ae kl" href="https://medium.com/towards-data-science/ai-learning-gin-rummy-part-ii-enter-google-tensorflow-7338ef93f2ed" rel="noopener">将会讲述我是如何接近这个</a>的。</p></div></div>    
</body>
</html>