<html>
<head>
<title>How to setup a Python Data Science environment — Setting up Anaconda environments for working on data science problems using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何设置 Python 数据科学环境—设置使用 Python 处理数据科学问题的 Anaconda 环境</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-data-science-environment-setting-up-anaconda-environments-for-working-on-data-science-8b4bfbc3cd39?source=collection_archive---------2-----------------------#2018-07-20">https://towardsdatascience.com/python-data-science-environment-setting-up-anaconda-environments-for-working-on-data-science-8b4bfbc3cd39?source=collection_archive---------2-----------------------#2018-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0c3861758d3e15dca00e3d65211b12a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JXUed7k5e1TxTZF9tmQLwQ.png"/></div></div></figure><blockquote class="jy jz ka"><p id="07bd" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="iq">最初发表于</em><a class="ae la" href="https://softwarejargon.com" rel="noopener ugc nofollow" target="_blank"><em class="iq">【softwarejargon.com】</em></a><em class="iq"><br/>在我的博客上找到这篇文章的更新版本</em><a class="ae la" href="https://softwarejargon.com/blog/python-data-science-environment-setting-up-anaconda-environments-for-working-on-data-science-problems-using-python/" rel="noopener ugc nofollow" target="_blank"><em class="iq">【https://softwarejargon.com/blog】</em></a></p></blockquote><p id="14e1" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在本文中，我将解释并展示如何使用 python 和 Anaconda 以及 PyCharm 来建立一个 Python 数据科学环境，为使用最流行的 Python 库进行机器学习/数据科学的本地实验做好准备。</p><p id="9654" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这篇文章主要针对 Mac 用户，但是，不要惊慌，我将对如何在 Windows 上实现相同的结果进行简短的评论。我自己两个都用，所以没有偏好。</p><p id="fcab" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">要求—您应该熟悉以下主题:</p><ul class=""><li id="6f3a" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated">具备 bash 命令或命令行的基本知识(取决于操作系统，Mac 或 Windows)</li></ul><p id="130e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">将安装以下软件。</p><ul class=""><li id="2e7c" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated"><a class="ae la" href="https://www.anaconda.com/what-is-anaconda/" rel="noopener ugc nofollow" target="_blank">蟒蛇</a></li><li id="87d0" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="https://www.jetbrains.com/pycharm/" rel="noopener ugc nofollow" target="_blank"> PyCharm(社区版)</a></li></ul><p id="da35" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">下面是感兴趣的 Python 库。如果您有兴趣阅读更多内容，我提供了每个库文档的链接。</p><ul class=""><li id="3dac" class="le lf iq ke b kf kg kj kk lb lg lc lh ld li kz lj lk ll lm bi translated"><a class="ae la" href="https://docs.scipy.org/doc/numpy/" rel="noopener ugc nofollow" target="_blank"> numpy </a></li><li id="b8a2" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="http://pandas.pydata.org/pandas-docs/stable/" rel="noopener ugc nofollow" target="_blank">熊猫</a></li><li id="7778" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="http://scikit-learn.org/stable/documentation.html" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a></li><li id="9c7a" class="le lf iq ke b kf ln kj lo lb lp lc lq ld lr kz lj lk ll lm bi translated"><a class="ae la" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> matplotlib </a></li></ul><h1 id="a9d9" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">安装 Anaconda</h1><p id="7135" class="pw-post-body-paragraph kb kc iq ke b kf mq kh ki kj mr kl km lb ms kp kq lc mt kt ku ld mu kx ky kz ij bi translated">Anaconda 可以从<a class="ae la" href="https://www.anaconda.com/download/" rel="noopener ugc nofollow" target="_blank">这里</a>下载。遵循安装说明。安装没有什么特别的，因此，如果你按照屏幕上的安装说明，一切都会好的。</p><h1 id="5b8b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">安装 PyCharm</h1><p id="0753" class="pw-post-body-paragraph kb kc iq ke b kf mq kh ki kj mr kl km lb ms kp kq lc mt kt ku ld mu kx ky kz ij bi translated">PyCharm 可以从<a class="ae la" href="https://www.jetbrains.com/pycharm/download/" rel="noopener ugc nofollow" target="_blank">这里</a>下载。我推荐安装社区版的 PyCharm，因为它是免费的。</p><p id="d2ec" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">至于 Anaconda 安装，同样适用于 Pycharm 安装。安装软件时按照屏幕上的说明操作，一切都会好的。</p><h1 id="2bc0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">使用 Conda CLI 创建环境</h1><p id="2ce6" class="pw-post-body-paragraph kb kc iq ke b kf mq kh ki kj mr kl km lb ms kp kq lc mt kt ku ld mu kx ky kz ij bi translated">安装 Anaconda 后，打开一个终端窗口，键入<code class="fe mv mw mx my b">conda</code>并按回车键。如果你看到类似下图的东西，那么你已经成功安装了 Anaconda 和 Conda CLI。</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/c953bd408f919e0baa2a4a4bdf951ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/0*Mw2F_ouIRMUQBIVa.png"/></div></figure><p id="8e43" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">Envs 文件夹的默认路径是<code class="fe mv mw mx my b">/Users/&lt;your user name&gt;/anaconda/envs/</code>，所有创建的环境都将放在这个文件夹中。</p><p id="6c87" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在创建一个新环境之前，我总是将 cd 放到 envs 文件夹中。所以如果你想继续 cd 到 envs 文件夹。执行以下命令。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="85a6" class="ni lt iq my b gy nj nk l nl nm">cd /Users/&lt;your user name&gt;/anaconda/envs/</span></pre><p id="b6f2" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">请记住，只有在默认目录下安装了 Anaconda，这种方法才有效。否则，导航到您的安装位置。</p><p id="2126" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">为了创建新的环境，请执行以下命令。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="bcf8" class="ni lt iq my b gy nj nk l nl nm">conda create --name TestEnv python=3</span></pre><p id="2209" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">在我们可以在新环境中安装任何新的 python 库之前，我们需要激活该环境。要激活创建的环境，请执行以下命令。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="84d0" class="ni lt iq my b gy nj nk l nl nm">conda activate TestEnv</span></pre><p id="8383" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">接下来，我们要安装四个第三方 Python 库。为此，请执行以下命令。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="4bad" class="ni lt iq my b gy nj nk l nl nm">conda install numpy pandas scikit-learn matplotlib</span></pre><p id="75c0" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">这应该会安装四个库 numpy、pandas、scikit-learn 和 matplotlib。就开始学习机器学习而言，这四个库应该会让你走得很远。</p><p id="c607" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">当库安装完成后，您可以通过启动 Python 控制台来检查一切是否正常。这是通过执行以下命令来实现的。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="e4ab" class="ni lt iq my b gy nj nk l nl nm">python</span></pre><p id="f34f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">Python 控制台启动并运行后，对四个库分别执行以下命令并按 enter 键。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="4aa0" class="ni lt iq my b gy nj nk l nl nm">&gt;&gt;&gt;import numpy <br/>&gt;&gt;&gt;import pandas <br/>&gt;&gt;&gt;import sklearn<br/>&gt;&gt;&gt;import matplotlib</span></pre><p id="7297" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果库安装正确，您应该不会得到任何错误。</p><h1 id="b4a8" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">在 PyCharm 中创建项目</h1><p id="7c35" class="pw-post-body-paragraph kb kc iq ke b kf mq kh ki kj mr kl km lb ms kp kq lc mt kt ku ld mu kx ky kz ij bi translated">现在您已经安装了 Anaconda 并创建了一个环境。现在我们想使用 PyCharm 创建一个项目，并使用创建的环境执行 Python 代码。这里我假设您已经安装了 PyCharm。</p><p id="31cc" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">首先，我们想创建一个文件夹，作为我们的项目文件夹。您可以在计算机上的任意位置创建该文件夹。我经常使用 Dropbox，因此，我所有的本地项目文件夹都是在<code class="fe mv mw mx my b">/Users/&lt;your user name&gt;/Dropbox/project_folders/</code>路径下创建的。</p><p id="d866" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">创建一个项目文件夹，例如，名为 ProjectTestEnv。</p><p id="e9b3" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">现在打开 PyCharm 点击打开。当 PyCharm 打开时，您应该会看到类似下图的内容。</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/680ec07f1e5ceb933fc3795606cf29c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/0*5mPyyc7UmMwwCNAx.png"/></div></figure><p id="dd95" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">浏览到最近创建的项目文件夹，然后单击打开。PyCharm 现在将开始一个新项目。</p><h1 id="8afc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">在 PyCharm 中为我们的项目设置解释器</h1><p id="1150" class="pw-post-body-paragraph kb kc iq ke b kf mq kh ki kj mr kl km lb ms kp kq lc mt kt ku ld mu kx ky kz ij bi translated">现在，每次我们执行 Pycharm 项目中的代码时，我们都希望代码使用我们新创建的 Conda 环境，在那里我们已经安装了我们想要使用的库。</p><p id="a039" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">当 PyCharm 完成启动新项目时，导航到“py charm”-&gt;“Preferences”。</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/7ee3c7719af371ef69fb5d09629fa407.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*9w9z3vlAeDp7yY75.png"/></div></figure><p id="d957" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">一个新窗口将会打开。选择“翻译”，点击右上角的图标，然后点击“添加…”</p><figure class="na nb nc nd gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/e41161e1e8daf16624d7290b1d869144.png" data-original-src="https://miro.medium.com/v2/resize:fit:66/format:webp/0*u-9a2bF0uhukR92H.png"/></div></figure><figure class="na nb nc nd gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/574649d07654f6c369c68941abd68b5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*KBGYdxejLSK6MKs1.png"/></div></div></figure><p id="62ec" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">一个新窗口将会打开。在这里选择“虚拟环境”，然后单击“现有环境”，然后单击包含“…”的图标。一个新窗口将会打开。在这里，您必须导航到创建的环境，例如<code class="fe mv mw mx my b">/Users/&lt;your user name&gt;/anaconda/envs/TestEnv/bin/python3</code>。现在对所有三个打开的窗口按“确定”。PyCharm 现在应该将创建的环境设置为您的项目解释器。</p><p id="f87e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">仅此而已。现在，您可以使用 PyCharm 在项目文件夹中创建 python 文件，只需右键单击文件夹概述并添加新的 python 文件。然后，您可以执行项目文件夹中的任何 python 文件，方法是右键单击该文件并选择“Run ' <your file="" name="">'”</your></p><h1 id="d244" class="ls lt iq bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">我发现最有用的 Conda 命令列表</h1><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="a4d8" class="ni lt iq my b gy nj nk l nl nm">conda create --name &lt;my environment name&gt; python=&lt;python version&gt;</span></pre><p id="9a66" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">该命令由两部分组成。第一部分<code class="fe mv mw mx my b">conda create --name</code>后面是您想要为您的环境指定的名称，它创建了 conda 环境。下一部分<code class="fe mv mw mx my b">python=3</code>指定您希望在环境中安装哪个版本的 python。通过执行<code class="fe mv mw mx my b">conda create --name TestEnv python=2.7</code>，conda CLI 将创建一个安装了 Python 2.7 的名为 TestEnv 的环境。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="9bfa" class="ni lt iq my b gy nj nk l nl nm">source activate &lt;my environment name&gt;</span></pre><p id="c14f" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">该命令激活特定的环境。如果我们已经创建了一个名为 TestEnv 的环境，我们可以通过执行下面的命令<code class="fe mv mw mx my b">source activate TestEnv</code>来激活这个环境。该命令在 Windows 上略有不同。在 Windows 上，你会写<code class="fe mv mw mx my b">activate TestEnv</code>。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="618b" class="ni lt iq my b gy nj nk l nl nm">source deactivate</span></pre><p id="4d78" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">该命令停用环境。在 Windows 上也略有不同。在 Windows 上你会写<code class="fe mv mw mx my b">deactivate</code>。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="f7d5" class="ni lt iq my b gy nj nk l nl nm">conda install &lt;library name&gt;</span></pre><p id="1bc4" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">激活已创建的环境后，您可能需要安装额外的库，除非您可以使用预安装的核心 Python 库进行管理。但是，当您需要安装第三方库时，您将希望使用上面的 Conda CLI 命令。例如，在激活环境 TestEnv 之后，您需要安装 pandas 库，这是通过执行<code class="fe mv mw mx my b">conda install pandas</code>来完成的。这将安装最新的可用熊猫图书馆版本。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="bebc" class="ni lt iq my b gy nj nk l nl nm">conda update &lt;library name&gt;</span></pre><p id="66d6" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果您在某个时候需要更新您已经安装的库，您可以通过使用上面的命令来完成。例如，您已经安装了 pandas 库，过一会儿，您需要将库更新到一个新的版本，这是通过执行<code class="fe mv mw mx my b">conda update pandas</code>来完成的。这将把熊猫图书馆更新到最新版本。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="f35c" class="ni lt iq my b gy nj nk l nl nm">conda remove --name &lt;my environment name&gt; &lt;library name&gt;</span></pre><p id="7b5d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">当您想要从激活的环境中删除已安装的库时，可以使用此命令。例如，您已经创建了环境 TestEnv 并激活了该环境，此外，您还在活动环境中安装了库 pandas。现在你需要删除图书馆熊猫。这是通过执行<code class="fe mv mw mx my b">conda remove --name TestEnv pandas</code>完成的。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="881b" class="ni lt iq my b gy nj nk l nl nm">conda remove --name &lt;my environment name&gt; --all</span></pre><p id="894d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">当您需要删除已创建的环境及其安装的第三方库时，可以使用此命令。例如，在创建环境 TestEnv 并安装库 pandas 之后。为了删除这个环境及其安装的库，您可以执行<code class="fe mv mw mx my b">conda remove --name TestEnv --all</code>。</p><pre class="na nb nc nd gt ne my nf ng aw nh bi"><span id="96f7" class="ni lt iq my b gy nj nk l nl nm">conda update</span></pre><p id="6fc9" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果需要将整个 Anaconda 安装更新到最新版本，可以执行上面的命令。</p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><p id="7164" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">如果你有兴趣了解我更多。请访问我在 LinkedIn 上的个人简介【https://www.linkedin.com/in/vedranmarkulj/ T2】</p><p id="82f5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km lb ko kp kq lc ks kt ku ld kw kx ky kz ij bi translated">感谢阅读。如果你对我将来写的关于机器学习和类似主题的帖子感兴趣，请在<a class="ae la" href="https://medium.com/@vedranmarkulj" rel="noopener">媒体</a>和<a class="ae la" href="https://www.linkedin.com/in/vedranmarkulj/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上关注我。更多文章即将发表。</p></div></div>    
</body>
</html>