<html>
<head>
<title>Time series Forecasting — ARIMA models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列预测— ARIMA 模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/time-series-forecasting-arima-models-7f221e9eee06?source=collection_archive---------1-----------------------#2018-10-03">https://towardsdatascience.com/time-series-forecasting-arima-models-7f221e9eee06?source=collection_archive---------1-----------------------#2018-10-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f07be503f5f8eccdf362d8d2903ce32a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opzxrBna63YDbd8_pM5trw.png"/></div></div></figure><p id="eb01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ARIMA 代表自回归综合移动平均线。有季节性和非季节性 ARIMA 模型可用于预测</p><blockquote class="kw kx ky"><p id="5ecc" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">非季节性 ARIMA 模型:</p></blockquote><p id="238f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种方法需要考虑三个变量</p><p id="3507" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">P =滞后时段，例如:(如果 P= 3，则我们将在计算的自回归部分使用时间序列的前三个时段)P 有助于调整预测序列的拟合线</p><p id="536f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">纯自回归模型类似于线性回归</strong>，其中预测变量是 P 个前期</p><p id="895e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">a 在 ARIMA 模型中，我们使用差分将时间序列转换为平稳序列(没有趋势或季节性的序列)。d 指时间序列达到稳定状态所需的差分变换次数。</p><p id="d2a7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平稳时间序列是指<strong class="ka ir">均值和方差在一段时间内保持不变。</strong>当数列平稳时更容易预测。</p><blockquote class="ld"><p id="fbb8" class="le lf iq bd lg lh li lj lk ll lm kv dk translated">差分是一种将非平稳时间序列转化为平稳时间序列的方法。这是为 ARIMA 模型准备数据的重要一步。</p></blockquote><p id="5f41" class="pw-post-body-paragraph jy jz iq ka b kb ln kd ke kf lo kh ki kj lp kl km kn lq kp kq kr lr kt ku kv ij bi translated">第一差值是当前时间段和先前时间段之间的差值。如果这些值不能围绕恒定的平均值和方差旋转，那么我们使用第一个差分的值找到第二个差分。我们重复这个过程，直到得到一个平稳序列</p><p id="145a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">确定序列是否充分差分的最佳方法是<strong class="ka ir">绘制差分序列，并检查是否有恒定的均值和方差。</strong></p><p id="dde6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Q =该变量表示误差分量的滞后，其中误差分量是时间序列的一部分，不能用趋势或季节性来解释</p><blockquote class="kw kx ky"><p id="201c" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">自相关函数图(ACF):</p></blockquote><p id="f2af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">自相关是指时间序列与其过去值的相关程度，而 ACF 是用于查看点之间相关性的图，直到并包括滞后单位。在 ACF 中，相关系数在 x 轴上，而滞后数在 y 轴上显示。</p><blockquote class="ld"><p id="7f89" class="le lf iq bd lg lh li lj lk ll lm kv dk translated">自相关函数图将让您了解给定的时间序列如何与其自身相关</p></blockquote><p id="b659" class="pw-post-body-paragraph jy jz iq ka b kb ln kd ke kf lo kh ki kj lp kl km kn lq kp kq kr lr kt ku kv ij bi translated">通常在 ARIMA 模型中，我们使用 AR 项或 MA 项。我们只是在极少数情况下才使用这两个术语。我们使用 ACF 图来决定在我们的时间序列中使用哪一项</p><p id="7465" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果在滞后 1 处有一个<strong class="ka ir">正自相关，那么我们使用 AR 模型</strong></p><p id="4b4c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果在滞后 1 处有一个<strong class="ka ir">负自相关，那么我们使用 MA 模型</strong></p><p id="7a55" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在绘制 ACF 图之后，我们转向部分自相关函数图(PACF)。偏相关是时间序列中的观测值与先前时间步的观测值之间关系的总结，其中插入观测值的关系已被移除。</p><blockquote class="ld"><p id="b0c1" class="le lf iq bd lg lh li lj lk ll lm kv dk translated"><em class="ls">滞后 k 处的部分自相关是在去除了由较短滞后处的项引起的任何相关的影响之后得到的相关。</em></p></blockquote><p id="8cfa" class="pw-post-body-paragraph jy jz iq ka b kb ln kd ke kf lo kh ki kj lp kl km kn lq kp kq kr lr kt ku kv ij bi translated"><strong class="ka ir">如果 PACF 曲线在滞后 n 处下降，那么使用 AR(n)模型，如果 PACF 曲线的下降更加平缓，那么我们使用 MA 项</strong></p><p id="b3df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">自回归成分:纯粹的 ar 模型仅使用过去值的组合进行预测，类似于线性回归，其中使用的 AR 项的数量与预测中考虑的以前期间的数量成正比。</p><p id="0f2a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在模型中使用 AR 术语</p><ul class=""><li id="8e49" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated">ACF 图显示自相关向零衰减</li><li id="b3d4" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">PACF 曲线很快接近零</li><li id="9833" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">平稳序列的 ACF 在滞后-1 时为正</li></ul><p id="8152" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">移动平均线:时间序列图中的随机跳跃，其影响在两个或多个连续的时间段内都能感觉到。这些跳跃代表在我们的 ARIMA 模型中计算的误差，并代表 MA 分量将滞后的情况。一个纯粹的 MA 模型会像指数平滑法一样平滑这些突然的跳跃。</p><p id="4cbf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当模型符合以下条件时，在模型中使用 MA 术语</p><ul class=""><li id="f181" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated">滞后-1 时负自相关</li><li id="1cf3" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">几个滞后之后急剧下降的 ACF</li><li id="1cbd" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">PACF 逐渐减少</li></ul><p id="7ebc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">综合成分:当时间序列不稳定时，该成分开始起作用。我们必须对级数求差以使其稳定的次数就是积分分量的参数(I 项)</p><p id="492c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以用 ARIMA(ar-term，ma-term，i-term)表示我们的模型</p><p id="8c8c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">找到正确的模型是一个迭代过程。</p><blockquote class="kw kx ky"><p id="3899" class="jy jz kz ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">季节性 ARIMA (SARIMA)款:</p></blockquote><p id="9300" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">顾名思义，当时间序列表现出季节性时，就使用这种模型。这个模型类似于 ARIMA 模型，我们只需要添加一些参数来解释季节</p><p id="8cb5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们把萨里玛写成</p><p id="9161" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> ARIMA(p，D，Q)</strong>，</p><ul class=""><li id="c917" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated">p —自回归的次数</li><li id="7fd5" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">d——差异程度</li><li id="bbe1" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">q —移动平均项的数量</li><li id="4e85" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">m —指每个季节的周期数</li><li id="e7d1" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">(P，D，Q)-表示时间序列季节性部分的(P，D，Q)</li></ul><p id="e0d3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">季节性差异考虑了季节和当前值与上一季度值的差异，例如:月份差异可能是 2018 年 5 月的值-2017 年 5 月的值。</p><ul class=""><li id="ec36" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated">在纯季节性 AR 模型中，ACF 衰减缓慢，而 PACF 截止到零</li><li id="add6" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">当季节性自相关为正时，使用 AR 模型</li><li id="8d4d" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">在纯季节性 MA 模型中，ACF 截止到零，反之亦然</li><li id="b2e2" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated">当季节性自相关为负时，使用 MA 模型</li></ul><p id="fdf1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后的步骤</p><ul class=""><li id="964e" class="lt lu iq ka b kb kc kf kg kj lv kn lw kr lx kv ly lz ma mb bi translated"><strong class="ka ir">第一步——检查平稳性:</strong>如果一个时间序列有趋势或季节性成分，在我们可以使用 ARIMA 预测之前，它必须是平稳的。。</li><li id="e938" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated"><strong class="ka ir">第二步—差分:</strong>如果时间序列不是平稳的，需要通过差分来平稳化。取第一个差值，然后检查平稳性。尽可能多地接受差异。一定要检查季节差异。</li><li id="74c2" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated"><strong class="ka ir">第三步——过滤出一个验证样本:</strong>这将用于验证我们的模型有多准确。使用列车测试验证分割来实现这一点</li><li id="ae15" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated"><strong class="ka ir">步骤 4 —选择 AR 和 MA 术语:</strong>使用 ACF 和 PACF 来决定是否包括 AR 术语、MA 术语或两者都包括。</li><li id="cc8a" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated"><strong class="ka ir">步骤 5 —建立模型:</strong>建立模型，并将预测的周期数设置为 N(取决于您的需求)。</li><li id="319c" class="lt lu iq ka b kb mc kf md kj me kn mf kr mg kv ly lz ma mb bi translated"><strong class="ka ir">步骤 6 —验证模型:</strong>将预测值与验证样本中的实际值进行比较。</li></ul><p id="5d3e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我也附上我的回购代码:))))))</p><div class="mh mi gp gr mj mk"><a href="https://github.com/Sangarshanan/Time-Series-Forecasting" rel="noopener  ugc nofollow" target="_blank"><div class="ml ab fo"><div class="mm ab mn cl cj mo"><h2 class="bd ir gy z fp mp fr fs mq fu fw ip bi translated">sangarshanan/时间序列预测</h2><div class="mr l"><h3 class="bd b gy z fp mp fr fs mq fu fw dk translated">了解时间序列预测。为 Sangarshanan/时间序列预测的发展作出贡献</h3></div><div class="ms l"><p class="bd b dl z fp mp fr fs mq fu fw dk translated">github.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my jw mk"/></div></div></a></div></div></div>    
</body>
</html>