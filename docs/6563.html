<html>
<head>
<title>Progress Bars in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的进度条</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/progress-bars-in-python-4b44e8a4c482?source=collection_archive---------3-----------------------#2018-12-19">https://towardsdatascience.com/progress-bars-in-python-4b44e8a4c482?source=collection_archive---------3-----------------------#2018-12-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="74ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就像被监视的锅永远不会沸腾一样，被监视的循环永远不会结束。当处理大型数据集时，即使是最简单的操作也会花费<em class="kl">小时</em>。进度条有助于减少数据处理工作的麻烦，因为:</p><ol class=""><li id="5426" class="km kn iq jp b jq jr ju jv jy ko kc kp kg kq kk kr ks kt ku bi translated">你会得到一个可靠的估计需要多长时间。</li><li id="a77c" class="km kn iq jp b jq kv ju kw jy kx kc ky kg kz kk kr ks kt ku bi translated">如果卡住了，你可以立即看到。</li></ol><p id="6596" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一点在商业环境中尤其有价值，有一个可靠的交货估计可以让你看起来非常专业。我发现的给 Python 代码添加进度条的最好的/唯一的方法是使用<a class="ae la" href="https://github.com/tqdm/tqdm" rel="noopener ugc nofollow" target="_blank"> tqdm </a>。虽然 tqdm 超级容易使用，但是设置起来可能有点麻烦，尤其是如果您使用<a class="ae la" href="https://jupyterlab.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> JupyterLab </a>(您完全应该这样做)。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/839018b6912aaebbf722e659901f30be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xwvLepJ3x39UGBXQvQc4jg.gif"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">tqdm in action</figcaption></figure><p id="2cc9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在仔细研究了 StackOverflow 和一些尝试和错误之后，我想我已经找到了一个让 tqdm 启动并运行的可靠方法(即使是使用 JupyterLab)！</p><h1 id="d935" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">设置 tqdm</h1><p id="c4ae" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">首先，用您选择的包管理器(pip、pipenv、anaconda 等)安装 tqdm。安装完成后，您可以运行以下命令来激活 JupyterLab 的 ipywidgets 插件，</p><pre class="lc ld le lf gt mu mv mw mx aw my bi"><span id="22bb" class="mz ls iq mv b gy na nb l nc nd">&gt; pip install ipywidgets <br/>&gt; jupyter nbextension enable --py widgetsnbextension<br/>&gt; jupyter labextension install @jupyter-widgets/jupyterlab-manager</span></pre><p id="b100" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要在笔记本中激活 tqdm，您只需添加一个单元格，</p><pre class="lc ld le lf gt mu mv mw mx aw my bi"><span id="ae25" class="mz ls iq mv b gy na nb l nc nd">%%capture<br/>from tqdm import tqdm_notebook as tqdm<br/>tqdm().pandas()</span></pre><p id="8dc6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您只是打算在脚本中使用 tqdm，那么您可以跳过这两个步骤！</p><h1 id="ce2b" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">使用 tqdm</h1><p id="ed7b" class="pw-post-body-paragraph jn jo iq jp b jq mp js jt ju mq jw jx jy mr ka kb kc ms ke kf kg mt ki kj kk ij bi translated">用<code class="fe ne nf ng mv b">tqdm()</code>包装任何 iterable 都可以得到进度条。举个例子，</p><pre class="lc ld le lf gt mu mv mw mx aw my bi"><span id="a9ab" class="mz ls iq mv b gy na nb l nc nd">my_list = list(range(100))</span><span id="344f" class="mz ls iq mv b gy nh nb l nc nd">for x in tqdm(my_list):<br/>    pass</span></pre><p id="d84d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">会给你一个(非常快的)进度条。您还可以更明确地使用 tqdm，</p><pre class="lc ld le lf gt mu mv mw mx aw my bi"><span id="6f75" class="mz ls iq mv b gy na nb l nc nd">my_list = list(range(100))</span><span id="8163" class="mz ls iq mv b gy nh nb l nc nd">with tqdm(total=len(my_list)) as pbar:<br/>    for x in my_list:<br/>        pbar.update(1)</span></pre><p id="7517" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还有一个熊猫的整合，</p><pre class="lc ld le lf gt mu mv mw mx aw my bi"><span id="1024" class="mz ls iq mv b gy na nb l nc nd">df.progress_apply(lambda x: pass)</span></pre><p id="3f9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关于使用 tqdm 的更多内容，包括嵌套进度条，请查看他们的<a class="ae la" href="https://github.com/tqdm/tqdm" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></div></div>    
</body>
</html>