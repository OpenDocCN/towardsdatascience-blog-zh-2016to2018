<html>
<head>
<title>Data Retention: Handling Data with Many Missing Values and Less Than 1000 Observations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据保留:处理带有许多缺失值和少于 1000 个观察值的数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/easy-data-science-with-r-and-python-diabetes-among-the-pima-indians-an-exploratory-analysis-d7bc321d0fa7?source=collection_archive---------7-----------------------#2018-11-06">https://towardsdatascience.com/easy-data-science-with-r-and-python-diabetes-among-the-pima-indians-an-exploratory-analysis-d7bc321d0fa7?source=collection_archive---------7-----------------------#2018-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ad9e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">当前项目中使用的数据包含皮马印第安人后裔妇女中二型糖尿病的一些诊断方法，以及该个体是否患有二型糖尿病。数据集是在(<a class="ae ko" href="https://www.kaggle.com/uciml/pima-indians-diabetes-database" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/uciml/pima-indians-diabetes-database</a>)从 Kaggle 获得的。总共有 768 个观察值和 9 个变量。数据集中的变量有:</p><ul class=""><li id="1094" class="kp kq it js b jt ju jx jy kb kr kf ks kj kt kn ku kv kw kx bi translated">怀孕</li><li id="768d" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">葡萄糖——2 小时口服葡萄糖耐量试验后的血浆葡萄糖浓度。</li><li id="341c" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">血压——舒张压(毫米/汞柱)。</li><li id="ad26" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">皮肤厚度——三头肌的皮褶厚度(毫米)。</li><li id="9afc" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">胰岛素— 2 小时血清胰岛素(μU/ml)。</li><li id="46ae" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">身体质量指数——身体质量指数(千克/平方米)</li><li id="962a" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">DiabetesPedigreeFunction——基于家族史确定二型糖尿病风险的函数，函数越大，二型糖尿病风险越高。</li><li id="9f7d" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">年龄。</li><li id="1000" class="kp kq it js b jt ky jx kz kb la kf lb kj lc kn ku kv kw kx bi translated">结果—此人是否被诊断为二型糖尿病(1 =是，0 =否)。</li></ul><h1 id="1fb9" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">预处理</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a435" class="mk le it mg b gy ml mm l mn mo">library(readr) <br/>library(tidyverse) <br/>library(dplyr) <br/>library(knitr) <br/></span></pre><h1 id="1ccc" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">概观</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="31b8" class="mk le it mg b gy ml mm l mn mo">glimpse(Diabetes)</span><span id="5a3f" class="mk le it mg b gy mp mm l mn mo">Observations: 768 Variables: 9 <br/>$ Pregnancies &lt;int&gt; 6, 1, 8, 1, 0, 5, 3, 10, 2, 8, 4... <br/>$ Glucose &lt;int&gt; 148, 85, 183, 89, 137, 116, 78, ... <br/>$ BloodPressure &lt;int&gt; 72, 66, 64, 66, 40, 74, 50, 0, 7... <br/>$ SkinThickness &lt;int&gt; 35, 29, 0, 23, 35, 0, 32, 0, 45,... <br/>$ Insulin &lt;int&gt; 0, 0, 0, 94, 168, 0, 88, 0, 543,... <br/>$ BMI &lt;dbl&gt; 33.6, 26.6, 23.3, 28.1, 43.1, 25... <br/>$ DiabetesPedigreeFunction &lt;dbl&gt; 0.627, 0.351, 0.672, 0.167, 2.28... $ Age &lt;int&gt; 50, 31, 32, 21, 33, 30, 26, 29, ... <br/>$ Outcome &lt;int&gt; 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 0,...</span></pre><h1 id="4549" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">类型转换</h1><h2 id="bcfd" class="mk le it bd lf mq mr dn lj ms mt dp ln kb mu mv lr kf mw mx lv kj my mz lz na bi translated">因素</h2><p id="04dc" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">结果变量需要转换成分类变量。在不久的将来，它将被订购用于分析目的。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="26a9" class="mk le it mg b gy ml mm l mn mo">Diabetes$Outcome &lt;- as.factor(unlist(Diabetes$Outcome)) </span><span id="c5a9" class="mk le it mg b gy mp mm l mn mo">Diabetes$Outcome &lt;- factor(Diabetes$Outcome, levels=c("1", "0"),           labels = c("Positive", "Negative")) </span><span id="21a0" class="mk le it mg b gy mp mm l mn mo">summary(Diabetes$Outcome)</span><span id="f799" class="mk le it mg b gy mp mm l mn mo">Positive Negative 268 500</span></pre><p id="e99d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以看到没有患糖尿病的人几乎是患糖尿病的人的两倍。虽然目标变量的行数没有统一的界限，但这应该足够了。</p><p id="940a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们只需要确保你的模型有足够的数据来学习如何区分这两者。</p><h2 id="6ea1" class="mk le it bd lf mq mr dn lj ms mt dp ln kb mu mv lr kf mw mx lv kj my mz lz na bi translated">数字的</h2><p id="6c96" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">以下变量:</p><p id="4292" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">* Glucose</code></p><p id="92c4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">* BloodPressure</code></p><p id="f45f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">* SkinThickness</code></p><p id="2fed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">* Insulin</code></p><p id="b21f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">* BMI</code></p><p id="13e0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">需要从其当前整数类转换为数值变量。这些变量具有十进制值，如果没有这些值，可能会产生误导性的结果，并扭曲这些医学测试所代表的特定风险范围。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="9623" class="mk le it mg b gy ml mm l mn mo">Diabetes$Glucose &lt;- as.numeric(Diabetes$Glucose) Diabetes$BloodPressure &lt;- as.numeric(Diabetes$BloodPressure) Diabetes$SkinThickness &lt;- as.numeric(Diabetes$SkinThickness) Diabetes$Insulin &lt;- as.numeric(Diabetes$Insulin) Diabetes$BMI &lt;- as.numeric(Diabetes$BMI) Diabetes$Age &lt;- as.integer(Diabetes$Age)</span></pre><h1 id="c62c" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">处理缺失值</h1><p id="18ea" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">数据集中 6/9 的变量有许多零标记。在分别对每一列和每一行求和后，数据集中似乎有 763 个零值。令人担忧的是，这几乎代表了我们 100%的观察结果。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="35ed" class="mk le it mg b gy ml mm l mn mo">list( Column = colSums(Diabetes==0), <br/>        Row = sum(rowSums(Diabetes==0)) )</span><span id="f35d" class="mk le it mg b gy mp mm l mn mo">$Column <br/>Pregnancies 111<br/>Glucose 5 <br/>BloodPressure 35 <br/>SkinThickness 227 <br/>Insulin 374 <br/>BMI 11 <br/>DiabetesPedigreeFunction 0<br/>Age 0 <br/>Outcome 0 </span><span id="308e" class="mk le it mg b gy mp mm l mn mo">$Row <br/>[1] 763</span></pre><h1 id="90ca" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">怀孕</h1><p id="56e2" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">值“0”不一定意味着它是缺失值。例如:<em class="ng">一名妇女的怀孕记录为零，因为这名妇女没有怀孕。</em></p><p id="a3ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这是一个例子，说明在对数据进行丢失值的预处理时，您必须非常小心。零不代表它不见了。然而，除了这一点，零值在传递给机器学习模型时可能会产生问题。当变量为零时，像回归这样的技术可以给你一个输出的估计。另一种处理零的方法是绑定变量，然后创建一个分类变量。</p><p id="1e53" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">Diabetes$Pregnancies &lt;- ifelse(Diabetes$Pregnancies==0, "No", "Yes") %&gt;% factor()</code></p><blockquote class="nk nl nm"><p id="ec98" class="jq jr ng js b jt ju jv jw jx jy jz ka nn kc kd ke no kg kh ki np kk kl km kn im bi translated"><code class="fe nh ni nj mg b">summary(Diabetes$Pregnancies)</code></p><p id="5f36" class="jq jr ng js b jt ju jv jw jx jy jz ka nn kc kd ke no kg kh ki np kk kl km kn im bi translated"><code class="fe nh ni nj mg b">No Yes 111 657</code></p></blockquote><h1 id="619f" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">胰岛素</h1><p id="abb6" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">胰岛素中 50%的行具有 0 值。让我们从实际的角度来看它。有时身体产生很少或没有胰岛素，这是 1 型糖尿病的一个迹象。但我怀疑这一次是不是这样。胰岛素对于糖尿病来说是一个非常重要的变量，但是当一个变量充满了缺失值时，你就必须采取措施了。你可以只是估算这些值，但这是医学数据，有一半的值是缺失的。在我看来，仅仅用它的意思来估算行是不合适的。这就是为什么再重要也要<strong class="js iu">去掉</strong>的原因。这是你需要做出艰难抉择的时候之一。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="cbfd" class="mk le it mg b gy ml mm l mn mo">Diabetes$Insulin &lt;- NULL </span></pre><h1 id="45c0" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">表皮厚度</h1><p id="9ebf" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">对于<code class="fe nh ni nj mg b">SkinThickness</code>也可以这么说。31%的行的值为 0。实际上，一个人怎么可能有 0 毫米厚的皮褶。这个变量也没有给我们太多的用处。因此，我也将删除这个变量。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="7bf0" class="mk le it mg b gy ml mm l mn mo">Diabetes$SkinThickness &lt;- NULL </span></pre><h1 id="8ad2" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">身体质量指数</h1><p id="b8f4" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">身体质量指数可以补充其各自的肥胖标准范围。身体质量指数只有 11 0 个值，所以预计不会引起太多麻烦。如果它高得多，宁滨不会真正解决问题，因为分配的 bin 可能不是正确的 bin。</p><p id="e60d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><code class="fe nh ni nj mg b">Diabetes$BMI &lt;- ifelse(Diabetes$BMI&lt;19,"Underweight", ifelse(Diabetes$BMI&gt;=19 &amp; Diabetes$BMI&lt;=25, "Normal", ifelse(Diabetes$BMI&gt;=25 &amp; Diabetes$BMI&lt;=30, "Overweight","Obese"))) %&gt;% factor(levels=c("Underweight","Normal", "Overweight","Obese"))</code></p><blockquote class="nk nl nm"><p id="44f7" class="jq jr ng js b jt ju jv jw jx jy jz ka nn kc kd ke no kg kh ki np kk kl km kn im bi translated"><code class="fe nh ni nj mg b">list(BMI = summary(Diabetes$BMI))</code></p><p id="0574" class="jq jr ng js b jt ju jv jw jx jy jz ka nn kc kd ke no kg kh ki np kk kl km kn im bi translated"><code class="fe nh ni nj mg b">$BMI Underweight Normal Overweight Obese <br/> 15 108 180 465</code></p></blockquote><p id="12dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在我看到<code class="fe nh ni nj mg b">Underweight</code>有 15 行，这意味着有 15 行的身体质量指数小于 19，并且知道<code class="fe nh ni nj mg b">BMI</code>有 11 个零值，我们知道大多数行都是零。因为太少了，所以我选择留着它。此外，我们已经删除了两个变量，我想保留尽可能多的数据，同时确保它可以增加价值。</p><h1 id="8112" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">葡萄糖</h1><p id="4988" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">对于 2 小时的“口服葡萄糖耐量试验”(OGTT)，如果在进行该试验 2 小时后，患者的水平低于 7.8 mmol/L，则认为患者没有糖尿病。为了对葡萄糖耐量水平进行分类，我们将使用以下标准:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="1f75" class="mk le it mg b gy ml mm l mn mo">* Hypoglycemia (Low Blood Sugar) - &lt;2.2 mmol/L <br/>* Normal/No Diabetes - &gt;=2.2 mmol/L - &lt;=7.8mmol/L <br/>* Prediabetes (Hyperglycemia / High Blood Sugar) - &gt;7.8 mmol/L - &lt;=11.1 mmol/L <br/>* Diabetes - &gt;11.1 mmol/L</span></pre><p id="4461" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">虽然其中一个级别说此人患有糖尿病，但这不是最终的糖尿病。其他因素也必须考虑在内。为了避免误导，这里的“糖尿病”是指 ANME 的检测结果，而不是二型糖尿病的最终诊断结果</strong></p><p id="5b95" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">该数据集中 2 小时 OGTT 的测量单位假定为毫克/分升(mg/dl)。它可以转换成毫摩尔每升(mmol/l ),这样我们就可以将定性测试结果应用于数值结果。将当前结果乘以 0.0555 会将其转换为以毫摩尔/升为单位进行测量。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="6990" class="mk le it mg b gy ml mm l mn mo">Diabetes$Glucose &lt;- Diabetes$Glucose*0.0555</span><span id="0c62" class="mk le it mg b gy mp mm l mn mo">Diabetes$Glucose &lt;- if_else(Diabetes$Glucose&lt;2.2,"Hypoglycemia", if_else(Diabetes$Glucose&gt;=2.2 &amp; Diabetes$Glucose&lt;=7.8,"Normal", if_else(Diabetes$Glucose&gt;7.8 &amp; Diabetes$Glucose&lt;=11.1, "Hyperglycemia","Diabetes"))) %&gt;% factor()</span><span id="3a8e" class="mk le it mg b gy mp mm l mn mo">list( `Test Result` = summary(Diabetes$Glucose) )</span><span id="07ca" class="mk le it mg b gy mp mm l mn mo">$`Test Result` <br/>Hyperglycemia Hypoglycemia Normal <br/>   192           5          571</span></pre><p id="66a1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">似乎 74%的参与者具有正常的葡萄糖水平，25%的参与者具有糖尿病前期/高血糖症/高血糖。只有 1%的人有低血糖症。</p><p id="c1a9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我对低血糖的主要担忧是，当我通过机器学习过程时，该水平可能不会在 k 倍交叉验证中出现。在这一点上我不能肯定地说，但这是值得注意的，并在未来牢记在心。</p><h1 id="a3c3" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">血压</h1><p id="d811" class="pw-post-body-paragraph jq jr it js b jt nb jv jw jx nc jz ka kb nd kd ke kf ne kh ki kj nf kl km kn im bi translated">测量血压时，使用两种方法:</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="8c50" class="mk le it mg b gy ml mm l mn mo"><em class="ng">* Systolic - Measures the pressure in blood vessels when the heart beats. <br/>* Diastolic - Measures the pressure in blood vessels when the heart rests between beats.</em></span></pre><p id="a1d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在该数据集中，仅报告了舒张压。这要求我们谨慎行事。</p><p id="1a6b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">据疾病控制和预防中心报道，血压是用心脏收缩和心脏舒张单位来测量的。当它们被报道时，我们可以作出如下推论:</p><ul class=""><li id="e868" class="kp kq it js b jt ju jx jy kb kr kf ks kj kt kn ku kv kw kx bi translated">常态</li></ul><p id="1904" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">收缩压&lt; 120mmHg，</em></p><p id="4e46" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">舒张压&lt; 80mmHg </em></p><ul class=""><li id="5b0c" class="kp kq it js b jt ju jx jy kb kr kf ks kj kt kn ku kv kw kx bi translated">高血压前期</li></ul><p id="124c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">收缩压&gt; =120mmHg — &lt; =139mmHg </em></p><p id="2569" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">舒张压&gt; =80 — &lt; =89mmHg </em></p><ul class=""><li id="bd25" class="kp kq it js b jt ju jx jy kb kr kf ks kj kt kn ku kv kw kx bi translated">高的</li></ul><p id="06ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">收缩压:&gt; =140mmHg </em></p><p id="a2ac" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ng">舒张压:&gt; =90mmHg </em></p><p id="654f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">因为没有报道收缩压，所以我对这个变量感到不舒服。这是我的主观决定。</p><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="a7ae" class="mk le it mg b gy ml mm l mn mo">Diabetes$BloodPressure &lt;- NULL</span></pre><h1 id="84af" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">数字变量的可视化</h1><h1 id="e246" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">年龄</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="9a8f" class="mk le it mg b gy ml mm l mn mo">ggplot(Diabetes, aes(y=Age, x=Outcome)) + <br/>geom_boxplot() + geom_jitter()+ theme_bw() + <br/>xlab("Outcome") + ylab("Age") + <br/>stat_summary(fun.y=mode, colour="Orange", geom="point", shape=16, size=5) + <br/>stat_summary(fun.y=mean, colour="purple", geom="point", shape=16, size=5) + <br/>ggtitle(label="Age by Outcome", subtitle = "Orange=Most Frequent\nPurple=Average Age") + <br/>theme(axis.text.x = element_text(face="bold",size=12), axis.text.y =       element_text(face="bold",size=12), title = element_text(face="bold",size=12), axis.title = element_text(face="bold",size=12)) + scale_y_continuous(breaks=seq(20,80,4))</span></pre><figure class="mb mc md me gt nr gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nq"><img src="../Images/aabac1911f699be7dab2555ae9a2f2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9ZY8zC8gWDviZm3C.png"/></div></div></figure><p id="969f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个变量中似乎有很多噪声。患糖尿病的年龄没有明显的区别。</p><h1 id="a82b" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">糖尿病谱系功能</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="9983" class="mk le it mg b gy ml mm l mn mo">ggplot(Diabetes, aes(y=DiabetesPedigreeFunction, x=Outcome)) + geom_boxplot() + geom_jitter()+ <br/>theme_bw() + xlab("Outcome") + ylab("DiabetesPedigreeFunction") + stat_summary(fun.y=mode, colour="orange", geom="point", shape=16, size=5) + <br/>stat_summary(fun.y=mean, colour="purple", geom="point", shape=16, size=5) + ggtitle(label="Diabetes Pedigree Function by Outcome", subtitle = "Orange=Most Frequent\nPurple=Average Age") + theme(axis.text.x = element_text(face="bold",size=12), axis.text.y = element_text(face="bold",size=12), title = element_text(face="bold",size=12), axis.title = element_text(face="bold",size=12)) + scale_y_continuous(breaks=seq(0,3,0.5))</span></pre><figure class="mb mc md me gt nr gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nq"><img src="../Images/03a39476cf926a5d2460fce2fc43b566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y26WlSQ0O1cHgn3Wm5Md6Q.png"/></div></div><figcaption class="ny nz gj gh gi oa ob bd b be z dk">Scatter Plot of the Diabetes Pedigree Function with the average and most frequent amount</figcaption></figure><p id="5c29" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有趣的是，<code class="fe nh ni nj mg b">Diabetes Pedigree Function</code>似乎没有给出糖尿病结果的清晰图像。这应该是一个分数，分数越高，你越有可能患有糖尿病。这也是一个有很多噪音的变量。</p><h1 id="6b88" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">分类变量(占结果的百分比)</h1><h1 id="53c2" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">怀孕</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="eeb3" class="mk le it mg b gy ml mm l mn mo">(pregnant &lt;- table(Diabetes$Pregnancies, Diabetes$Outcome, dnn = c("Pregnant", "Outcome")) )</span><span id="51a1" class="mk le it mg b gy mp mm l mn mo">               Outcome <br/>Pregnant  Positive Negative  <br/>No         38       73<br/>Yes        230     427</span><span id="e87a" class="mk le it mg b gy mp mm l mn mo">pregnant %&gt;% prop.table(2) %&gt;% round(2) %&gt;% kable(format = 'html')</span><span id="6a4b" class="mk le it mg b gy mp mm l mn mo">      Positive Negative  <br/>No      0.14    0.15 <br/>Yes     0.86    0.85</span></pre><p id="b444" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">怀孕似乎并不一定会增加患糖尿病的几率，因为患或没患糖尿病的女性中至少有一次怀孕的比例是相同的。</p><h1 id="950b" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">肥胖</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="563a" class="mk le it mg b gy ml mm l mn mo">(bmi &lt;- table(Diabetes$BMI, Diabetes$Outcome, dnn = c("BMI", "Outcome")) )</span><span id="600b" class="mk le it mg b gy mp mm l mn mo">                  Outcome <br/>BMI           Positive Negative <br/>Underweight      2      13 <br/>Normal           7      101 <br/>Overweight       44     136 <br/>Obese           215     250</span><span id="40b1" class="mk le it mg b gy mp mm l mn mo">bmi %&gt;% prop.table(2)%&gt;% round(2) %&gt;% kable(format = 'html')</span><span id="ba23" class="mk le it mg b gy mp mm l mn mo">               Positive  Negative <br/>Underweight      0.01       0.03 <br/>Normal           0.03       0.20 <br/>Overweight       0.16       0.27 <br/>Obese            0.80       0.50</span></pre><p id="63ab" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">毫不奇怪，80%的糖尿病女性肥胖，16%超重。据报道，只有 3%的人体重正常。在没有糖尿病的女性中，50%肥胖，27%超重，20%正常。</p><h1 id="10a0" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">葡萄糖</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="bf09" class="mk le it mg b gy ml mm l mn mo">(glucose &lt;- table(Diabetes$Glucose, Diabetes$Outcome, dnn = c("Glucose Level", "Outcome")) )</span><span id="77be" class="mk le it mg b gy mp mm l mn mo">                     Outcome <br/>Glucose Level    Positive Negative <br/>Hyperglycemia      132       60 <br/>Hypoglycemia        2         3 <br/>Normal             134       437</span><span id="a978" class="mk le it mg b gy mp mm l mn mo">glucose %&gt;% prop.table(2) %&gt;% round(2) %&gt;% kable(format = 'html')</span><span id="3327" class="mk le it mg b gy mp mm l mn mo">                Positive Negative <br/>Hyperglycemia     0.49     0.12 <br/>Hypoglycemia      0.01     0.01 <br/>Normal            0.50      0.87</span></pre><p id="8423" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">49%的女性糖尿病患者高血糖呈阳性，50%的女性血糖水平正常。令人惊讶的是，葡萄糖水平似乎不能清楚地区分糖尿病患者。显然，高血糖症患者更有可能患有糖尿病，但根据上表，其程度非常低。</p><p id="f14c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不出所料，87%没有糖尿病的女性血糖水平正常。</p><h1 id="6984" class="ld le it bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">最终数据</h1><pre class="mb mc md me gt mf mg mh mi aw mj bi"><span id="6b22" class="mk le it mg b gy ml mm l mn mo">summary(Diabetes)</span><span id="8b4c" class="mk le it mg b gy mp mm l mn mo">Pregnancies <br/> No :111<br/> Yes:657</span><span id="39fd" class="mk le it mg b gy mp mm l mn mo">Glucose <br/> Hyperglycemia:192<br/> Hypoglycemia : 5<br/> Normal :571</span><span id="60fd" class="mk le it mg b gy mp mm l mn mo">BMI <br/>Underweight: 15 <br/>Normal :108 <br/>Overweight :180 <br/>Obese :465 </span><span id="bbad" class="mk le it mg b gy mp mm l mn mo">DiabetesPedigreeFunction <br/> Min. :0.0780<br/> 1st Qu.:0.2437<br/> Median :0.3725<br/> Mean :0.4719<br/> 3rd Qu.:0.6262<br/> Max. :2.4200</span><span id="60b0" class="mk le it mg b gy mp mm l mn mo">Age <br/> Min. :21.00<br/> 1st Qu.:24.00<br/> Median :29.00<br/> Mean :33.24<br/> 3rd Qu.:41.00<br/> Max. :81.00</span><span id="f7cf" class="mk le it mg b gy mp mm l mn mo"><br/>Outcome <br/> Positive:268 <br/> Negative:500 </span></pre><p id="a7cc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我接下来的文章中，我使用这个数据集来创建一个决策树分类器。</p><blockquote class="nk nl nm"><p id="2206" class="jq jr ng js b jt ju jv jw jx jy jz ka nn kc kd ke no kg kh ki np kk kl km kn im bi translated">如果您有任何问题或顾虑，请发表评论进行讨论，我邀请任何对此感兴趣的人加入。谢谢你</p></blockquote></div><div class="ab cl oc od hx oe" role="separator"><span class="of bw bk og oh oi"/><span class="of bw bk og oh oi"/><span class="of bw bk og oh"/></div><div class="im in io ip iq"><p id="636c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">原文可以在我的博客中找到:<a class="ae ko" href="https://easydsrp.com/posts/2018-11-06-diabetes-among-the-pima-indians-an-exploratory-analysis/" rel="noopener ugc nofollow" target="_blank">用 R 和 Python 实现简单的数据科学</a></p></div></div>    
</body>
</html>