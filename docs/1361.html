<html>
<head>
<title>Data Science Simplified Part 9: Interactions and Limitations of Regression Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学简化版第9部分:回归模型的相互作用和局限性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-science-simplified-part-9-interactions-and-limitations-of-regression-models-4702dff03820?source=collection_archive---------6-----------------------#2017-08-27">https://towardsdatascience.com/data-science-simplified-part-9-interactions-and-limitations-of-regression-models-4702dff03820?source=collection_archive---------6-----------------------#2017-08-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/48f488b643e51d812bc1af6c8115da2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2-591EYWaqrNEYCEnbD9Gw.png"/></div></div></figure><p id="077a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本系列的最后几篇博文中，我们详细讨论了回归模型。费尔南多建立了一个多元回归模型。该模型采用以下形状:</p><blockquote class="kw"><p id="bcae" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">价格= -55089.98 + 87.34 </em>发动机尺寸+ 60.93 <em class="lg">马力+ 770.42 </em>宽度</p></blockquote><p id="8999" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">该模型预测或估计价格(目标)，作为发动机尺寸、马力和宽度(预测值)的函数。</p><p id="b8fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">回想一下，多元回归模型假设独立预测因子之间是独立的。它将马力、发动机尺寸和宽度视为不相关。</p><p id="bf47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">实际上，变量很少是独立的。</p><blockquote class="kw"><p id="e64a" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">如果马力、发动机尺寸和宽度之间有关系呢？这些关系可以建模吗？</em></p></blockquote><p id="f64d" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">这篇博文将回答这个问题。它将解释互动的概念。</p><h1 id="7990" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">概念:</h1><p id="9d3b" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">预测值之间的独立性意味着如果一个预测值发生变化，它会对目标产生影响。这种影响与其他预测因子的存在或变化无关。目标和预测值之间的关系是加性和线性的。</p><p id="a860" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们举个例子来说明一下。费尔南多的方程式是:</p><blockquote class="kw"><p id="3936" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><strong class="ak"> <em class="lg">价格= -55089.98 + 87.34发动机尺寸+ 60.93马力+ 770.42宽度</em> </strong></p></blockquote><p id="5961" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">它被解释为<em class="mp">发动机尺寸的单位变化使价格变化87.34美元。</em></p><p id="eeeb" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这种解释从来没有考虑到发动机的尺寸可能与汽车的宽度有关。</p><p id="44fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="mp">难道不能是车越宽，发动机越大吗？</em>T15】</strong></p><p id="3305" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第三个预测值捕捉引擎和宽度之间的相互作用。这个第三预测值被称为<strong class="ka ir"> <em class="mp">相互作用项。</em>T19】</strong></p><p id="a06c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于发动机尺寸和宽度之间的相互作用项，回归模型具有以下形状:</p><blockquote class="kw"><p id="7ff3" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">价格= β0 + β1。发动机尺寸+ β2。马力+ β3。宽度+ β4。(发动机尺寸。宽度)</em></p></blockquote><p id="14ee" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">方程的部分<em class="mp"> (β1。发动机尺寸+ β3。宽度)</em>称为<strong class="ka ir">主效果。</strong></p><p id="8fcf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">术语<strong class="ka ir">发动机尺寸x宽度</strong>是相互作用术语。</p><p id="2025" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这个术语如何描述发动机尺寸和宽度之间的关系？我们可以将这个等式重新排列为:</p><blockquote class="kw"><p id="65cc" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">价格= β0 + (β1 + β4。宽度)发动机尺寸+ β2。马力+ β3。宽度</em></p></blockquote><p id="7e1e" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">现在，β4可以解释为宽度增加1个单位对发动机尺寸的影响。</p><h1 id="7ca4" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">模型构建:</h1><p id="5bcc" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">费尔南多将这些数据输入他的统计包。该包计算参数。输出如下所示:</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/ec14c1872bc0cf6884d83ea262efbb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j8R1gGeGw5lFCz2s."/></div></div></figure><p id="ca2d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">等式变为:</p><blockquote class="kw"><p id="15d5" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">价格= 51331.363–1099.953 x发动机尺寸+ 45.896 x马力— 744.953 x宽度+ 17.257 x发动机尺寸:宽度</em></p><p id="a45f" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">价格= 51331.363—(1099.953–17.257 x宽度)发动机尺寸+ 45.896 x马力— 744.953 x宽度</em></p></blockquote><p id="e95f" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">让我们来解释这些系数:</p><ul class=""><li id="0ae0" class="mv mw iq ka b kb kc kf kg kj mx kn my kr mz kv na nb nc nd bi translated">发动机尺寸、马力和发动机尺寸:宽度(交互项)是重要的。</li><li id="897f" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">汽车的宽度并不重要。</li><li id="e9ad" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">发动机尺寸增加1个单位，价格降低1099.953美元。</li><li id="daa3" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">马力增加1单位，价格增加45.8美元。</li><li id="e682" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">相互作用项是重要的。这意味着真正的关系不是相加的。</li><li id="77b2" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">发动机尺寸增加1个单位，价格也会增加(1099.953–17.257 x宽度)。</li><li id="464b" class="mv mw iq ka b kb ne kf nf kj ng kn nh kr ni kv na nb nc nd bi translated">测试数据的校正r平方为0.8358 = &gt;该模型解释了83.5%的变化。</li></ul><p id="7689" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">注意，汽车的宽度并不重要。那么将其纳入模型有意义吗？</p><p id="0142" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里出现了一个叫做<strong class="ka ir"><em class="mp"/></strong><strong class="ka ir">的等级原则。</strong></p><blockquote class="kw"><p id="d101" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><strong class="ak"> <em class="lg">分层原则:</em> </strong> <em class="lg">当交互包含在模型中时，主特效也需要包含在模型中。即使单个变量在模型中不显著，也需要包括主要影响。</em></p></blockquote><p id="82c5" class="pw-post-body-paragraph jy jz iq ka b kb lh kd ke kf li kh ki kj lj kl km kn lk kp kq kr ll kt ku kv ij bi translated">Fernando现在运行模型，并根据测试数据测试模型性能。</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/d873dd183d85b6f2483fbcd9dd618015.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*honnN_mtiEAKsyUG."/></div></div></figure><p id="bf01" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该模型在测试数据集上表现良好。测试数据的调整后r平方为0.8175622 = &gt;该模型解释了81.75%的未知数据变化。</p><p id="c2fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">费尔南多现在有一个最优模型来预测汽车价格和购买汽车。</p><h1 id="5781" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">回归模型的局限性</h1><p id="f74a" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">回归模型是数据科学的主力。这是数据科学家工具箱中的一个神奇工具。当被有效利用时，他们在解决许多现实生活中的数据科学问题方面表现惊人。然而，它们也有其局限性。简单解释了回归模型的三个局限性:</p><h1 id="f569" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj bi translated">非线性关系:</h1><p id="b5e9" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">线性回归模型假设变量之间是线性的。如果关系不是线性的，那么线性回归模型可能不会如预期的那样执行。</p><blockquote class="kw"><p id="014f" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">实用提示:使用log等变换将非线性关系转换为线性关系</em></p></blockquote><h1 id="523d" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx nj lz ma mb nk md me mf nl mh mi mj bi translated">多重共线性:</h1><p id="4dc6" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">共线性是指两个预测变量相互关联的情况。当有许多预测因子并且这些预测因子之间存在相关性时，称为多重共线性。如果预测值彼此相关，那么特定预测值对目标的影响就很难被隔离。</p><blockquote class="kw"><p id="e918" class="kx ky iq bd kz la lb lc ld le lf kv dk translated">实用提示:通过仔细选择预测器使模型更简单。限制选择过多的相关预测因子。或者，使用像主成分这样的技术来创造新的不相关变量。</p></blockquote><h1 id="a503" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx nj lz ma mb nk md me mf nl mh mi mj bi translated">异常值的影响:</h1><p id="9871" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">异常值是指远离模型预测值的点。如果目标变量中有异常值，模型会被拉伸以适应它们。对少数异常点进行了过多的模型调整。这使得模型偏向异常值。这对大多数人来说都没有什么好处。</p><blockquote class="kw"><p id="4993" class="kx ky iq bd kz la lb lc ld le lf kv dk translated"><em class="lg">实用提示:去除建模中的离群点。如果目标中有太多的异常值，可能需要多个模型。</em></p></blockquote><h1 id="e81c" class="lm ln iq bd lo lp lq lr ls lt lu lv lw lx nj lz ma mb nk md me mf nl mh mi mj bi translated">结论:</h1><p id="cc11" class="pw-post-body-paragraph jy jz iq ka b kb mk kd ke kf ml kh ki kj mm kl km kn mn kp kq kr mo kt ku kv ij bi translated">这是一段不平凡的旅程。在最近几篇博文中，<a class="ae nm" href="https://datascientia.blog/2017/08/06/data-science-simplified-part-4-simple-linear-regression-models/" rel="noopener ugc nofollow" target="_blank">简单线性回归模型</a>被解释。然后我们又涉猎了<a class="ae nm" href="https://datascientia.blog/2017/08/06/datascience-simplified-part-5-multivariate-regression-models/" rel="noopener ugc nofollow" target="_blank">多元回归模型</a>。<a class="ae nm" href="https://datascientia.blog/2017/08/09/dss-model-selection-methods/" rel="noopener ugc nofollow" target="_blank">对型号选择方法</a>进行了探讨。处理<a class="ae nm" href="https://datascientia.blog/2017/08/19/dss8-qual-var/" rel="noopener ugc nofollow" target="_blank">定性变量</a>和交互作用也进行了讨论。</p><p id="b4b1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在本系列的下一篇文章中，我们将讨论另一种监督学习模型:分类。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><p id="2f6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="mp">原载于2017年8月27日</em><a class="ae nm" href="https://datascientia.blog/2017/08/27/dss-p9-interactions/" rel="noopener ugc nofollow" target="_blank"><em class="mp">datascientia . blog</em></a><em class="mp">。</em></p></div></div>    
</body>
</html>