<html>
<head>
<title>A new plot theme for Matplotlib — Gadfly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Matplotlib 的新情节主题——牛虻</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-new-plot-theme-for-matplotlib-gadfly-2cffc745ff84?source=collection_archive---------6-----------------------#2018-09-24">https://towardsdatascience.com/a-new-plot-theme-for-matplotlib-gadfly-2cffc745ff84?source=collection_archive---------6-----------------------#2018-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8799b348d86d0584707526df2e63652d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*swPzVFGpYdijWAmbrydCDw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Sample plots from the new plotting theme inspired by the Gadfly plotting package for the Julia programming language</figcaption></figure><h1 id="efb0" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">介绍</h1><p id="290c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我为<a class="ae ly" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>制作了一个绘图主题，灵感来自于<a class="ae ly" href="http://gadflyjl.org/stable/" rel="noopener ugc nofollow" target="_blank">牛虻</a>中为<a class="ae ly" href="https://julialang.org/" rel="noopener ugc nofollow" target="_blank"> Julia 编程语言</a>使用的默认绘图主题。通常我会用 Julia 写代码，这也是我在以前的博客文章中所做的。然而，自从升级到朱莉娅 1.0 版，我已经无法导入牛虻，这意味着没有更多漂亮的牛虻情节。所以我对自己说“<em class="lz"> Jonny，是时候自己创造主题了</em>”。我做到了！</p><p id="eabd" class="pw-post-body-paragraph la lb iq lc b ld ma lf lg lh mb lj lk ll mc ln lo lp md lr ls lt me lv lw lx ij bi translated">(如果您想了解如何使用该主题，请跳到最后一节)</p><h1 id="585d" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">更多(漂亮的)情节</h1><h2 id="b2b7" class="mf kd iq bd ke mg mh dn ki mi mj dp km ll mk ml kq lp mm mn ku lt mo mp ky mq bi translated">KDE 地块</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/67fe03354710c5dca911788399a27869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JY11LBy-sAuDSShoRECfAw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Left: Two 1-dimensional kernel density estimate (KDE) plots. Right: A 2D KDE plot.</figcaption></figure><h2 id="8e54" class="mf kd iq bd ke mg mh dn ki mi mj dp km ll mk ml kq lp mm mn ku lt mo mp ky mq bi translated">线形图</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/5d2ea5a0041750f3e4f437f603a6a24a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GFVn1PxD91Y5Kthr9VN9nQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">All the lines. Code to generate the data shamelessly stolen from <em class="mx">Jake VanderPlas’s article on how to create </em><a class="ae ly" href="https://jakevdp.github.io/PythonDataScienceHandbook/04.01-simple-line-plots.html" rel="noopener ugc nofollow" target="_blank"><em class="mx">Simple line plots</em></a><em class="mx"> in Python.</em></figcaption></figure><h2 id="a03a" class="mf kd iq bd ke mg mh dn ki mi mj dp km ll mk ml kq lp mm mn ku lt mo mp ky mq bi translated">散点图</h2><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/caf3c28cf06b2f31d5713094a270adfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1HeFoql2plDA_GJmK0LFhw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Scatter plot. Code to generate the plot shamelessly stolen from <a class="ae ly" href="https://pythonspot.com/matplotlib-scatterplot/" rel="noopener ugc nofollow" target="_blank">this article</a> on how to create scatter plots in Python.</figcaption></figure><h1 id="01f7" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">与 Seaborn 一起策划</h1><p id="cc5e" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">当使用 Seaborn 绘图时，默认的美学会有一点改变。我还没有想出如何改变这一点，但我不会对此大惊小怪。例如，箱线图非常不同(见下文)</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mz na l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Code for creating the boxplots below</figcaption></figure><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/9678557e30b79aa5465899dab0c32beb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bUR1DKsF9DmgxOujCdUk2A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Left: Standard matplotlib boxplot function. Right: Boxplot using Seaborn</figcaption></figure><p id="c7bd" class="pw-post-body-paragraph la lb iq lc b ld ma lf lg lh mb lj lk ll mc ln lo lp md lr ls lt me lv lw lx ij bi translated">使用<code class="fe nc nd ne nf b">sns.lmplot</code>绘图时，图例绘制在轴外，没有边框(如下)。默认情况下，它还会绘制左侧和底部的脊线。</p><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/84296c169f4fd1ead2ef760858d269ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XC1FRtB_nO7b1OjMdxKkkQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Scatter plot made with maplotlib’s scatterplot function</figcaption></figure><figure class="ms mt mu mv gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/d2ebaa230eb3e0b96338619b2df39ede.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vByRdL1xFjRDCwonoWzOuQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Scatter plot made with seaborn’s lmplot function</figcaption></figure><h1 id="c762" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">如何获得主题</h1><p id="32a2" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这个主题没有安装在 matplotlib 附带的主题集中。因此，如果你想使用这个主题，你有几个选择。我将在这里列出几个选项，但是你可以通过阅读 matplotlib 文档中的<a class="ae ly" href="https://matplotlib.org/tutorials/introductory/customizing.html" rel="noopener ugc nofollow" target="_blank">使用样式表和 rcParams </a>定制 Matplotlib 来了解所有的方法。</p><h2 id="e5b1" class="mf kd iq bd ke mg mh dn ki mi mj dp km ll mk ml kq lp mm mn ku lt mo mp ky mq bi translated">选项 1</h2><p id="8c15" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">复制这篇博文末尾的 matplotlibrc 样式表内容，并将其保存在与您想要绘制的脚本相同的目录中。用<code class="fe nc nd ne nf b">matplotlibrc</code>这个名字保存。那应该就行了。</p><h2 id="e09d" class="mf kd iq bd ke mg mh dn ki mi mj dp km ll mk ml kq lp mm mn ku lt mo mp ky mq bi translated">选项 2</h2><p id="b16d" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">同样，在这篇博文的末尾复制 matplotlibrc 样式表的内容，但是这次在<code class="fe nc nd ne nf b">mpl_configdir/stylelib</code>中另存为<code class="fe nc nd ne nf b">&lt;style-name&gt;.mplstyle</code>。你可以用<code class="fe nc nd ne nf b">matplotlib.get_configdir()</code>找到<code class="fe nc nd ne nf b">mpl_configdir</code>在哪里。我必须创建<code class="fe nc nd ne nf b">stylelib</code>目录，因为它还不在<code class="fe nc nd ne nf b">mpl_configdir</code>目录中。</p><p id="fda2" class="pw-post-body-paragraph la lb iq lc b ld ma lf lg lh mb lj lk ll mc ln lo lp md lr ls lt me lv lw lx ij bi translated">一旦你把文件保存在正确的目录下，你就可以用</p><pre class="ms mt mu mv gt ni nf nj nk aw nl bi"><span id="3212" class="mf kd iq nf b gy nm nn l no np">import matplotlib.pyplot as plt<br/>plt.style.use(&lt;style-name&gt;)</span></pre><p id="2989" class="pw-post-body-paragraph la lb iq lc b ld ma lf lg lh mb lj lk ll mc ln lo lp md lr ls lt me lv lw lx ij bi translated">所以我把文件保存为<code class="fe nc nd ne nf b">gadfly.mplstyle</code>，我可以用<code class="fe nc nd ne nf b">plt.style.use('gadfly')</code>设置主题</p><h1 id="20c1" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">牛虻主题 matplotlibrc 文件</h1><figure class="ms mt mu mv gt jr"><div class="bz fp l di"><div class="mz na l"/></div></figure></div></div>    
</body>
</html>