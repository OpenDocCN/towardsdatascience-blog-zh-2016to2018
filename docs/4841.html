<html>
<head>
<title>Data Science Takes on Public Education</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学承担公共教育</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-science-takes-on-public-education-f432910ea9f0?source=collection_archive---------15-----------------------#2018-09-10">https://towardsdatascience.com/data-science-takes-on-public-education-f432910ea9f0?source=collection_archive---------15-----------------------#2018-09-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2bff" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用机器学习帮助分析教育问题</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8e03bb653fa0fc15213580e2d66f233f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UtgDisZ4s7BNm9kq"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">“high-angle photography of group of people sitting at chairs” by <a class="ae kv" href="https://unsplash.com/@mikael_k?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mikael Kristenson</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kw"><p id="cc2e" class="kx ky iq bd kz la lb lc ld le lf lg dk translated">“教育是你可以用来改变世界的最强大的武器”——纳尔逊·曼德拉</p></blockquote><h2 id="1235" class="lh li iq bd lj lk ll dn lm ln lo dp lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">介绍</h2><p id="6f60" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">纳尔逊·曼德拉是对的。教育是强大的武器，也是人生最大的礼物之一。在美国，有各种各样的儿童教育项目可供选择，如公立学校、特许学校和私立学校。虽然有几种教育途径可供选择，但它们都是为了实现学生成功的相同目标吗？</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h2 id="80de" class="lh li iq bd lj lk nc dn lm ln nd dp lp lq ne ls lt lu nf lw lx ly ng ma mb mc bi translated">问题</h2><p id="79b0" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">我在 Kaggle 上遇到了一个挑战，叫做<a class="ae kv" href="https://www.kaggle.com/passnyc/data-science-for-good/home" rel="noopener ugc nofollow" target="_blank"> PASSNYC:为了好的数据科学</a>。这项挑战是由 PASSNYC 创建的，这是一个非营利组织，旨在帮助纽约市的公立学校学生，通过使用公开可用的数据来量化他们在学校面临的挑战，以及如何鼓励学生参加<strong class="mf ir">专门高中入学考试(SHSAT) </strong>来评估学生的需求。PASSNYC 想找到哪些学校需要帮助来增加参加考试的学生人数。虽然这个挑战本身很有趣，但我想用机器学习的方法来解决一个不同的问题:我们如何帮助公立学校提高学生的成功率？</p><p id="6fe4" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated"><strong class="mf ir">目的:我们能预测公立学校的学生成绩等级吗？</strong></p><p id="e21e" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">在数据中，有一个字段对每所学校的学生成绩进行评级，我用它来确定学校是否达到了学生成功的目标。学生成绩评定有 4 个不同的等级:<em class="nm">未达到目标、接近目标、达到目标、</em>和<em class="nm">超过目标</em>。这将使我们的分析成为<strong class="mf ir">监督的多分类</strong>机器学习任务:</p><p id="5c40" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated"><strong class="mf ir">监督</strong>:我们得到了训练数据的目标数据</p><p id="af02" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated"><strong class="mf ir">多类分类</strong>:目标数据有 4 个不同的分类值(我后来把它们变成了 3 个，以提高模型的性能)</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h2 id="df9d" class="lh li iq bd lj lk nc dn lm ln nd dp lp lq ne ls lt lu nf lw lx ly ng ma mb mc bi translated">探索性数据分析</h2><p id="2844" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">与任何数据科学项目一样，第一种方法是理解数据。数据集中有 160 个特征/列，包括数值和分类值。基于这些特征，我能够发现 4 种不同类型的组:经济组、种族组、教育评级组和测试组。例如，属于经济组的特征包括学校收入估计(数值)和经济需求指数(数值)，它们用于识别公立学校的经济状态。</p><p id="0a1f" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">在最终的模型中，我删除了最多的特性是测试。这些特征包括参加<strong class="mf ir">专门高中入学考试(SHSAT)的学生总数。</strong>在第一次分析中，我包括了所有这些功能，但后来发现它们并不能帮助我们解决问题，也不能提高模型的性能。我将只包括测试的平均分数(ELA 和数学测试)，但不包括参加测试的学生人数。</p><ul class=""><li id="7ac2" class="nn no iq mf b mg nh mj ni lq np lu nq ly nr lg ns nt nu nv bi translated"><strong class="mf ir">学生成绩等级的分布最初是什么样子的？</strong></li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/7ced7cd831072489d8dab38812fd3657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*al4meQTa8dQPorSTAr71Vg.png"/></div></figure><p id="da94" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">通过查看学生成绩等级的分布，我意识到需要做一些清理工作。数据中只有 6 所学校<em class="nm">没有达到学生成绩的目标</em>，相比之下，超过 600 所学校<em class="nm">达到了目标</em>。由于只有少数学校没有达到目标<em class="nm"/>，模型很难做出预测。因此，我决定将<em class="nm">未达到目标</em>的值改为<em class="nm">接近目标</em>，因为在现实中，它们都是:A)未达到学生成绩的目标，B)努力达到目标(嗯，至少我希望是这样)。其他特性也有 4 个评级等级(<em class="nm">未达到目标、接近目标、达到目标、</em>和<em class="nm">超过目标)、</em>，因此也对这些值进行了更改。做出这些改变后，学生成绩的分布如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/c974ebf56739d81339af530ef81dd521.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*HW2eViXiohLpC9u3Lg82SQ.png"/></div></figure><p id="4cb6" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated"><strong class="mf ir">目标和特征之间的关系</strong></p><p id="a5d8" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">分析的下一步是寻找目标和特征之间的关系。为此，我绘制了一些密度图。通过按目标(学生成绩等级)给密度曲线着色，这显示了分布如何基于等级而变化。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/0973e3aa47ee756e31e2131cdf731eeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P3AevGH0hmFtxLOD-81n0w.png"/></div></div></figure><p id="22ca" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">在我看来，经济需求指数和学生成绩之间的关系是意料之中的。经济需求指数的值介于 0 和 1 之间，值越接近 1，意味着学校的经济需求越大。在这里，与其他评级相比，有更多经济需求指数值高的公立学校被评为<em class="nm">接近目标</em>。在这里，许多具有高经济价值指数(超过 0.8)的公立学校的学生成绩评级接近目标<em class="nm">。换句话说，需要经济支持的学校没有良好的学生成绩。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/089a8f0b524dc2ac6618b93f60d48d3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SwGqS2Vktz6VENloNw8qLQ.png"/></div></div></figure><p id="3347" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">学校收入估计与学生成绩的关系与经济需求指数相同。许多估计收入较低(低于 5 万美元)的公立学校的学生成绩评级接近目标。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/345d5aaa94ada971644752aa8f70ec08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zAZhHGqw6SG25QUFb_DvIA.png"/></div></div></figure><p id="b23d" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">在进一步调查后，我发现学校预计收入超过 10 万美元的公立学校要么达到目标，要么超过目标。基于这些观察，我推测学校的收入/经济状况将在分析中发挥重要作用。</p><h2 id="0fac" class="lh li iq bd lj lk nc dn lm ln nd dp lp lq ne ls lt lu nf lw lx ly ng ma mb mc bi translated">特征工程/选择</h2><p id="0eb3" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">流程的下一步是对功能进行更改，以优化模型的性能。使用<a class="ae kv" href="https://hackernoon.com/what-is-one-hot-encoding-why-and-when-do-you-have-to-use-it-e3c6186d008f" rel="noopener ugc nofollow" target="_blank"> one hot encoding </a>，具有百分比值的列从数值变为序数值，从 0 变为 3。例如，特征<em class="nm">百分比西班牙裔</em>的值为 23% (0.23)的观察值被更新为序数值 1，而相同特征的值为 88% (0.88)的观察值被更新为值 3。对所有具有百分比(数值)值的要素执行此操作可提高模型的准确性！</p><p id="e37c" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">对于评分值为<em class="nm">、</em>的特性，我还使用了一个热编码:<em class="nm">接近目标:1，达到目标:2，</em>和<em class="nm">超过目标:3。</em>该程序还包括目标，即学生成绩评定。</p><p id="9794" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">分析的另一部分是查看特征之间的关系。经济需要指数和种族之间的关系显示出一种显著的模式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/617fc989d1558fdc38f57dca1b72473f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CP194h6qDUrsHqgSaYRdtA.png"/></div></div></figure><p id="994d" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">在这里，我注意到经济需求指数因特定种族的学校而异。例如，西班牙裔人口较多的公立学校(3 分)被认为更需要财政援助。另一方面，白人比例较高(3 分)的公立学校似乎不太需要财政援助。</p></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><h2 id="778a" class="lh li iq bd lj lk nc dn lm ln nd dp lp lq ne ls lt lu nf lw lx ly ng ma mb mc bi translated">模型选择和测试</h2><p id="3f5a" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">由于这是一个受监督的多分类机器学习分析，我创建了四个分类模型:</p><ul class=""><li id="4b24" class="nn no iq mf b mg nh mj ni lq np lu nq ly nr lg ns nt nu nv bi translated">随机森林分类器</li><li id="cf8b" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">线性支持向量分类(LSVC)</li><li id="6234" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">高斯朴素贝叶斯(GNB)</li><li id="d049" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">线性判别分析(LDA)</li></ul><p id="7427" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated"><strong class="mf ir">公制</strong></p><p id="59f6" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">为了评估模型的预测，我使用了<strong class="mf ir">微 F1 分数</strong>。由于这是一个多类问题，我必须平均每个类的 F1 分数。同时也考虑到标签的不平衡。<em class="nm">微</em>平均计算所有类别的假阳性、假阴性和真阳性的总数，然后使用这些计数计算精度、召回和 f 值<br/>。</p><p id="3c88" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">对数据进行 10 重交叉验证，对模型进行 10 次训练和测试，结果如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/c1628a379ee0d853ae689d341dbbc7d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CbIwydvSFXyY15eTRei1cg.png"/></div></div></figure><p id="9ce7" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">使用 10 重交叉验证，<strong class="mf ir">线性判别分析(LDA) </strong>模型具有最高的微观 F1 分数，为 0.66(越高越好)。随机森林(RF)模型排名第二，得分为 0.62。(令人惊讶的)表现不佳的模型是高斯朴素贝叶斯(GNB)，其得分大大低于其他模型。</p><p id="51d0" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">使用随机森林模型，我对功能的重要性进行了排序，以查看顶级功能在分析中的帮助程度:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/661c38f7fd3d03b5135adc5b90fbab74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-p0fMKdjLcYrKH9NMRd6xA.png"/></div></div></figure><p id="f9ee" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">ELA 和数学考试的平均分数是最重要的特征。这是有道理的，因为学校的平均考试成绩越高，学校的学生成绩等级就越高。特征重要性的一个方面是两个基于经济的特征的高排名:经济需求指数和学校收入估计。种族特征在分析中很重要，但没有我想象的那么重要。</p><h2 id="e770" class="lh li iq bd lj lk nc dn lm ln nd dp lp lq ne ls lt lu nf lw lx ly ng ma mb mc bi translated">结论</h2><p id="9a6d" class="pw-post-body-paragraph md me iq mf b mg mh jr mi mj mk ju ml lq mm mn mo lu mp mq mr ly ms mt mu lg ij bi translated">以下是我从分析中学到的一些东西:</p><ul class=""><li id="e660" class="nn no iq mf b mg nh mj ni lq np lu nq ly nr lg ns nt nu nv bi translated">收入水平较低的学校似乎需要改进。如果 PASSNYC 想要为学校提供资金/援助，他们应该关注经济困难的学校和少数族裔(黑人/西班牙裔)比例较高的学校</li><li id="000e" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">学校的经济地位对学生的成就起着重要的作用:学校越需要经济，学校的成就越低</li><li id="d9b8" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">学校的经济地位因学校的主要种族而异:学校的少数民族(黑人/西班牙裔)学生越多，其经济需求就越大</li><li id="81ac" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">与其他模型相比，线性判别分析(LDA)在这种多类机器学习分析中得分较高。</li></ul><p id="978e" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">尽管最佳模型在预测纽约公立学校的学生成绩评级方面做得很好，但我在这个过程中了解到的一些问题可能会在未来的项目中帮助我:</p><ul class=""><li id="dbde" class="nn no iq mf b mg nh mj ni lq np lu nq ly nr lg ns nt nu nv bi translated">去更新型号选择/工程总是很棒的！尽管这个建议在几乎所有数据科学相关的资料中都有推荐，但我完全理解它的价值。Kaggle 提供的数据有 100 多个特征，我在最初的几个模型中使用过，但在回到选择/工程流程后，我删除了其中的大部分。这些功能可用并不意味着它们会有用。</li><li id="0a39" class="nn no iq mf b mg oc mj od lq oe lu of ly og lg ns nt nu nv bi translated">更多(非冗余)功能。提供的数据本可以有更有用的特征，如学校规模或师生比。这种类型的数据可能会提高我们模型的准确性。</li></ul></div><div class="ab cl mv mw hu mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="ij ik il im in"><blockquote class="oj ok ol"><p id="98a7" class="md me nm mf b mg nh jr mi mj ni ju ml om nj mn mo on nk mq mr oo nl mt mu lg ij bi translated"><em class="iq">请随时给予反馈或建设性的批评！:)还有，跟我上</em> <a class="ae kv" href="https://twitter.com/dataosanch" rel="noopener ugc nofollow" target="_blank"> <em class="iq">推特</em> </a> <em class="iq">和</em> <a class="ae kv" href="https://towardsdatascience.com/@osanchez2323" rel="noopener" target="_blank"> <em class="iq">中</em> </a> <em class="iq">！</em></p></blockquote><p id="01c4" class="pw-post-body-paragraph md me iq mf b mg nh jr mi mj ni ju ml lq nj mn mo lu nk mq mr ly nl mt mu lg ij bi translated">这篇文章使用的所有代码都可以在 GitHub 上找到，组织在这个<a class="ae kv" href="https://github.com/osanchez2323/Portfolio/blob/master/Data%20Science%20Takes%20on%20Education/Data%20Science%20Takes%20on%20Education.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>上。</p></div></div>    
</body>
</html>