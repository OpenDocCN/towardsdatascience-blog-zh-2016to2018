<html>
<head>
<title>Jupyter and tensorboard in tmux and ssh</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">tmux 和 ssh 中的 Jupyter 和 tensorboard</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyter-and-tensorboard-in-tmux-5e5d202a4fb6?source=collection_archive---------4-----------------------#2018-08-02">https://towardsdatascience.com/jupyter-and-tensorboard-in-tmux-5e5d202a4fb6?source=collection_archive---------4-----------------------#2018-08-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/95ae392ef80826c3c287a6df178c25cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R9WElcCuKowQPvlvKFBxyQ.png"/></div></div></figure><div class=""/><p id="ca9c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在最近的帖子中，我描述了如何<a class="ae kw" href="https://medium.com/@fabiograetz/setting-up-your-personal-deep-learning-station-with-ubuntu-16-04-2bc3ed2d7bb3" rel="noopener">设置你的个人深度学习工作站</a>以及如何<a class="ae kw" href="https://medium.com/@fabiograetz/accessing-your-deep-learning-station-remotely-and-setting-up-wake-on-lan-1e708c50fdd8" rel="noopener">打开并远程访问它</a>。</p><p id="e025" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇短文中，我解释了我通常如何用 tmux 设置我的远程工作环境，并在我的手机上检查我的计算进度。</p><p id="9a3b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc"> tmux </strong>是一个<a class="ae kw" href="https://en.wikipedia.org/wiki/Terminal_multiplexer" rel="noopener ugc nofollow" target="_blank">终端复用器</a>，允许用户在单个终端窗口或远程终端会话中访问多个独立的终端会话。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="b93b" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先，将以下几行添加到您笔记本电脑上的<code class="fe le lf lg lh b">.ssh/config</code>中。看这里,如果你想要更详细的关于如何远程访问你的电脑的指导。</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="9cac" class="lq lr jb lh b gy ls lt l lu lv">Host workstation<br/>     HostName &lt;hostname&gt;<br/>     User &lt;username&gt;<br/>     Port &lt;port&gt;<br/>     LocalForward 8888 localhost:8888<br/>     LocalForward 6006 localhost:6006</span></pre><p id="9796" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在输入<code class="fe le lf lg lh b">ssh workstation</code>就可以登录了。键入<code class="fe le lf lg lh b">tmux new -s &lt;sessionname&gt;</code>来启动 tmux。我通常通过键入<code class="fe le lf lg lh b">Ctrl-b %</code>垂直分割屏幕，然后通过键入<code class="fe le lf lg lh b">Ctrl-b "</code>水平分割屏幕。使用<code class="fe le lf lg lh b">Ctrl-b o </code>可以导航到下一个窗格。我通常会打开右上方的窗格，用<code class="fe le lf lg lh b">source active &lt;name&gt;</code>启动我的虚拟环境，然后通过键入<code class="fe le lf lg lh b">jupyter-notebook</code>启动一个 jupyter 笔记本。将链接复制到笔记本电脑的浏览器中。接下来，我们开始 tensorboard。键入<code class="fe le lf lg lh b">Ctrl-b o</code>将光标移动到 tmux 中的下一个窗格。通过键入<code class="fe le lf lg lh b">tensorboard --logdir=&lt;log directory&gt;</code>激活虚拟环境并启动 tensorboard。在笔记本电脑的浏览器中打开一个新标签，然后进入<a class="ae kw" href="http://localhost:6006" rel="noopener ugc nofollow" target="_blank"> http://localhost:6006 </a>。现在 tensorboard 应该也在运行(如果它不工作，确保 tensorboard 真的像我的情况一样使用端口 6006)。</p><p id="fe81" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在最精彩的部分来了:当你停止工作时，只需输入<code class="fe le lf lg lh b">Ctrl-b d</code>就可以从 tmux 会话中脱离，当你想继续工作时，输入<code class="fe le lf lg lh b">tmux attach -t &lt;sessionname&gt;</code>就可以回到你离开的地方！</p><p id="c8f8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不幸的是，我不认为有一种方法可以关闭 jupyter 笔记本，同时它继续在后台运行，以后再回来。我经常做的是，当我想留下一些计算的东西过夜时，通过键入<code class="fe le lf lg lh b">jupyter-nbconvert --to script &lt;name&gt;.ipynb</code>将它转换成 python。现在，只需运行<code class="fe le lf lg lh b">.py</code>，脱离 tmux 会话，第二天再回来查看输出。如果有人知道更好的方法，请留下评论，我会很高兴知道。</p><p id="5eb7" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是 tmux 的一些非常有用的快捷方式:</p><pre class="li lj lk ll gt lm lh ln lo aw lp bi"><span id="dd9d" class="lq lr jb lh b gy ls lt l lu lv"># session management<br/>tmux ls (or tmux list-sessions)<br/>tmux new -s session-name<br/>Ctrl-b d Detach from session<br/>tmux attach -t [session name]<br/>tmux kill-session -t session-name</span><span id="c02f" class="lq lr jb lh b gy lw lt l lu lv">Ctrl-b c Create new window<br/>Ctrl-b d Detach current client<br/>Ctrl-b l Move to previously selected window<br/>Ctrl-b n Move to the next window<br/>Ctrl-b p Move to the previous window<br/>Ctrl-b &amp; Kill the current window<br/>Ctrl-b , Rename the current window<br/>Ctrl-b q Show pane numbers (used to switch between panes)<br/>Ctrl-b o Switch to the next pane<br/>Ctrl-b ? List all keybindings</span><span id="4768" class="lq lr jb lh b gy lw lt l lu lv"># moving between windows<br/>Ctrl-b n (Move to the next window)<br/>Ctrl-b p (Move to the previous window)<br/>Ctrl-b l (Move to the previously selected window)<br/>Ctrl-b w (List all windows / window numbers)<br/>Ctrl-b window number (Move to the specified window number, the<br/>default bindings are from 0 -- 9)</span><span id="1134" class="lq lr jb lh b gy lw lt l lu lv"># Tiling commands<br/>Ctrl-b % (Split the window vertically)<br/>CTRL-b " (Split window horizontally)<br/>Ctrl-b o (Goto next pane)<br/>Ctrl-b q (Show pane numbers, when the numbers show up type the key to go to that pane)<br/>Ctrl-b { (Move the current pane left)<br/>Ctrl-b } (Move the current pane right)<br/>Ctrl-b x kill current pane</span><span id="f588" class="lq lr jb lh b gy lw lt l lu lv"># Make a pane its own window<br/>Ctrl-b : "break-pane"</span></pre><p id="2ea4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">另一个有用的提示:如果你使用<a class="ae kw" href="https://hyperdash.io" rel="noopener ugc nofollow" target="_blank"> hyperdash </a>，你可以在手机上追踪你的模特的表现，而不必登录你的电脑:</p><p id="6228" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe le lf lg lh b">hyperdash run -n "DQN Breakout" python DQN.py</code></p><figure class="li lj lk ll gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lx"><img src="../Images/62d5c3ffad854f72ebb7311f7d8fe8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-vw6SbyFJVidw_-RXw4ytQ.jpeg"/></div></div></figure><p id="2903" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这能为你节省不少时间:)玩得开心！</p></div></div>    
</body>
</html>