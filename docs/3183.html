<html>
<head>
<title>CNN based face detector from dlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于 CNN 的人脸检测器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/cnn-based-face-detector-from-dlib-c3696195e01c?source=collection_archive---------3-----------------------#2018-04-17">https://towardsdatascience.com/cnn-based-face-detector-from-dlib-c3696195e01c?source=collection_archive---------3-----------------------#2018-04-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/db99043f12d2d982f33af57c5da16b41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*cksGOuQIvvfqjJIGx69amw.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Image Source: Google Images</figcaption></figure><p id="0b28" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对任何类型的图像处理、计算机视觉或机器学习感兴趣，你很有可能在旅途中的某个地方遇到/使用过 dlib。</p><p id="9a7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据 dlib 的<a class="ae kw" href="http://github.com/davisking/dlib" rel="noopener ugc nofollow" target="_blank"> github 页面</a>介绍，dlib 是<em class="kx">一个用 C++制作真实世界机器学习和数据分析应用的工具包。</em>虽然这个库最初是用 C++编写的，但它有很好的、易于使用的 Python 绑定。</p><p id="3635" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我主要使用 dlib 进行<strong class="ka ir"> <em class="kx">面部检测</em> </strong>和<strong class="ka ir"> <em class="kx">面部标志检测</em> </strong>。dlib 中的正面人脸检测器效果真的很好。它很简单，开箱即用。</p><p id="c958" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该检测器基于<em class="kx">梯度方向直方图(HOG) </em>和<em class="kx">线性 SVM。</em>(解释这个检测器如何工作超出了这篇博文的范围。可能是改天讨论的话题)</p><p id="f6c1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然基于 HOG+SVM 的人脸检测器已经存在了一段时间，并聚集了大量的用户，但我不确定我们中有多少人注意到了 dlib 中基于 CNN(卷积神经网络)的人脸检测器。老实说，我没有。我是在浏览 dlib 的 github 资源库时偶然发现的。</p><p id="076d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我当时的想法是，</p><blockquote class="ky kz la"><p id="62db" class="jy jz kx ka b kb kc kd ke kf kg kh ki lb kk kl km lc ko kp kq ld ks kt ku kv ij bi translated"><em class="iq"/><strong class="ka ir"><em class="iq">哇。是否优于现有的检测器？有多准确？它能全方位检测人脸吗？它能在实时视频上运行吗？</em></strong><em class="iq"/></p></blockquote><p id="9c62" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗯，这就是这篇文章的内容。试图找出上述问题的答案。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><p id="110e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你曾经在 dlib 中使用过基于 HOG 的人脸检测器，你可能知道它不会检测奇数角度的人脸。它应该是一个很好的"<em class="kx">正面</em>"人脸检测器，它确实是。</p><p id="0e1c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它可以检测到人脸，即使它们的正面并不十分突出。这对于正面人脸检测器来说非常有用。但是你只能期待这么多。</p><p id="351e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同时，基于 CNN 的检测器能够检测几乎所有角度的人脸。不幸的是，它不适合实时视频。它应该在 GPU 上执行。为了获得与基于 HOG 的检测器相同的速度，您可能需要运行强大的 Nvidia GPU。</p><p id="1ba9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然而，这不应该阻止我们在静止图像上尝试它。</p><p id="b2e4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章的剩余部分，我将向你展示如何在图像上使用基于 CNN 的人脸检测器，并将结果与基于 HOG 的检测器和现成的 Python 代码进行比较。</p><p id="26e0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们直接开始编码吧。</p></div><div class="ab cl le lf hu lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="ij ik il im in"><h2 id="6436" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">入门指南</h2><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="5940" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们从导入必要的包开始。如果您尚未安装这些软件包，您可以通过在终端中键入以下命令来安装它们。</p><p id="dfdf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">pip install opencv-python dlib argparse time</code></p><p id="045b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(argparse 和 time 更有可能预装在 Python 中)</p><p id="332d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果您没有使用 Python 的虚拟环境，我强烈建议您开始使用它。需要起点的可以查看我之前的<a class="ae kw" href="https://medium.com/@arunponnusamy/setting-up-deep-learning-environment-the-easy-way-on-macos-high-sierra-f1b6331ffc40" rel="noopener">帖子</a>。</p><h2 id="5c03" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">命令行参数</h2><p id="a328" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">这个脚本需要两个命令行参数。</p><ul class=""><li id="91fa" class="mt mu iq ka b kb kc kf kg kj mv kn mw kr mx kv my mz na nb bi translated">输入图像</li><li id="9011" class="mt mu iq ka b kb nc kf nd kj ne kn nf kr ng kv my mz na nb bi translated">模型重量</li></ul><p id="79da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您可以通过在终端中键入以下命令来获取模型权重文件。</p><p id="d91d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">wget <a class="ae kw" href="http://arunponnusamy.com/files/mmod_human_face_detector.dat" rel="noopener ugc nofollow" target="_blank">http://arunponnusamy.com/files/mmod_human_face_detector.dat</a></code></p><p id="0673" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">默认情况下，如果您没有提供任何特定的路径，代码会在当前目录中查找模型文件。</p><p id="7cb7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，您可以通过键入以下命令来运行</p><p id="4cce" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">python cnn-face-detector-dlib.py -i input.jpg</code></p><p id="ef08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(如果<em class="kx">input.jpg</em>和<em class="kx">模型权重文件</em>都在与 python 脚本相同的当前目录中，这将起作用)</p><p id="3bd1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">或者你可以通过输入，</p><p id="5295" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">python cnn-face-detector-dlib.py -i &lt;path-to-image-input&gt; -w &lt;path-to-weights-file&gt;</code></p><p id="2ef9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kx">(python CNN-face-detector-dlib . py-I ~/Downloads/input . jpg-w ~/Downloads/mmod _ human _ face _ detector . dat)</em></p><p id="aa6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">(<strong class="ka ir"> <em class="kx">我假设你已经安装了最新版本的 Python。</em>必须是 3.0+)</strong></p><h2 id="5d52" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">初始化</h2><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="4d80" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">读取提供的输入图像，并检查其类型是否为<em class="kx">无。</em>如果是，打印错误声明并退出程序。</p><p id="1f21" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">初始化基于 HOG 和基于 CNN 的人脸检测器，我们将应用于输入图像。</p><p id="a969" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于基于 HOG 的，我们不需要提供任何文件来初始化。它是预先构建在 dlib 内部的。只需调用方法就足够了。</p><p id="0293" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于基于 CNN 的，我们需要提供权重文件来初始化。</p><h2 id="4ee9" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">应用猪脸检测</h2><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="7d23" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们在输入图像上应用检测器。</p><p id="869f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">faces_hog = hog_face_detector(image, 1)</code></p><p id="e7f7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">1 是对图像进行向上采样的次数。默认情况下，1 适用于大多数情况。(对图像进行上采样有助于检测较小的面部)</p><p id="42da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">time.time()</code>可以用来测量以秒为单位的执行时间。</p><p id="9cc7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦检测完成，我们可以在检测到的人脸上循环。要在检测到的人脸上绘制方框，我们需要向 OpenCV 提供(x，y) —左上角和(x+w，y+h) —右下角。</p><p id="2d2d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">dlib 和 OpenCV 中的矩形格式有点不同。我们可以在这里使用<a class="ae kw" href="http://scikit-image.org/" rel="noopener ugc nofollow" target="_blank"> <em class="kx"> skimage </em> </a> <em class="kx"> </em>将 dlib 矩形对象直接叠加在图像上。但是当我们用 OpenCV 处理实时视频时，熟悉 dlib 和 OpenCV 之间的转换将会很有帮助。</p><pre class="me mf mg mh gt nh mn ni nj aw nk bi"><span id="d04e" class="ll lm iq mn b gy nl nm l nn no">cv2.rectangle(image, (x,y), (x+w,y+h), (0,255,0), 2)</span></pre><p id="b225" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">上面的线将在输入图像上检测到的人脸上绘制一个矩形。(0，255，0)代表<em class="kx"> BGR </em>顺序中盒子的颜色(本例中为绿色)。2 代表线条的<em class="kx">粗细</em>。</p><h2 id="2d89" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">应用 CNN 人脸检测</h2><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="1eac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除了检测器返回矩形对象之外，这个过程与前面的检测器几乎相同。让我们用红色来区分 CNN 检测到的人脸。</p><h2 id="c4a7" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">显示结果</h2><figure class="me mf mg mh gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="f209" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了区分 HOG 和 CNN 检测器的检测，让我们在图像的右上角写下哪种颜色是哪种颜色。</p><p id="da36" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">cv2.imshow()</code>将显示运行脚本时的输出图像。</p><p id="7bc5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">cv2.waitKey()</code>指定显示窗口关闭前应等待的时间。例如<code class="fe mk ml mm mn b">cv2.waitKey(500)</code>将显示 500 毫秒(0.5 秒)的窗口。如果你不传递任何数字，它会一直等到你按下任何键。</p><p id="6893" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe mk ml mm mn b">cv2.imwrite()</code>将输出图像保存到磁盘。</p><p id="3b73" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦我们完成了显示，释放所有的窗口是一个好的习惯。</p><p id="adf5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完整的代码可在<a class="ae kw" href="https://gist.github.com/arunponnusamy/7013c8617f97937250cb2c2de57c9b11" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><h2 id="d5fe" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">执行时间</h2><p id="c20c" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">给你一个执行时间的概念，对于一个 620x420 的图像，<strong class="ka ir"> HOG </strong>花费大约<strong class="ka ir"> 0.2 秒</strong>，而<strong class="ka ir"> CNN </strong>花费大约<strong class="ka ir"> 3.3 秒</strong>在 CPU 上(<em class="kx"> Intel i5 双核 1.8GHz </em>)。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/2f56341f381c255797a1db6310633ddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*9ZOYDpQvmCI_UOd8wlopkQ.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Execution time on CPU (in seconds)</figcaption></figure><p id="e5ef" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">根据您的硬件设置和映像的大小，确切的数量可能会有所不同。底线是 HOG 需要不到一秒钟，而 CNN 只需要几秒钟。</p><h2 id="8c84" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">检测奇数角度的人脸</h2><p id="8ba2" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">重要的部分来了。</p><p id="b52f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">基于 CNN 的检测器可以检测到基于 HOG 的检测器可能检测不到的奇数角度的人脸吗？</strong></p><p id="7069" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">嗯，答案是“<strong class="ka ir"> <em class="kx">差不多</em> </strong>”。(我还没有经过严格的测试来给出一个自信的“<em class="kx">是”。但是据我测试，它对非正面的图像非常有效。</em></p><p id="a7c4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们看一些例子，其中基于 HOG 的检测器失败，但 CNN 能够检测。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/7211a43965b051fd8b049269c44b91a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*i8cz2BUBYOKOjzpCJThG0A.png"/></div></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="ns nt di nu bf nv"><div class="gh gi nr"><img src="../Images/56d7502b8887293a119df72e86e26f8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*kuzHyLXDR22TWwtdmKz-lA.png"/></div></div></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/5a99f71b8eb5d47dac292e6287ee0a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1294/format:webp/1*sOC0csm6m1LaeFqB2Om19Q.png"/></div></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/4b0713a9863f336a5c90e8d6552bff6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*yIQeaw1O1dAVJKJPB8Nzbw.png"/></div></figure><p id="efe6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这样的例子不胜枚举。</p><p id="bcd2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这并不是说基于 HOG 的检测器对非正面图像完全不起作用。事实上，它确实检测到一些非正面图像，如下图所示。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/a04bb7230e7dc092877c77e092f15785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*IVYtc7PEBwJaImmqxfYhgQ.png"/></div></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/26d35811f03501d789087385b81874aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*5r8MQeUSaTaRIW6w9g94Fw.png"/></div></figure><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1d99214fe676e230e3662cb49d28e1a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*BbUvAUbgQwqw9DxyIcmdlg.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">All the images above are taken from Google Images. I do not own the copyright.</figcaption></figure><h2 id="7acb" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">摘要</h2><p id="e580" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">在这篇文章中，我们研究了 dlib 的基于 CNN 的人脸检测器，并与广泛使用的基于 HOG+SVM 的人脸检测器进行了比较。</p><p id="283d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们观察到，基于 CNN 的检测器对于非正面人脸在奇数角度下工作得非常好，而基于 HOG 的检测器很难工作。</p><p id="4f57" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">不幸的是，基于 CNN 的检测器计算量很大，目前不适合实时视频。如果您已经注意到检测器函数调用(<code class="fe mk ml mm mn b">dlib.cnn_face_detection_model_v1()</code>)，它显示 v1 是版本 1。这意味着作者很有可能会推出轻量级的、可用于实时应用程序的下一个版本。</p><p id="5c7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们期待 dlib 下一个版本中的轻量级版本。</p><p id="b556" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，暂时就这些了。欢迎在下面的评论中分享你的想法，或者你可以在 twitter 上联系我，电话:<a class="ae kw" href="http://twitter.com/ponnusamy_arun" rel="noopener ugc nofollow" target="_blank">@ ponnum Samy _ arun</a>。</p><p id="06f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你对这篇文章感兴趣，你可以<a class="ae kw" href="http://eepurl.com/dtoOc9" rel="noopener ugc nofollow" target="_blank">订阅</a>我的<a class="ae kw" href="http://arunponnusamy.com" rel="noopener ugc nofollow" target="_blank">博客</a>来获得新文章上线的通知。(别担心，我每个月只发表一两篇文章)</p><p id="0ade" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">干杯。</p><h2 id="da13" class="ll lm iq bd ln lo lp dn lq lr ls dp lt kj lu lv lw kn lx ly lz kr ma mb mc md bi translated">更新:</h2><p id="2ba8" class="pw-post-body-paragraph jy jz iq ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">如果你关心实时性能，检查一下<a class="ae kw" href="http://cvlib.net" rel="noopener ugc nofollow" target="_blank"> cvlib </a>中的人脸检测器。它可以检测(几乎)所有角度的人脸，并能够处理实时输入。</p></div></div>    
</body>
</html>