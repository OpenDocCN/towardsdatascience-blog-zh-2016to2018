<html>
<head>
<title>Go Serverless with Firebase</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Firebase实现无服务器化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/go-serverless-with-firebase-5348dedb70e9?source=collection_archive---------6-----------------------#2018-02-09">https://towardsdatascience.com/go-serverless-with-firebase-5348dedb70e9?source=collection_archive---------6-----------------------#2018-02-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6b7c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于无服务器什么，为什么和如何？</h2></div><h1 id="ad4f" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">什么是无服务器架构？</h1><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/11077ea5f30aef0ba2e9dad0b61dd865.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QQp2cY4gTH5BQcbXmGVYbQ.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Firebase Cloud Function</figcaption></figure><p id="b9b6" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">简而言之，<strong class="lp ir">无服务器架构</strong>是一种编程范式，专注于直接为web端点编写函数，而不是经历设置服务器、路由请求、定义REST资源，然后创建GET、POST和PUT方法的整个过程。还在迷茫？用程序员的术语来说，我们只需要编写方法体，其他的都是由服务提供商现成提供的。</p><p id="0a3d" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">最常见的无服务器服务提供商是亚马逊，他们有<a class="ae mj" href="https://aws.amazon.com/lambda/" rel="noopener ugc nofollow" target="_blank">的AWS Lambda </a>服务。这是一种高度可扩展的解决方案，广泛用于企业级应用。这些服务大部分要么与<a class="ae mj" href="https://aws.amazon.com/dynamodb/?nc2=h_m1" rel="noopener ugc nofollow" target="_blank">亚马逊发电机</a>一起使用，要么与<a class="ae mj" href="https://www.mongodb.com/cloud/atlas" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>一起使用。从AWS开始并构建一个应用程序是相当麻烦的，尽管它有如此多的功能和酷的集成。所以让我们用Firebase做同样的事情吧！！:)</p><h1 id="addb" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">为什么选择无服务器架构？</h1><p id="ef0b" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">除了简单性，无服务器架构几乎没有其他优势。由于您只对web服务的逻辑进行编程，可伸缩性将不再是一个问题。您将只为执行次数付费，这意味着未使用的功能不会收费。Firebase通过其身份验证平台简化了身份验证方式。毕竟，这也有不好的一面。您可能不了解底层硬件，因此在某些情况下，您必须遵循它们提供的标准硬件API。但是对于存储，谷歌提供谷歌存储，AWS为此提供S3存储桶。</p><h1 id="26f3" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">怎么会？</h1><p id="83ac" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">我觉得这是最有意思的事情。让我们使用<strong class="lp ir"> firebase云函数</strong>制作一个简单的应用程序，这是他们对无服务器架构的称呼。</p><h2 id="c526" class="mp kg iq bd kh mq mr dn kl ms mt dp kp lw mu mv kr ma mw mx kt me my mz kv na bi translated">第一步</h2><ol class=""><li id="84b7" class="nb nc iq lp b lq mk lt ml lw nd ma ne me nf mi ng nh ni nj bi translated">转到<a class="ae mj" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/</a></li><li id="cebd" class="nb nc iq lp b lq nk lt nl lw nm ma nn me no mi ng nh ni nj bi translated">转到控制台</li><li id="1e55" class="nb nc iq lp b lq nk lt nl lw nm ma nn me no mi ng nh ni nj bi translated">添加项目，给一个名字，然后按下创建</li><li id="9077" class="nb nc iq lp b lq nk lt nl lw nm ma nn me no mi ng nh ni nj bi translated">选择“确定”后，您将被定向到firebase控制台</li><li id="e1bc" class="nb nc iq lp b lq nk lt nl lw nm ma nn me no mi ng nh ni nj bi translated">在<strong class="lp ir">开发</strong>部分，转到<strong class="lp ir">功能</strong></li></ol></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><h2 id="c793" class="mp kg iq bd kh mq mr dn kl ms mt dp kp lw mu mv kr ma mw mx kt me my mz kv na bi translated">第二步</h2><p id="dbf0" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">现在您已经创建了一个应用程序，您将有一些NPM软件包要安装。</p><p id="c459" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">安装Firebase CLI工具</p><pre class="ky kz la lb gt nw nx ny nz aw oa bi"><span id="800b" class="mp kg iq nx b gy ob oc l od oe">$ npm install -g firebase-tools</span></pre><p id="e0b0" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">现在使用工具登录</p><pre class="ky kz la lb gt nw nx ny nz aw oa bi"><span id="df11" class="mp kg iq nx b gy ob oc l od oe">$ firebase login</span></pre><p id="0ef9" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">您将被要求通过打开浏览器登录。相应地登录。现在使用下面的命令启动项目。</p><pre class="ky kz la lb gt nw nx ny nz aw oa bi"><span id="56f7" class="mp kg iq nx b gy ob oc l od oe">$ firebase init</span></pre><p id="02ca" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">选择<strong class="lp ir">云函数</strong>并按回车键，然后选择创建的项目并按回车键。在同一个项目文件夹中，创建一个名为functions的文件夹，转到该文件夹并启动一个节点项目，如下所示。</p><pre class="ky kz la lb gt nw nx ny nz aw oa bi"><span id="9ba3" class="mp kg iq nx b gy ob oc l od oe">$ npm init<br/>$ npm install firebase-functions@latest firebase-admin@latest --save</span></pre><p id="1bb0" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">现在创建一个<strong class="lp ir"> <em class="of"> index.js </em> </strong>文件并创建函数，假设它是一个普通的节点js服务器端代码。示例代码如下。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="6a3a" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">如果您熟悉Node JS，很明显这个函数会将查询参数和主体参数返回给用户。</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><h2 id="f3db" class="mp kg iq bd kh mq mr dn kl ms mt dp kp lw mu mv kr ma mw mx kt me my mz kv na bi translated">第三步</h2><p id="9581" class="pw-post-body-paragraph ln lo iq lp b lq mk jr ls lt ml ju lv lw mm ly lz ma mn mc md me mo mg mh mi ij bi translated">您现在可以部署应用程序了。为此，我们可以使用以下命令。</p><pre class="ky kz la lb gt nw nx ny nz aw oa bi"><span id="445d" class="mp kg iq nx b gy ob oc l od oe">$ firebase deploy --only functions</span></pre><p id="123e" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">一旦部署结束，您将获得函数URL。您可以将其粘贴到浏览器上并发送GET请求，或者通过REST API测试工具发送请求。</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/ba8482894cb0d8dbb43ec225bb2d4238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*v_xJz_T_NVm7CNT5aeZtMg.png"/></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Firebase</figcaption></figure><p id="cd90" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">工作量很大吗？一旦你将这些步骤分类，你就可以专注于编写函数了，上面的代码是我唯一需要自己编写的代码；-).您可以轻松地与Firebase数据库、存储或身份验证连接，构建一个完整的应用程序。另外，你可以用免费的配额做很多事情。</p></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="9739" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">我希望你喜欢读这篇文章。启动你的下一个项目，干杯！！</p><p id="768e" class="pw-post-body-paragraph ln lo iq lp b lq lr jr ls lt lu ju lv lw lx ly lz ma mb mc md me mf mg mh mi ij bi translated">文件:<a class="ae mj" href="https://firebase.google.com/docs/functions/get-started?authuser=0" rel="noopener ugc nofollow" target="_blank">https://firebase.google.com/docs/functions/get-started</a><br/>视频系列:<a class="ae mj" href="https://www.youtube.com/watch?v=EvV9Vk9iOCQ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=EvV9Vk9iOCQ</a></p></div></div>    
</body>
</html>