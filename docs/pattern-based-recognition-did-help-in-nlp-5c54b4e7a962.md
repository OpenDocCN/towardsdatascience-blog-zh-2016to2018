# 基于模式的识别确实对自然语言处理有帮助

> 原文：<https://towardsdatascience.com/pattern-based-recognition-did-help-in-nlp-5c54b4e7a962?source=collection_archive---------7----------------------->

![](img/a58df43a741348e440c396ed410b16ac.png)

Photo: [https://pixabay.com/en/stained-glass-spiral-circle-pattern-1181864/](https://pixabay.com/en/stained-glass-spiral-circle-pattern-1181864/)

现在大家都在说机器学习和深度学习。当然，我们喜欢深度学习的结果，但它非常渴望数据。那么我们如何建立初始化数据集呢？我们可以在标记数据上分配一组资源，但这非常昂贵。或者，我们总是在初始化阶段使用正则表达式(用于文本)来理解数据，并为验证和启动项目构建手工功能。

正则表达式是软件工程中的一项基本技能。它存在于前端开发(如 Javascript)，后端开发(如 Java)。数据科学怎么样？它在自然语言处理领域非常有用，允许我们从非结构化文本中检索大量有价值的信息。

在本文中，我将重点介绍如何在数据探索、预处理和特性工程阶段利用正则表达式，而不是正则表达式实现。看完这篇文章，你会明白:

*   什么是正则表达式？
*   我们如何在数据科学生命周期中利用正则表达式？
*   拿走

# 什么是正则表达式？

这个概念是由斯蒂芬在 20 世纪 50 年代提出的。正则表达式(也称为 regex 或 regexp)的目标是通过给定的文本(包括字符、符号和数字)来识别期望的模式。你可以访问[这里](https://en.wikipedia.org/wiki/Regular_expression)了解详细的历史。

给定一个句子，我们想提取一个日期。如何才能实现这一点？

```
sentence = "Jul 29 is the 210th day of the year"
pattern = r'((Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{2})'results = re.findall(pattern, sentence)
print('Result:', results)
```

输出

```
Result: [('Jul 29', 'Jul')]
```

它支持其他模式，包括“任何数字”，“任何单词字符”。详情可以查看 python 官方[页面](https://docs.python.org/3.5/library/re.html)或者在 google 或 stackoverflow 中搜索。

# 我们如何在数据科学生命周期中利用正则表达式？

***数据探索***

当你开始一个项目时，第一步是探索你所拥有的。对于数字特征，我们可以做一些基本的统计计算，如最小值，最大值，平均值。对于分类特征，我们可以数出可能的值和分布。文字呢？除了计算唯一标记(例如单词)和最高频率单词之外，您还想从非结构化文本中探索更多特征。

![](img/78115facc513d1bf3657394a7f2899a4.png)

Photo: [https://pixabay.com/en/binoculars-person-telescope-woman-1869456/](https://pixabay.com/en/binoculars-person-telescope-woman-1869456/)

*   **理解数据**:给定一条新闻，你想知道这条新闻是否包含事件的日期，以及显示是否包含日期的分布。如果数据源自带就太好了。但是，大部分时候不会发生。
*   **验证假设**:在之前的项目中，我们认为产品的重量是一个有价值的信号。然而，我们不知道非结构化文本是否包含这些信息。所以我们用正则表达式来验证它。幸运的是，有明确的格式，如毫克，毫克，克，公斤等。通过使用正则表达式，我们可以很容易地构建一个新的特征。

***预处理***

我们无法获得清晰的数据或时间(不像 Kaggle 竞争)。所以我们必须清理原始数据。当然，人们相信深度学习可以学习一切并减轻那些无意义的重量。根据我的经验，高质量的数据会带来更好的结果。

![](img/607ebe51d746de785a4fcfc9b2e0b067.png)

Photo: [https://pixabay.com/en/divorce-separation-marriage-breakup-619195/](https://pixabay.com/en/divorce-separation-marriage-breakup-619195/)

*   通过网络爬虫系统获取数据。它可以是 HTML 格式，我们利用“美丽的 Soap”解析原始数据。我们仍然需要使用正则表达式来清理不需要的数据
*   通过 OCR 获取意外数据。假设原始输入仅为英文，但 OCR 识别出它不正确并引入了非英文字符。它很容易被过滤掉。

***特色工程***

在确认模式(如日期、体重等)后，我们可以使用正则表达式将它从非结构化数据中挖掘出来。提取正确的“日期”可能是非常具有挑战性的任务。这里有一些例子

*   不同格式:2018 年 1 月 1 日、2018 年 1 月 1 日、2018 年 1 月 1 日等。
*   不同解读:如何解读 08/01/2018？如果你在香港，应该是一月八日，但是在美国是八月一日。

![](img/af0f0b0e0c0020202706a1d3481f8007.png)

Photo: [https://pixabay.com/en/tools-construct-craft-repair-864983/](https://pixabay.com/en/tools-construct-craft-repair-864983/)

一般来说，有 3 种可能的情况:

*   **定义好的格式**:日期、邮件、电话号码都是定义好的格式。只要谷歌一下，就能找到可靠的正则表达式。
*   **自定义正则表达式**:很多时候，我们需要构建自定义正则表达式。在系统日志分析项目中，目标之一是从日志中提取域密钥(假定域密钥保存在日志文件中)。域密钥可以是系统生成的 15 位数字或数字和字符的组合。
*   **无格式**:例如，您想要获取产品名称，如 iMac、Goolge Home 等。没有标准格式，所以我们可能无法通过正则表达式提取它。

# 拿走

同样，如果你在 NLP 领域工作，正则表达式是一个基本的技能。如果你能掌握它，这是一个优势，但至少你必须实现一些简单的正则表达式。正则表达式是一种预定义的规则库提取方法。它:

*   可能需要**大量时间来实现一个通用模式**。如前所述，正则表达式是一个规则库系统，我们需要一点一点地构建自定义的正则表达式。
*   **不支持看不见的模式**。它是一个基于规则，并暗示它不能处理新模式。
*   **无法保证满足所有场景**。即使是电子邮件，我们也不能保证 100%成功。

# 关于我

我是湾区的数据科学家。专注于数据科学、人工智能，尤其是 NLP 和平台相关领域的最新发展。

*   [博客](http://medium.com/@makcedward/)
*   [领英](https://www.linkedin.com/in/edwardma1026)
*   [Github](https://github.com/makcedward)