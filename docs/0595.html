<html>
<head>
<title>Raspberry Pi 3 vs DragonBoard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">树莓Pi 3 vs龙板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/rpi3-vs-dragonboard-f4dd877b7da9?source=collection_archive---------1-----------------------#2017-05-26">https://towardsdatascience.com/rpi3-vs-dragonboard-f4dd877b7da9?source=collection_archive---------1-----------------------#2017-05-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7c5a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从Python的角度来看</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e72930f7191a57ded56e6e4307dc7b3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zDlbiy2qg6WHYsPVP0nCxg.png"/></div></div></figure><p id="bcb3" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Python是创建简单PoC项目的完美语言。我们不会谈论Python优点的完整列表，但最神奇的是Python是<strong class="kt ir">跨平台</strong>。这个特性对于构建嵌入式系统应用程序非常有用。无需等待编译器构建二进制文件，无需将应用部署到主板上。同样的代码既可以在PC桌面上运行，也可以在基于Linux的板上运行，比如Raspberry Pi。</p><p id="6f03" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">然而，这种方法有其局限性。它不能用于一些与硬件相关的项目，例如PC桌面没有SPI。显然，基于ARM的主板比PC要慢。因此，在某些情况下，在桌面上完美运行的算法在嵌入式系统上会出现性能下降。</p><h1 id="0bba" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated"><strong class="ak">性能对比</strong></h1><p id="bd7a" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">在我们最新的<a class="ae mk" href="https://medium.com/iotforall/how-to-add-alexa-to-a-raspberry-pi-6cedfe15662e" rel="noopener">项目</a>中，性能至关重要。我们使用Dragonboard 410c作为目标平台之一。我们对董事会的表现感到惊喜。即使没有仪器基准测试，我们也能感觉到与Raspberry Pi 3相比，OS包安装、应用程序启动和整体性能都有显著提升。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/dcb0a876a6af84a153f528e042e2a1ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oipNm7MN80pIS3fZE-Ip6Q.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Board specs</figcaption></figure><p id="da6f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">看起来相当平等，并不能解释DragonBoard的优越性能。所以我们执行了一个基准测试来分析它是否真的更快。</p><h1 id="136f" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">基准测试</h1><p id="f442" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">我们决定在这些主板上测量Python 3的性能，作为我们最感兴趣的版本。我们使用了<a class="ae mk" href="http://pyperformance.readthedocs.io/" rel="noopener ugc nofollow" target="_blank"> Python性能基准测试套件</a>，声称它关注真实世界的基准测试，而不是尽可能使用整个应用程序的合成基准测试。</p><p id="b984" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们在嵌入式平台上使用了我们最喜欢的操作系统。该操作系统是一致的，并提供事务性更新。最重要的是，它支持两种板进行我们的基准测试。我们在SD卡上安装了Ubuntu Core，并使用“经典”环境进行测试。</p><p id="edc8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">以下命令安装Pyperformance:</p><p id="55a8" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mq mr ms mt b">pip3 install pyperformance</code></p><p id="470b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们用以下方式运行它:</p><p id="4149" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><code class="fe mq mr ms mt b">echo pyperformance run --python=python3 -o result.json | nohup sudo classic &amp;</code></p><p id="7a3d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们使用这个棘手的命令只是为了允许测试在没有活动ssh连接的情况下在后台运行，因为这需要时间，并避免由于丢失ssh连接而导致的任何问题(测试也会被停止)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/7e5ba8eb00753f870796a6f8966a4f1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VzM2mY5JXnXY202W2Hq-gQ.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Results</figcaption></figure><h1 id="4e2d" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated"><strong class="ak">结果</strong></h1><p id="867b" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">结果真的很让人吃惊。DragonBoard几乎比树莓Pi 3快两倍！现在我们明白了为什么我们会感觉到性能提升。当然，Raspberry Pi 3官方内核使用的是32位的armhf (v7)架构，而DragonBoard 410c使用的是64位的amr64(v8)内核。由于Python大量使用64位算法，这可能解释了差异。</p><h1 id="ec18" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">最终系统台架测试</h1><p id="5d3f" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">为了用本机代码确认这个结果，让我们也运行“sysbench”测试。Sysbench有一些我们想要运行的测试:cpu、内存、线程、互斥。这些测试更具综合性，但我们还是来比较一下这些板的计算能力吧。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ml"><img src="../Images/9a87b921070054e2f933a633462fa072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yG9xMe33aVAPe1MSDpvLGw.png"/></div></div><figcaption class="mm mn gj gh gi mo mp bd b be z dk">Results</figcaption></figure><p id="5798" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">CPU基准测试快了25倍。这是因为CPU测试使用显式的64位整数。在这种情况下，64位操作系统具有很大的优势。其他测试大约快两倍，这与pybenchmark非常相似。即使线程测试不会受到64位内核的影响。</p><h1 id="4e8e" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">结论</h1><p id="e245" class="pw-post-body-paragraph kr ks iq kt b ku mf jr kw kx mg ju kz la mh lc ld le mi lg lh li mj lk ll lm ij bi translated">当然，总有机会用C甚至纯汇编语言开发你的项目，获得更好的性能。但是通常开发时间比板子的价格要贵。使用像Python这样的工具来帮助开发质量更好的产品并更快地将其交付给市场，会更便宜、更有效、生产率更高。</p><p id="c483" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">Python导致的性能下降可以通过一个更强大的板来轻松克服。我们真的希望树莓派官方形象会有一个64位的OS。但是现在DragonBoard 410c是Python应用程序开发的完美选择。</p><p id="3aee" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="mv">由</em> <a class="ae mk" href="https://www.dataart.com/industry/iot-and-m2m-solutions?utm_source=medium&amp;utm_medium=social&amp;utm_campaign=i-spring-2018" rel="noopener ugc nofollow" target="_blank"> <em class="mv"> DataArt </em> </a> <em class="mv">的高级建筑师尼古拉·哈巴罗夫执笔。</em></p></div></div>    
</body>
</html>