<html>
<head>
<title/>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1/>
<blockquote>原文：<a href="https://towardsdatascience.com/build-a-deep-learning-rig-for-800-4434e21a424f?source=collection_archive---------0-----------------------#2017-02-22">https://towardsdatascience.com/build-a-deep-learning-rig-for-800-4434e21a424f?source=collection_archive---------0-----------------------#2017-02-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><p id="f8d7" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">花 800 美元建一个深度学习平台</p><figure class="jr js jt ju gt jv gh gi paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gh gi jq"><img src="../Images/e69fdb76ca7042000a3bb756aa551f94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cBDNlyAjI5jUNIDhgLOCcg.jpeg"/></div></div></figure><p id="d48e" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">我被介绍到深度学习是作为 Udacity 的自动驾驶汽车纳米学位项目的一部分，该项目于 11 月开始。我们的一些项目需要建立深度神经网络来完成任务，例如对交通标志进行分类，以及使用行为克隆来训练汽车在模拟器中自动驾驶。然而，我的 MacBook Pro 无法胜任训练神经网络的任务。我在我的第一个深度学习项目中使用了 AWS，虽然这是一个可行的选择，但为了更大的灵活性和便利性，我决定构建自己的机器。我还计划在纳米学位之外进行大量的深度学习，如<a class="ae kc" href="https://www.kaggle.com" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>竞赛和辅助项目，因此它最终也应该是更具成本效益的选择。</p><p id="04a5" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">我花了很多时间阅读博客，浏览评论，观看 YouTube 视频，并与 Slack 上的其他 SDCND 学生讨论哪些部分是一台好的深度学习机器所必需的，哪些部分我可以牺牲一些性能来降低成本。我想要一台可以随着时间的推移轻松升级的经济型电脑。<a class="ae kc" href="https://pcpartpicker.com/list/dk6RCy" rel="noopener ugc nofollow" target="_blank">这是我最终得到的零件清单</a>，以及我支付的价格。下面我简单说明一下我对每个部分的选择。</p><figure class="jr js jt ju gt jv gh gi paragraph-image"><div class="gh gi kd"><img src="../Images/be26468755547bdd0c5255c335bbdba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*emH-yFoWzPF9vkXxxEMGyg.jpeg"/></div></figure><h2 id="c3da" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">国家政治保卫局。参见 OGPU</h2><p id="c87b" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">我先从深度学习机器最重要的一块说起:GPU。我选择了千兆字节的 NVIDIA GTX 1060 6GB ，它的核心时钟为 1.53GHz，boost 时钟高达 1.77 GHz。1060 6GB 对降压 GPU 来说是一个巨大的冲击，它完全符合我的预算(在撰写本文时仅花费 220 美元)。为了利用他们的 CUDA 平台和 cuDNN 加速深度学习库，NVIDIA GPUs 是深度学习的必备工具。如果你有钱，我建议升级到 GTX 1070 或 1080(如果你在考虑泰坦 X，这不是你要找的构建)。</p><h2 id="9c68" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated"><strong class="ak"> CPU </strong></h2><p id="bbcb" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">CPU 对于深度学习来说不太重要，所以对于预算来说，在这方面花更少的钱是有意义的。我选择了<a class="ae kc" href="https://amzn.to/3baHf78" rel="noopener ugc nofollow" target="_blank">英特尔酷睿 i3-6100 </a>，因为它获得了一些好评，3.7GHz 的时钟速度，以及它使用了英特尔的超线程技术，允许每个内核处理两个处理线程。CPU 并非完全无关紧要，因为它负责训练期间的一些任务，包括:编写和读取代码中的变量，执行函数调用，从数据创建小批量，以及将数据传输到 GPU。到目前为止，我对这款仅售 110 美元的芯片印象深刻。</p><h2 id="19b8" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">母板</h2><p id="9699" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">主板不是性能的关键部分，但在选择主板时，记住未来的升级很重要。我的要求如下:它需要支持我的 CPU(显然)，它需要至少两个 PCIe 3.0 插槽用于 GPU(最好更多)，它需要支持高达 64GB 的 RAM 以供未来升级。我选择了<a class="ae kc" href="https://amzn.to/3bb9yT0" rel="noopener ugc nofollow" target="_blank"> MSI Z170A 游戏</a>主板，它具有 7 个 PCIe 3.0 插槽(最多 4 个 GPU)，支持高达 64GB DDR4 RAM，最高 3600MHz，以及 4 个 SATA 6GB/s 端口，这对于未来可能添加另一个 SSD 来说是一个不错的选择。</p><h2 id="7eb0" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">随机存取存储</h2><p id="c8ca" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">我选择了<a class="ae kc" href="https://amzn.to/3lJD878" rel="noopener ugc nofollow" target="_blank">海盗船复仇 16GB (2 x 8GB) DDR4 </a>内存，我设法以 100 美元的价格买到了它。我见过几次的建议是获得两倍于总 GPU 内存的内存，因此 16GB 的内存应该足够了。但是一般来说，RAM 越多越好，并且它可以证明对于非常大的数据集和需要密集预处理的模型是有用的。</p><h2 id="9705" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">电源</h2><p id="55e8" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">我选择了一个<a class="ae kc" href="https://amzn.to/3gFvoz3" rel="noopener ugc nofollow" target="_blank"> EVGA 750W 80+黄金认证的半模块化</a> PSU，花了我 89 美元。750 瓦比我现在需要的要多得多，因为我在网上试过几个 PSU 计算器，估计我的最大功率使用在 350 瓦左右。但这给我留下了足够的空间来升级组件，而不必购买新的 PSU。我选择了半模块化单元，因为我实在看不出为全模块化单元支付额外费用的好处。遗憾的是，我并没有对使用更高效的铂或钛 PSU 可能节省的成本进行任何研究。你也许可以多花一点前期成本购买一台白金设备，但从长远来看，由于电费更便宜，可以为你省钱。我建议在购买之前做一些相关的研究。</p><h2 id="08df" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">储存；储备</h2><p id="9ec5" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">我花了 70 美元买了一个 240 GB 的 SanDisk 固态硬盘，花了 50 美元买了一个 1TB 的西部数据 7200RPM 硬盘。我在固态硬盘上安装了我的操作系统，我经常使用的软件也将使用它。我会用硬盘来存储图片、视频和大型数据集。对于深度学习来说，SSD 可能不是完全必要的，除非在极少数情况下，你有一个非常大的 32 位浮点数据集，但它不适合内存，这将造成使用 HDD 的瓶颈。但是说实话，没有人想要硬盘了。一旦你上了固态硬盘，你就再也回不去了。</p><h2 id="ce45" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">情况</h2><p id="be90" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">在选择机箱时，我会寻找最便宜的一款，它能与我的硬件配合使用，并且获得了不错的评价。分形设计的 Core 2300 ATX 中塔价格为 40 美元。正如评论中所述，它配备了两个 120 毫米的风扇，可以提供很大的气流。我真的不在乎外观，所以如果你想要一个华而不实的情况下，你不会满意这个。对电缆管理来说还不错，但也不算很棒。否则，这是一个很好的符合我需求的预算方案。</p><h2 id="548a" class="ke kf it bd kg kh ki dn kj kk kl dp km jd kn ko kp jh kq kr ks jl kt ku kv kw bi translated">基准</h2><p id="a78f" class="pw-post-body-paragraph ir is it iu b iv kx ix iy iz ky jb jc jd kz jf jg jh la jj jk jl lb jn jo jp im bi translated">如果不算的话，我的总花费是 785 美元。那么这款 800 美元的机器给你带来了什么样的性能呢？为了进行简单的比较，我使用了 Tensorflow 内置的“LeNet-5-like”卷积模型和 MNIST 数据集。我在我的 MacBook Pro、一个 g2.2xlarge 实例、一个 p2.large 实例和我的新机器上使用以下命令对它进行了训练:</p><pre class="jr js jt ju gt lc ld le lf aw lg bi"><span id="cfb2" class="ke kf it ld b gy lh li l lj lk">time python3 -m tensorflow.models.image.mnist.convolutional</span></pre><figure class="jr js jt ju gt jv gh gi paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gh gi ll"><img src="../Images/361d41787f99a864df2ced869a286de5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VklPXgni-Tr5nvLPRSPmmg.png"/></div></div></figure><p id="e845" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">正如你在上面看到的，我的新机器(标签为“DL Rig”)是明显的赢家。它执行这项任务的速度比我的 MacBook Pro 快 24 倍以上，几乎是 AWS p2.large instance 的两倍。不用说，我对我能以这个价格买到的东西非常满意。</p><figure class="jr js jt ju gt jv gh gi paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="gh gi lm"><img src="../Images/3538731e2e02f1b79f10f0bc5690d5bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZqXj4eDVnwbKHINH5h6k1w.jpeg"/></div></div></figure></div><div class="ab cl ln lo hx lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="im in io ip iq"><p id="d667" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">至于实际组装电脑，这真的不难，所以不要让这吓到你。在这个项目之前，我对计算机的了解和琼恩·雪诺一样多。YouTube 上有很多视频可以引导你完成整个过程。如果你决定建造自己的机器，我强烈推荐使用 pcpartpicker.com 的<a class="ae kc" href="https://pcpartpicker.com" rel="noopener ugc nofollow" target="_blank">来采购零件。除了提供部件目录，该网站还会在选择不同组件时自动检查兼容性问题，并包含来自不同用户的大量示例构建。</a></p><p id="961d" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated">在我的下一篇文章中，我将介绍用 Ubuntu 启动机器的过程，安装所有必要的 NVIDIA 驱动程序，并使用开始训练深度神经网络所需的所有软件创建一个 conda 环境。</p><p id="b202" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated"><em class="lu">更新:这里是我的补充帖</em> <a class="ae kc" href="https://medium.com/@ncondo/ubuntu-deep-learning-software-installation-guide-fdae09f79903" rel="noopener"> <em class="lu"> Ubuntu +深度学习软件安装指南</em> </a> <em class="lu">的链接。</em></p><p id="f58f" class="pw-post-body-paragraph ir is it iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp im bi translated"><em class="lu">请注意，这篇文章可能包含附属链接</em></p></div></div>    
</body>
</html>