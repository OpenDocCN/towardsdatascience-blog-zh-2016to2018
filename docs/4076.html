<html>
<head>
<title>How Nike Run Club led me to write my first AI project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Nike Run Club 如何引导我编写第一个人工智能项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-nike-run-club-led-me-to-write-my-first-ai-project-116d0617c2d1?source=collection_archive---------4-----------------------#2018-07-16">https://towardsdatascience.com/how-nike-run-club-led-me-to-write-my-first-ai-project-116d0617c2d1?source=collection_archive---------4-----------------------#2018-07-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/42bf94ae8c60fe9fa318fe76aa702324.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*Fd9I40gPoWZeqTjnBYJaBQ.png"/></div></figure><p id="8069" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi ks translated">很长时间以来，我一直想开始学习如何将人工智能作为我代码流的一部分。我应该从哪里开始？嗯，我没有理科学士学位，也没有数学基础来理解它背后的所有方程和计算。但是后来，我看到了<a class="ae lb" href="https://machinelearningmastery.com/tutorial-to-implement-k-nearest-neighbors-in-python-from-scratch/" rel="noopener ugc nofollow" target="_blank">杰森·布朗利的这篇</a>惊人的文章，我又开始相信了！</p><p id="5934" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在多次阅读这篇文章并理解它之后，我终于可以说我对 KNN 算法很流利了。让我们谈谈 KNN 吧。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="2a75" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated">KNN 算法</h1><p id="ce14" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">想象你在世界杯上。你看到三个不同球迷的酒吧:英格兰，瑞典和法国。你是威尔士人，你会和谁一起庆祝？当然是英国，因为你们都在大不列颠！</p><p id="eaa1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那是 KNN 的意思:<strong class="jw ir"> K 最近邻</strong>。<br/>我们的数据将被分类为同一维度中最接近的类型:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/0412cefc25f4ccebddda28ff61af8679.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/0*r5XskPmSc46khoNU.png"/></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk">From <a class="ae lb" href="https://en.wikipedia.org/wiki/K-nearest_neighbors_algorithm" rel="noopener ugc nofollow" target="_blank">Wikipedia</a></figcaption></figure><p id="8de8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以看到中间的绿色圆圈。它最接近三角形，所以它可能会被归类为三角形。我说“可能”是因为没有定义“K”。这个“K”表示应该考虑多少个项目。如果“K”是 3，则该圆应归类为三角形(两个三角形对一个正方形)。但是如果“K”是 5，那么该圆应该被归类为正方形(三个正方形对两个三角形)。<br/>大多数时候“K”的默认值是 3(较大的“K”表示不敏感)。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="f05a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一个美好的一天，我正在用 Nike Run Club 应用程序跑步。那天我觉得很累，我需要有人叫醒我，给我一些动力。你猜怎么着，它从没来过。我突然想到:把歌曲分为节奏型和非节奏型！</p><p id="cbc9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我不是一个音乐家，但一点点研究让我想到了术语“<a class="ae lb" href="https://en.wikipedia.org/wiki/Tempo#Measurement" rel="noopener ugc nofollow" target="_blank"> Tempo </a>”和它的度量单位“BPM”。每分钟节拍值决定了歌曲是否有节奏。</p><p id="434a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">正如<a class="ae lb" href="https://en.wikipedia.org/wiki/Tempo#Basic_tempo_markings" rel="noopener ugc nofollow" target="_blank">维基百科</a>中所写的，一首节奏歌曲的 BPM 值在 120 以上:</p><blockquote class="mv mw mx"><p id="daec" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">快板——快速，迅速，明亮(120–156 BPM)(非常快板比快板稍快，但总是在它的范围内)</p><p id="c6a9" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">Vivace —活泼而快速(156–176 BPM)</p><p id="6a07" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">Vivacissimo —非常快且活泼(172–176 BPM)</p><p id="0391" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">快板或活泼的快板——非常快(172–176 BPM)</p><p id="7241" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">很快—非常非常快(168–200 BPM)</p><p id="43dc" class="ju jv my jw b jx jy jz ka kb kc kd ke mz kg kh ki na kk kl km nb ko kp kq kr ij bi translated">Prestissimo —甚至比 presto 更快(200 bpm 及以上)</p></blockquote><p id="97c3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以理论上我们需要对一首歌的 BPM 是否在 120 以上进行分类。问题是我没有找到任何精确的算法来计算 BPM，所以我必须添加更多的值来确保歌曲是有节奏的。一首歌的 BPM 平均值。<br/> 2。高 BPM 点占总点数的百分比。<br/> 3。歌曲有多少 BPM 点序列(连续 5 个高 BPM 点以上)。<br/>我还用 5 减去了每个点，因为我不相信<a class="ae lb" href="https://github.com/aubio/aubio" rel="noopener ugc nofollow" target="_blank"> Aubio </a>库算法的结果。</p><p id="1b11" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们检索这些值并将它们添加到 DB: <br/>首先用<a class="ae lb" href="https://github.com/aubio/aubio/blob/master/python/demos/demo_tempo.py" rel="noopener ugc nofollow" target="_blank"> aubio </a>提取歌曲的 BPM 值示例:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="7a0a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，获取我们需要的所有值:</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="1d07" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">把所有的值放入一个数据库，让我们开始分类！</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="85f1" class="ne lk iq bd ll nf ng dn lp nh ni dp lt kf nj nk lx kj nl nm mb kn nn no mf np bi translated">创建数据集</h2><p id="bf4e" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">我们需要给机器喂食。诀窍是数据集，数据集是我们希望为学习部分的算法提供的数据列表(很多)。</p><p id="5fc3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们来看看:</p><p id="d06e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们用数据库中的数据创建了一个列表列表。<br/>然后，我们需要加载它并将其分成 2 组:<br/> *训练集——算法实际学习的数据。<br/> *测试集——用于测试我们算法的验证集。</p><p id="0bac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">每个列表包含 4 个属性:<br/> * BPM 平均值。<br/> * BPM 计数器百分比。<br/> *高 BPM 点序列。<br/> *歌曲是否有节奏</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="501d" class="ne lk iq bd ll nf ng dn lp nh ni dp lt kf nj nk lx kj nl nm mb kn nn no mf np bi translated">创建 KNN 模型</h2><p id="5bf8" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">我们的 KNN 模型处理实数。这就是我们要使用"<a class="ae lb" href="https://en.wikipedia.org/wiki/Euclidean_distance" rel="noopener ugc nofollow" target="_blank">欧几里德距离</a>"来计算即将到来的预测的最佳 K 点的方法。将每个训练集与一个测试用例进行比较:我们计算每个训练集值和测试集值之间的距离，并将其添加到一个变量中。我们对存储数据的变量进行排序，并检索 K 个最佳选项(最小距离)。</p><p id="3202" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们写点代码吧！</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="7cbc" class="ne lk iq bd ll nf ng dn lp nh ni dp lt kf nj nk lx kj nl nm mb kn nn no mf np bi translated">预测未来</h2><p id="a291" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">我们创建了所有数据，检索了每个训练集的最佳点，现在我们可以预测结果了！</p><p id="a6d6" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">预测是投票。主要群体是选举出来的。就这么简单。</p><p id="0589" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们看看它是怎么做的</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="d7b0" class="ne lk iq bd ll nf ng dn lp nh ni dp lt kf nj nk lx kj nl nm mb kn nn no mf np bi translated">把所有的放在一起</h2><p id="af79" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">现在我们有了所有的碎片，让我们来完成这个拼图吧！</p><ol class=""><li id="a48b" class="nq nr iq jw b jx jy kb kc kf ns kj nt kn nu kr nv nw nx ny bi translated">首先获取训练数据，或者从现有的 Pickle 对象中加载它。</li><li id="b4ce" class="nq nr iq jw b jx nz kb oa kf ob kj oc kn od kr nv nw nx ny bi translated">找到周围最好的邻居。</li><li id="1996" class="nq nr iq jw b jx nz kb oa kf ob kj oc kn od kr nv nw nx ny bi translated">预测。</li></ol><p id="8a99" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们会有两种模式:<br/> 1。训练模式——尽我们所能找到最准确的最佳数据集。预测。<br/> 2。对一首歌进行分类，不管它是否有节奏。</p><figure class="mn mo mp mq gt jr"><div class="bz fp l di"><div class="nc nd l"/></div></figure><p id="6f72" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们测试分类器并检查结果:</p><pre class="mn mo mp mq gt oe of og oh aw oi bi"><span id="fe96" class="ne lk iq of b gy oj ok l ol om">Remix.mp3<br/>Train set: 64<br/>Test set: 1<br/>[[158, 64, 125, &lt;TEMPOS.RHYTHMIC: 'Rhythmic'&gt;], [154, 63, 112, &lt;TEMPOS.RHYTHMIC: 'Rhythmic'&gt;], [167, 72, 145, &lt;TEMPOS.RHYTHMIC: 'Rhythmic'&gt;]]<br/>Is Remix.mp3 rhythmic? True<br/>Remix.mp3 is added successfully</span></pre><p id="92eb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我测试过的歌是有节奏的(是混音的！！！)<br/>我们可以看到它找到的最好的邻居是:<br/>【158，64，125，&lt; TEMPOS。节奏:&gt;)<br/>【154，63，112】&lt;节奏。节奏:&gt;)<br/>【167，72，145】&lt;节奏。节奏:'节奏'&gt; ]</p><p id="9f72" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">获胜者是……‘有节奏’！我们成功了！</p><h1 id="927f" class="lj lk iq bd ll lm on lo lp lq oo ls lt lu op lw lx ly oq ma mb mc or me mf mg bi translated">结论</h1><p id="bdc2" class="pw-post-body-paragraph ju jv iq jw b jx mh jz ka kb mi kd ke kf mj kh ki kj mk kl km kn ml kp kq kr ij bi translated">我们已经学习了 KNN 模型，以及如何实现它和用它预测数据。在你的代码中使用人工智能，即使你可能不具备所有必要的基础<strong class="jw ir">也是可能的</strong>。我确信，如果我们有更多类似上面提到的关于这些模型及其实现的简单文章，我们将会看到更多的开发者在他们的代码中使用这些概念。<strong class="jw ir">不要害怕使用它！</strong></p><p id="dfb5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我希望这篇文章教会你一些新的东西，我期待着你的反馈。请告诉我——这对你有用吗？</p><p id="27ab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完整的项目可以在 Github <a class="ae lb" href="https://github.com/Ori-Roza/SportPlayListSite" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">这里</strong> </a> <strong class="jw ir">找到。</strong></p></div></div>    
</body>
</html>