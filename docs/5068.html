<html>
<head>
<title>Data Exploration and Visualization with R &amp; ggplot</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用 R &amp; ggplot 进行数据探索和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-exploration-and-visualization-with-r-ggplot-7f33c10ec1c?source=collection_archive---------15-----------------------#2018-09-25">https://towardsdatascience.com/data-exploration-and-visualization-with-r-ggplot-7f33c10ec1c?source=collection_archive---------15-----------------------#2018-09-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="95bc" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从 IGN 数据库中可视化游戏流派和平台</h2></div><p id="f222" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">考虑到我最近对 R 和 ggplot 的尝试，从通常的 Python jupyter 笔记本中休息一下似乎是合适的。我从<a class="ae lb" href="https://www.kaggle.com/egrinstein/20-years-of-games" rel="noopener ugc nofollow" target="_blank">符号</a>中选择了 IGN 数据集，对数据进行快速的数据探索和可视化。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/9dffb4c743efc9e12c214981ddd3b982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AwH8ztuyTXj3MbEF.jpg"/></div></div></figure><p id="8603" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">加载了包含有用包(如 ggplot2 和 dplyr)的 tidyverse 包后，我们开始阅读 csv 文件。通过将 stringsAsFactors 设置为 FALSE，我们确保字符串变量不会作为因子读入。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lo"><img src="../Images/e05e432e66797ff8a8a00d989e477802.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lH1CHBcdLAcVB3BiOSyX5Q.png"/></div></div></figure><p id="61cb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">快速查看数据框架会发现一些有趣的变量。特别是，标题、平台、分数、流派和发行年份变量。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lp"><img src="../Images/f33ddfe69dc18ea4a90c98a26d07ea54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XJe7mXTSUm1S5GHOsZNKig.png"/></div></div></figure><p id="583c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">排名靠前的标题列表似乎不太有趣，因为有多个标题得分分别为 9 和 10。让我们看看基于特定分组的平均复习分数。</p><h2 id="3708" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">游戏类型</h2><p id="649b" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">因为有 112 种独特的流派，让我们来看看前 10 种。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lp"><img src="../Images/3875b4c364f4b32dfa942a69783f9771.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QVXr70wsq_OGR26cRc0a7Q.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mo"><img src="../Images/4d876c6c703e14846eec8e268cb41c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gm8L1uGsDVf8b77L1UewBw.png"/></div></div></figure><p id="7101" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有 122 种流派都有必要吗？这里的划分可能过于精细。有相当多的类型，如“探险，平台塑造者”和“探险，情节”有相同的“探险”的主要类型。因此，我写了一个函数，通过使用类型变量的第一个单词来得到每款游戏的主要类型。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/7dcda1b766e736e14bc551a2d601a089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IM9-ZSIR6SPhCrCZJjg8Eg.png"/></div></div></figure><p id="e9a2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">新的 main _ 流派变量现在包括一个更容易管理的 31 种独特流派。不过，似乎有一个叫 NA 的。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/d2b342a75054f6ae22c8faf2d6abfbb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a__T4P2p7LsHTbi42DbmAQ.png"/></div></div></figure><p id="14c1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有 36 行缺少流派值。由于这是 18，000 多个观察结果中的一个非常小的样本，手动标记它们将会花费不必要的精力，因此我们将这些观察结果与 NA 流派值放在一起。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/4974ea48d73aeb8cdfb583a872658f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6VPWtVvmZTtldupR7SPsA.png"/></div></div></figure><p id="b808" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们在此处再次检查，以确保其他值中没有任何 NA 值。这里可以使用 apply 函数在 ign 数据框的每一列上运行一个函数。这里，值为 FALSE 表示该特定列中没有 NA 值。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lp"><img src="../Images/96024949672b07951dbf9f142d9d9fd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*32zFWV8D2nEtSZOKGjbrkA.png"/></div></div></figure><p id="c479" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了新减少的流派，让我们再来看看平均评论分数分布，这次是所有的流派。我们看到编译游戏已经下降很久了，而硬件游戏仍然是最高等级的游戏。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lo"><img src="../Images/e58eafa7a346937f265a7053463ecf90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M12OERXGl0gS1ZON_6eN8Q.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mq"><img src="../Images/4e901ea2d7952eeb57ae3e877d3f2158.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nUts_YuQ6FZR93gNM01WEA.png"/></div></div></figure><p id="5e69" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们用一个方框图再次想象一下。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/78117a5a12be0ae0f434a16e1e04f161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PKWOjC_8qegtva2M00gxEQ.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mr"><img src="../Images/5db57b65842e7dd027326c9d048d9fca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HclQPEnAT6scDcEDsugJ0A.png"/></div></div></figure><p id="4393" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">似乎虽然成人、棒球和硬件游戏评论分数属于一个狭窄的范围，但几乎所有其他流派都有更多的差异和异常值。</p><p id="c1bd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">什么是硬件游戏？</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ms"><img src="../Images/886ce2f5f500b2b175ed70938a7d489d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dLLJ5kRGShGuth6DO0UZoQ.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mt"><img src="../Images/98e9412e7e103a9347cd300f8690f8da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rXBBvMaeRp0wM-mS-8A9vw.png"/></div></div></figure><p id="e376" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">显然，它们指的是虚拟现实硬件，仅由两个条目表示。鉴于虚拟现实行业刚刚起步，这种观察的缺乏似乎是恰当的。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/fd988c293f0799738b7141f094bc524a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/0*N09FNlNPat004TVg"/></div></figure><p id="992c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">鉴于硬件类别只有两种观察，哪种类型的游戏最多？</p><p id="9002" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">鉴于上面的平均复习分数图表中有 30 个变量的条形图看起来相当狭窄，让我们在这里通过组合 geom_point 和 geom_segment 来尝试棒棒糖图表。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mv"><img src="../Images/73b4effb176b6655571fc602a097cc8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OZpG2R4EUcOWaucKq0CEmg.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mr"><img src="../Images/c9657d1107e73b35efbf8d3b18686be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VzxTvgcXRDRFDGJ6_KTCLQ.png"/></div></div></figure><p id="8643" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">动作游戏的数量似乎是压倒性的，有超过 5000 个参赛作品，约占所有参赛作品的 27%。</p><h2 id="906a" class="lq lr iq bd ls lt lu dn lv lw lx dp ly ko lz ma mb ks mc md me kw mf mg mh mi bi translated">游戏平台</h2><p id="8197" class="pw-post-body-paragraph kf kg iq kh b ki mj jr kk kl mk ju kn ko ml kq kr ks mm ku kv kw mn ky kz la ij bi translated">有 59 个独特的平台。让我们看看前 10 名的平均评审分数。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mr"><img src="../Images/4d36ea2c5d26f220bd704a24f643d571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U_11bvPSM1_hdf02wGWl0w.png"/></div></div></figure><p id="46bc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了 Macintosh，这是一个相当倒退的列表。</p><p id="9424" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">游戏数量排名前 10 的平台呢？</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ms"><img src="../Images/276e2412bf82f2e8eef07c214231f64a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZwmgvnpzyyR_dflkKEESTQ.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mr"><img src="../Images/7d13d69c0a93ab20d6592aeddd5db76c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ik7POvWMDRBStJmQsAI2IA.png"/></div></div></figure><p id="803f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有没有可以在多个平台玩的游戏？通过按游戏名称对初始数据帧进行分组，我们可以找到支持特定名称的平台数量。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ca"><img src="../Images/e192234da308613fbd1cd3d1bf330f5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fn1EcyC369DsEPWgKnV3IA.png"/></div></div></figure><p id="0fcd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">鉴于近年来也有如此多的平台失宠，IGN 数据库中的游戏数量是否反映了平台受欢迎程度的变化？</p><p id="e5c8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们绘制一个跨所有平台的季节性图表。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/b1e9013484e907d455b4462b9423ed62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vPdo6dnFNFM280uEg3b0HA.png"/></div></div></figure><p id="f541" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">1970 年似乎太遥远了，所以 1996 年似乎是这个情节的合理起点。查看 2010 年以后的数据，似乎可以发现图书总数出现了奇怪的下降。由于这可能是一个数据质量问题，我们将重点放在 1996 年至 2010 年这 15 年。</p><p id="a264" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了防止图表混乱，我们将数据点限制在任何给定年份拥有超过 10 款游戏的平台上。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/df8a4d5f9b721c58665dcb55d2255e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_I8Y7iSrFS3ek8u8zlwAw.png"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mo"><img src="../Images/9f1fa7c7e196beaa2ba4643ce88f5a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SHf0FQ2mxd5MpEn7V7aynw.png"/></div></div></figure><p id="07cd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一些有趣的趋势值得注意:</p><ol class=""><li id="86eb" class="mw mx iq kh b ki kj kl km ko my ks mz kw na la nb nc nd ne bi translated">为每一代 Playstation 列出的游戏的衰落与下一代 Playstation 游戏的崛起相吻合。</li><li id="44dc" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">2010 年是手机游戏和平板电脑游戏(如 Android 和 iPad 游戏)出现的第一年，这可能标志着手机游戏的普及。</li><li id="b6d3" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">PC 游戏的年度数量始终保持相当稳定。</li><li id="1ded" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">Wii 游戏在 2007-2008 年间的大规模增长是非常出人意料的，尽管谷歌趋势证实了随后对游戏机的兴趣和游戏数量的下降。</li></ol><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/cd4e326bc7d4ce4e395d1a10a4f3a778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/0*dTVKzq1FQhflEtVD.jpg"/></div></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><p id="aaf3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">学会一种新的语言来可视化数据真的很有意思，而且在接下来的帖子中，肯定会看到这些新工具带来更有效的数据可视化！</p><p id="5197" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">R markdown 代码可以在<a class="ae lb" href="https://github.com/finnqiao/ign_in_r" rel="noopener ugc nofollow" target="_blank">这里</a>找到，也可以在<a class="ae lb" href="https://www.linkedin.com/in/finn-qiao-6186a8103/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上随意连接！</p></div></div>    
</body>
</html>