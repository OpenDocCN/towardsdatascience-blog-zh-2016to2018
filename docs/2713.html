<html>
<head>
<title>Real-Time Object detection API using Tensorflow and OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Tensorflow和OpenCV的实时对象检测API</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/real-time-object-detection-api-using-tensorflow-and-opencv-47b505d745c4?source=collection_archive---------2-----------------------#2018-02-25">https://towardsdatascience.com/real-time-object-detection-api-using-tensorflow-and-opencv-47b505d745c4?source=collection_archive---------2-----------------------#2018-02-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="edd6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在过去几年中，当今世界的视觉数据量呈指数级增长，这主要是由于到处都有大量的传感器。构建能够在单个图像中定位和识别物体的机器学习模型仍然是计算机视觉中的核心挑战。致力于解决这个问题点燃了我对这个领域的兴趣。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="86d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">作为我探索的一个途径，我发现Google刚刚发布了一个对象检测API。该API已经在具有不同可训练检测模型的微软COCO数据集(90个常见对象的大约300，000个图像的数据集)上进行训练。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ks"><img src="../Images/f55e0db5df9bf7d6b531c11318ab8761.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*7fprXNrTAL9ornGjdeLgAw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">different trainable detection models</figcaption></figure><p id="4d7d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">地图越高(最小平均精度)，模型越好</p><h1 id="50fe" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">项目描述</strong></h1><p id="68a6" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">我首先在github上克隆了<a class="ae mh" href="https://github.com/tensorflow/models" rel="noopener ugc nofollow" target="_blank"> Tensorflow对象检测</a>库。该API是一个基于tensorflow的开源框架，可以轻松构建、训练和部署对象检测模型。</p><p id="1a3f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于这个项目[am on windows 10，Anaconda 3，Python 3.6]，我只关心<a class="ae mh" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/installation.md" rel="noopener ugc nofollow" target="_blank">安装</a>部分，并遵循包括</p><ul class=""><li id="3147" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">使用pip(最新版本)安装最新版本的tensorflow时会附带安装所需的库，例如pillow、lxml等</li><li id="c44f" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">下载与我的系统兼容的最新版本的<strong class="jp ir"> protobuf </strong>用于在<a class="ae mh" href="https://github.com/google/protobuf/releases" rel="noopener ugc nofollow" target="_blank"> google protobuf版本</a>上编译</li><li id="3d4b" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">将<a class="ae mh" href="https://github.com/tensorflow/models" rel="noopener ugc nofollow" target="_blank"> tensorflow/models </a>文件夹克隆为zip文件</li><li id="219c" class="mi mj iq jp b jq mr ju ms jy mt kc mu kg mv kk mn mo mp mq bi translated">在我的Anaconda提示符下，运行这个命令进行protobuf编译，没有它这个例子就不能工作。</li></ul><pre class="kt ku kv kw gt mw mx my mz aw na bi"><span id="808b" class="nb lf iq mx b gy nc nd l ne nf"># From tensorflow/models/research/<br/>protoc object_detection/protos/*.proto --python_out=.</span></pre><ul class=""><li id="8b0e" class="mi mj iq jp b jq jr ju jv jy mk kc ml kg mm kk mn mo mp mq bi translated">我更喜欢使用Spyder作为我的编辑器，所以我复制了<a class="ae mh" href="https://github.com/tensorflow/models/blob/master/research/object_detection/object_detection_tutorial.ipynb" rel="noopener ugc nofollow" target="_blank">示例</a>中的笔记本，并将其转换为python文件</li></ul><h1 id="eebe" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">测试模型</strong></h1><p id="166f" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">使用预先训练好的<strong class="jp ir"> ssd_mobilenet_v1_coco </strong>模型(虽然速度很快，但准确性最低)，我决定在自己的图像上测试一下，结果令人惊讶！</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/ccfd42a1f7d3bf7797362b3e6112299e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*NqT1MqejA7YiGBswUQbiog.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Django girls event in my school</figcaption></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/7996f99c2ddc561bca36651257875618.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*DuLGrTj-GJZ5c7N0tI8jTA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">This was actually my dinner</figcaption></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="nj nk di nl bf nm"><div class="gh gi ni"><img src="../Images/26d0b1a05c9cbf7e3983a07b5c55ca95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V92n61fNlh-Oicqftc2XoQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Ongoing free python training organized by <strong class="bd nn">@lautechdatasci</strong> team</figcaption></figure><p id="b9fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">技巧:</strong>测试图片是用我的手机和数码相机拍摄的。调整它们的尺寸有助于模型的检测。</p><p id="3980" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我想要实时检测，所以我用我的网络摄像头连接了OpenCV。OpenCV是一个用于图像处理、机器学习和实时检测的开源计算机视觉库。</p><p id="0e5b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是结果:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi no"><img src="../Images/c5d7055ec623c0406f796bbac5ece4e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/1*J4rMK9ffat-gFKBwyN4_8Q.gif"/></div></figure><p id="e568" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请不要介意我的网络摄像头的质量😊，这是一个旧的。我希望我能安装升级程序</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="1985" class="le lf iq bd lg lh np lj lk ll nq ln lo lp nr lr ls lt ns lv lw lx nt lz ma mb bi translated"><strong class="ak">我的下一个任务</strong></h1><p id="8048" class="pw-post-body-paragraph jn jo iq jp b jq mc js jt ju md jw jx jy me ka kb kc mf ke kf kg mg ki kj kk ij bi translated">使用预先训练好的模型真的很酷，但是我喜欢在我自己的数据集上为超级应用程序训练API。这可能不容易，但事实上，<strong class="jp ir">我已经准备好战斗了！！！</strong></p><p id="c52c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以在我的<a class="ae mh" href="https://github.com/am-sirdaniel/Real-Time-Object-detection-API" rel="noopener ugc nofollow" target="_blank">库</a>上获得完整的代码，这样你就可以直接运行文件并进行测试。如果你觉得我的帖子有趣😍，尽可能地按下鼓掌按钮。</p><p id="42dd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在推特上关注我:@danielajisafe，@lautechdatasci</p><p id="bb57" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">#fromlautechtotheworld</p><p id="5da7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">YOUTUBE参考</p><p id="bac0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae mh" href="https://www.youtube.com/watch?v=MoMjIwGSFVQ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=MoMjIwGSFVQ</a><br/><a class="ae mh" href="https://www.youtube.com/watch?v=COlbP62-B-U&amp;list=PLQVvvaa0QuDcNK5GeCQnxYnSSaar2tpku" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=COlbP62-B-U&amp;list = plqvvaa 0 qudcnk 5 gecqnxynssaar 2 tpku</a><br/><a class="ae mh" href="https://www.youtube.com/watch?v=Rgpfk6eYxJA" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=Rgpfk6eYxJA</a></p></div></div>    
</body>
</html>