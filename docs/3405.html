<html>
<head>
<title>Understanding Confusion Matrix</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解混淆矩阵</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/understanding-confusion-matrix-a9ad42dcfd62?source=collection_archive---------0-----------------------#2018-05-09">https://towardsdatascience.com/understanding-confusion-matrix-a9ad42dcfd62?source=collection_archive---------0-----------------------#2018-05-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/eb4f2598f2dcd4c08df7a259248ac76d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*va6qO1E_MK9Yg8PaCghy3A.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Understanding Confusion Matrix [Image 1] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="6a3f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">当我们得到数据后，经过数据清理、预处理和争论，我们做的第一步是把它输入到一个优秀的模型中，当然，得到概率输出。但是坚持住！我们到底如何衡量我们模型的有效性。效果越好，性能越好，这正是我们想要的。这也是混淆矩阵引人注目的地方。混淆矩阵是机器学习分类的性能度量。</p><p id="0c08" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">本博客旨在回答以下问题:</p><ol class=""><li id="edb1" class="la lb iq ke b kf kg kj kk kn lc kr ld kv le kz lf lg lh li bi translated">混淆矩阵是什么，为什么需要它？</li><li id="41ec" class="la lb iq ke b kf lj kj lk kn ll kr lm kv ln kz lf lg lh li bi translated">如何计算二类分类问题的混淆矩阵？</li></ol><p id="8146" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">今天我们就来一劳永逸的了解一下混淆矩阵。</p><p id="3cbf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">什么是混淆矩阵，为什么你需要它？</strong></p><p id="ddea" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">嗯，这是对机器学习分类问题的性能测量，其中输出可以是两个或更多个类。这是一个包含预测值和实际值的 4 种不同组合的表格。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/b13004094289bb3e6c23fd8a89e8253d.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*Z54JgbS4DUwWSknhDCvNTQ.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Confusion Matrix [Image 2] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="16cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它对测量召回率、精确度、特异性、准确性以及最重要的 AUC-ROC 曲线非常有用。</p><p id="1fc2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们从怀孕类比的角度来理解 TP，FP，FN，TN。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/297bb3fb9fadb69130c62a24725df961.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*7EYylA6XlXSGBCF77j_rOA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Confusion Matrix [Image 3] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="1df3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">真阳性:</strong></p><p id="023d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解读:你预测的是正的，这是真的。</p><p id="58de" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你预言一个女人怀孕了，她真的怀孕了。</p><p id="d4ab" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">真否定:</strong></p><p id="5acc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解读:你预测的是负数，这是真的。</p><p id="493e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你预言一个男人不会怀孕，他实际上也没有。</p><p id="cb2d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">假阳性:(1 型错误)</strong></p><p id="c467" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解读:你预测的是正的，是假的。</p><p id="eef7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你预言一个男人怀孕了，但他实际上没有。</p><p id="5971" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">假阴性:(2 型错误)</strong></p><p id="cf43" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">解读:你预测的是负数，这是假的。</p><p id="adf8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你预测一个女人不会怀孕，但她确实怀孕了。</p><p id="49bc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请记住，我们将预测值描述为正和负，将实际值描述为真和假。</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/09780003b96feedf41f37088ecbfed6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*2lptVD05HarbzGKiZ44l5A.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Actual vs Predicted values [Image 4] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="bd69" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">如何计算二类分类问题的混淆矩阵？</strong></p><p id="381f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们通过数学来理解混淆矩阵。</p><div class="lp lq lr ls gt ab cb"><figure class="lv jr lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/221214bc923528ee185b308702142e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*OpSYGh2-XE6aE3sVAJAHrw.png"/></div></figure><figure class="lv jr mb lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><img src="../Images/fb72dcc3c0bfff026d112b71fd69b19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*uR09zTlPgIj5PvMYJZScVg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk mc di md me">Confusion Matrix [Image 5 and 6] (Image 5 courtesy: My Photoshopped Collection) (Image 6 courtesy: I can not find the source. If you know please comment. I will provide appropriate citations. :D)</figcaption></figure></div><p id="e5ac" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">召回</strong></p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/bc59252bd40c7b3b69e2775c78b27d23.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*BT3awaBdZHsit5s41LPb9A.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Recall [Image 7] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="f1bb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上面的等式可以解释为，从所有的正类中，我们正确预测了多少。</p><p id="fd0e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">召回率要尽可能高。</p><p id="d08e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">精度</strong></p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/03fc61c7c09c172fb5f9cbefc6ea59d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*QRIZDkk_FffXKs_07ZlhZw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Precision [Image 8] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="ac40" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上面的等式可以解释为，从我们预测为正的所有类中，有多少实际上是正的。</p><p id="c7c6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">精度要尽可能高。</p><p id="5fa8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">和</p><p id="bc83" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">精度</strong></p><p id="7d3c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">从所有的类(正类和负类)中，我们正确预测了多少。在这种情况下，它将是 4/7。</p><p id="07ba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">精确度应该尽可能高。</p><p id="efd8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> F-measure </strong></p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/66c387798cbf564b800dbc371fac6c6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:716/format:webp/1*98FaAKfPWo-EBTbjsxm4GA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">F1 Score [Image 9] (Image courtesy: My Photoshopped Collection)</figcaption></figure><p id="17ac" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">低精度和高召回率的两个模型很难比较，反之亦然。所以为了使它们具有可比性，我们使用 F-Score。F-score 有助于同时衡量查全率和查准率。它用调和平均值代替算术平均值，更多地惩罚极值。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="b11a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我希望我已经让你对混淆矩阵有了一些基本的了解。如果你喜欢这篇文章，给这篇文章一些掌声会对你有所帮助👏。我随时欢迎你的问题和建议。你可以在脸书、推特、Linkedin 上分享这个，这样有需要的人可能会偶然发现这个。</p><p id="b777" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">您可以通过以下方式联系到我:</p><p id="4eff" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">领英:<a class="ae mp" href="https://www.linkedin.com/in/narkhedesarang/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/narkhedesarang/</a></p><p id="965b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">推特:【https://twitter.com/narkhede_sarang T2】</p><p id="78d7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">github:【https://github.com/TheSarang T4】</p><p id="1fd7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">感谢阅读！</strong></p></div></div>    
</body>
</html>