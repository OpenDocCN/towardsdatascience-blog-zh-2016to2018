<html>
<head>
<title>Stable Baselines: a Fork of OpenAI Baselines — Reinforcement Learning Made Easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">稳定基线:OpenAI 基线的一个分支——强化学习变得简单</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/stable-baselines-a-fork-of-openai-baselines-reinforcement-learning-made-easy-df87c4b2fc82?source=collection_archive---------5-----------------------#2018-08-21">https://towardsdatascience.com/stable-baselines-a-fork-of-openai-baselines-reinforcement-learning-made-easy-df87c4b2fc82?source=collection_archive---------5-----------------------#2018-08-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9057" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">统一的结构(scikit-learn like 接口)和单一的代码样式以及文档</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/387b5acedad2ad06c180f45a270ead42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qykf3HYCbSxw-nDYdLSbeQ.png"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Image Credit: L.M. Tenkes</figcaption></figure><p id="ec44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过几周的努力，我们很高兴地宣布<a class="ae ls" href="https://github.com/hill-a/stable-baselines" rel="noopener ugc nofollow" target="_blank">稳定基线</a>的发布，这是一组基于 OpenAI 基线的具有公共接口的强化学习(RL)算法的实现。我们关注易用性和一致性。在本文中，我们将展示各种例子(基本用法、保存/加载代理、简单的多重处理、Atari 游戏培训等等)以及 fork 的起源。</p><p id="9e26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更新(2020 年 5 月)</strong>:稳定-基线 3 (PyTorch 版)现已上线！<a class="ae ls" href="https://github.com/DLR-RM/stable-baselines3" rel="noopener ugc nofollow" target="_blank">https://github.com/DLR-RM/stable-baselines3</a></p><p id="8abc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更新</strong>:文档现已在<a class="ae ls" href="http://stable-baselines.readthedocs.io/" rel="noopener ugc nofollow" target="_blank">http://stable-baselines.readthedocs.io/</a>上线，并增加了 Tensorboard 支持</p><p id="2ec4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更新:</strong>我们增加了一个 rl 基线动物园，集合包含 70+训练有素的特工<a class="ae ls" href="https://github.com/araffin/rl-baselines-zoo" rel="noopener ugc nofollow" target="_blank">https://github.com/araffin/rl-baselines-zoo</a></p><p id="422c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">更新</strong>:我们写了一个完整的教程:<a class="ae ls" href="https://github.com/araffin/rl-tutorial-jnrr19" rel="noopener ugc nofollow" target="_blank">https://github.com/araffin/rl-tutorial-jnrr19</a></p><div class="lt lu gp gr lv lw"><a href="https://github.com/hill-a/stable-baselines" rel="noopener  ugc nofollow" target="_blank"><div class="lx ab fo"><div class="ly ab lz cl cj ma"><h2 class="bd ir gy z fp mb fr fs mc fu fw ip bi translated">丘陵/稳定基线</h2><div class="md l"><h3 class="bd b gy z fp mb fr fs mc fu fw dk translated">稳定基线 OpenAI 基线的一个分支，强化学习算法的实现</h3></div><div class="me l"><p class="bd b dl z fp mb fr fs mc fu fw dk translated">github.com</p></div></div><div class="mf l"><div class="mg l mh mi mj mf mk kq lw"/></div></div></a></div><h2 id="1975" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">TL；博士:</h2><p id="4006" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">有了稳定的基线，培训 PPO 代理就像以下一样简单:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Basic Usage: training an agent with stable baselines</figcaption></figure><p id="ea89" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是我们能不能简单点？当然，我们可以！有了稳定的基线，你现在可以用一行代码定义和训练一个强化学习代理:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Train a RL agent in one line of code!</figcaption></figure><p id="18c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以使用 Colab 笔记本<strong class="ky ir"> </strong> <a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/stable_baselines_getting_started.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">在线试一试</strong> </a> <strong class="ky ir"> </strong>。</p><h1 id="c6f9" class="nl mm iq bd mn nm nn no mq np nq nr mt jw ns jx mw jz nt ka mz kc nu kd nc nv bi translated">叉子的历史</h1><p id="c01c" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">当我们开始使用 OpenAI 基线进行研究时，我们很高兴地发现<em class="nw">强化学习算法正在工作</em> (1)。然而，从我们试图稍微调整它的那一刻起，例如用学习到的功能而不是图像工作，它就变成了地狱，我们必须修补未注释的代码。</p><p id="2df9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们经历的困难中，有缺少注释，缺少有意义的变量名和一致性(没有共同的代码风格)以及大量重复的代码(2)。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nx"><img src="../Images/69d53d317da7323fbd609ed81ec08bf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YC5AxileEBkicPTJ-dP9Ww.png"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Example of issue found in the OpenAI Baselines repo</figcaption></figure><p id="61d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当我们在 Github 库上查看问题时，我们并不孤单:<a class="ae ls" href="https://github.com/openai/baselines/issues/285" rel="noopener ugc nofollow" target="_blank"> #285 </a>、<a class="ae ls" href="https://github.com/openai/baselines/issues/400" rel="noopener ugc nofollow" target="_blank"> #400 </a>、<a class="ae ls" href="https://github.com/openai/baselines/issues/413" rel="noopener ugc nofollow" target="_blank"> #413 </a>、<a class="ae ls" href="https://github.com/openai/baselines/issues/445" rel="noopener ugc nofollow" target="_blank"> #445 </a>、<a class="ae ls" href="https://www.reddit.com/r/MachineLearning/comments/7l23y8/d_is_it_me_or_can_openai_baselines_be_difficult/" rel="noopener ugc nofollow" target="_blank"> Reddit </a>。</p><p id="2fa2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，在基线存储库的主分支上的一个新提交破坏了我们的代码之后，我们决定创建一个 fork，并牢记两个想法:</p><ul class=""><li id="3cf7" class="ny nz iq ky b kz la lc ld lf oa lj ob ln oc lr od oe of og bi translated">注释代码和单一代码样式</li><li id="54ed" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated">每种算法的通用接口</li></ul><p id="b9cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(1)在我们的实验中，与其他代码库相比，基线代码库提供了最好的结果(就性能而言)。此外，在<a class="ae ls" href="https://arxiv.org/abs/1709.06560" rel="noopener ugc nofollow" target="_blank"> <em class="nw">重要的深度强化学习</em> </a> <em class="nw">，</em>中，他们显示基线 DDPG 实现优于其他代码库<em class="nw">。</em>最近玩 Dota 2 的 OpenAI 5 在核心使用 PPO<em class="nw">。</em></p><p id="468b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">(2)在撰写本文的时候，OpenAI 似乎在<a class="ae ls" href="https://github.com/openai/baselines/pull/490" rel="noopener ugc nofollow" target="_blank">改进他们的基准</a>上付出了一些努力，然而仍然缺少很多。</p><h2 id="85d1" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">包括什么？</h2><p id="a944" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">OpenAI 基线(以及稳定的基线)包括 A2C、PPO、TRPO、DQN、ACKTR、ACER 和 DDPG。你可以在<a class="ae ls" href="https://github.com/hill-a/stable-baselines" rel="noopener ugc nofollow" target="_blank">自述文件</a>中找到一个关于支持的内容(动作空间、多处理)的总结表。</p><p id="10b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基线还带有有用的包装器，例如用于预处理或多重处理。我们将在示例中展示它们的效用。</p><h1 id="7716" class="nl mm iq bd mn nm nn no mq np nq nr mt jw ns jx mw jz nt ka mz kc nu kd nc nv bi translated">有什么新鲜事？</h1><h2 id="7362" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">统一界面</h2><p id="d7c3" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">所有算法都遵循相同的结构，<strong class="ky ir">我们希望有一个 scikit-learn like 接口</strong>，正如你将在示例中看到的，这使事情变得容易得多！</p><p id="2f0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们为所有算法提供了通用的方法，如<em class="nw"> train </em>(相当于 fit) <em class="nw">、save、load </em>和<em class="nw"> predict </em>(与 sk-learn 中相同)。</p><h2 id="30ab" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">支持加载、保存等</h2><p id="edbc" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">我们为所有算法添加了保存和加载功能，传递回调的能力(用于实时绘图)，全面的 tensorboard 支持和一个额外的输出动作概率的方法。</p><h2 id="1b82" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">任何类型功能的培训</h2><p id="11ba" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">我们增加了对任意特征的<strong class="ky ir"> RL 训练的支持，也就是说 RL 算法可以在像素之外的其他东西上训练(当前的 OpenAI 基线只支持不使用图像作为输入时的连续动作)。</strong></p><p id="8fc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">事实上，<strong class="ky ir">解耦</strong> <a class="ae ls" href="https://arxiv.org/abs/1802.04181" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">状态表示学习</strong> </a>，从策略学习中提取特征<strong class="ky ir">是我们研究的主要课题，也是近期工作的重点(例如<a class="ae ls" href="https://worldmodels.github.io/" rel="noopener ugc nofollow" target="_blank">世界模型</a>和<a class="ae ls" href="https://pathak22.github.io/large-scale-curiosity/" rel="noopener ugc nofollow" target="_blank">好奇心驱动学习</a>)。因此，我们认为这是我们 fork 的一个重要特性。</strong></p><h2 id="a9c8" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">更多测试和覆盖范围</h2><p id="8e91" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">当我们开始重构 OpenAI 基线时，只有 16%的代码覆盖率。也就是说，只测试了所有代码语句的 16%。在重构过程中，我们添加了更多的测试，并且<strong class="ky ir">达到了 65% </strong>的覆盖率！(大部分未被覆盖的代码来自 Mujoco 相关特性，而且由于这是一个商业物理引擎，很难与之有持续的集成)。</p><p id="bbec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编辑:经过更多的重构(盖尔和她)，覆盖率现在是 85%！</p><h2 id="c66f" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">错误修复</h2><p id="fc82" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">我们利用注释代码来<a class="ae ls" href="https://github.com/hill-a/stable-baselines/releases" rel="noopener ugc nofollow" target="_blank">修复一些问题</a>。例如，用于帧堆叠的包装器只能处理灰度图像(完整的故事是，OpenAI 之前的一个<a class="ae ls" href="https://github.com/openai/baselines/commit/4993286230ac92ead39a66005b7042b56b8598b0" rel="noopener ugc nofollow" target="_blank">错误修复被他们的</a><a class="ae ls" href="https://github.com/openai/baselines/commit/9fa8e1baf1d1f975b87b369a8082122eac812eb1" rel="noopener ugc nofollow" target="_blank">新提交</a> …)之一删除了)。</p><h1 id="db37" class="nl mm iq bd mn nm nn no mq np nq nr mt jw ns jx mw jz nt ka mz kc nu kd nc nv bi translated">例子:“空谈是廉价的。给我看看代码”</h1><p id="fc3a" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">在下一节中，我们将通过不同的例子来说明如何使用稳定的基线。我们将涵盖<a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/stable_baselines_getting_started.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">基本用法</strong> </a>，保存/加载，多重处理，绘图，雅达利游戏上的训练等等！</p><h2 id="253a" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">Colab 笔记本列表</h2><ul class=""><li id="feba" class="ny nz iq ky b kz ne lc nf lf om lj on ln oo lr od oe of og bi translated"><a class="ae ls" href="https://github.com/araffin/rl-tutorial-jnrr19" rel="noopener ugc nofollow" target="_blank">完整教程</a></li><li id="a2db" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/stable_baselines_getting_started.ipynb" rel="noopener ugc nofollow" target="_blank">入门</a></li><li id="6378" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/saving_loading_dqn.ipynb" rel="noopener ugc nofollow" target="_blank">训练、保存、加载</a></li><li id="aad3" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/multiprocessing_rl.ipynb" rel="noopener ugc nofollow" target="_blank">多重处理</a></li><li id="015c" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/monitor_training.ipynb" rel="noopener ugc nofollow" target="_blank">监控训练和绘图</a></li><li id="2a9d" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/atari_games.ipynb" rel="noopener ugc nofollow" target="_blank">雅达利游戏</a></li></ul><h2 id="e877" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">基本用法:训练、保存、加载</h2><p id="eeeb" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">在下面的例子中，我们将在月球着陆器环境中训练、保存和加载一个 A2C 模型。</p><p id="1999" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关联 Colab 笔记本:<a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/saving_loading_dqn.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">在线试用</strong> </a>！</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi op"><img src="../Images/996edcf95bf8d26d4a1b842bd7bdef34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*f4VZPKOI0PYNWiwt0la0Rg.gif"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Lunar Lander Environment</figcaption></figure><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="fa57" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">多重处理:释放矢量化环境的力量</h2><p id="74c7" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">关联 Colab 笔记本:<a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/multiprocessing_rl.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">在线试用</strong> </a> <strong class="ky ir">！</strong></p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi op"><img src="../Images/ae283e1b292f6867bf01217d53ff3b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*h4WTQNVIsvMXJTCpXm_TAw.gif"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">CartPole Environment</figcaption></figure><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="2de9" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">使用 Tensorboard 监控训练</h2><p id="63a0" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated"><em class="nw">v 2 . 0 . 0 中的新功能</em></p><p id="4a3e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">OpenAI 提供了基本的 tensorboard 支持(参见文档中的<a class="ae ls" href="https://stable-baselines.readthedocs.io/en/master/guide/tensorboard.html" rel="noopener ugc nofollow" target="_blank"> <em class="nw">传统集成</em> </a>)，我们添加了完整的 tensorboard 集成(图形可视化、学习曲线等)。</p><p id="3f40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要启用 tensorboard 日志记录，只需用有效路径填充<code class="fe oq or os ot b">tensorboard_log</code>参数:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Tensorboard integration</figcaption></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ou"><img src="../Images/78ec7d18641fa9238b5e2b56027c734f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B-HBZt37SVQjTmXv2U3lkg.png"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Cartpole does not seem so easy after all…</figcaption></figure><p id="89b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重现实验的代码:<a class="ae ls" href="https://gist.github.com/araffin/ee9daee110af3b837b0e3a46a6bb403b" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/araffin/ee 9 daee 110 af 3b 837 b 0 e 3 a 46 a6 bb 403 b</a></p><h2 id="6084" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">使用回拨:监控培训</h2><p id="55b4" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">您可以定义一个将在代理内部调用的自定义回调函数。当你想监控训练时，这可能是有用的，例如在 Tensorboard(或 Visdom)中显示实时学习曲线或保存最佳代理。</p><p id="a9d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关联笔记本(含标图):<a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/monitor_training.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">在线试用</strong> </a>！</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="d929" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">雅达利游戏</h2><p id="6788" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">关联笔记本:<a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/atari_games.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">在线试用</strong> </a>！</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/8fbc8483c3b1c23404fa9b70584f0085.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/1*UHYJE7lF8IDZS_U5SsAFUQ.gif"/></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">Pong Environment</figcaption></figure><p id="b218" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">多亏了<code class="fe oq or os ot b">make_atari_env</code>助手功能，在 Atari 游戏上训练一个 RL 代理变得很简单。它会为你做所有的预处理和多重处理。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="a41f" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">Mujoco:规范化输入要素</h2><p id="a3a0" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">规范化输入特征可能是成功训练 RL 代理的关键(默认情况下，图像被缩放，但其他类型的输入不被缩放)，例如在<a class="ae ls" href="http://www.mujoco.org/" rel="noopener ugc nofollow" target="_blank"> Mujoco </a>上训练时。为此，存在一个包装器，它将计算输入要素的运行平均值和标准差(它可以对奖励做同样的事情)。</p><p id="7e08" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:我们无法为此示例提供笔记本电脑，因为 Mujoco 是一个专有引擎，需要许可证。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="7c33" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">复古索尼克</h2><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="fcb5" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">自定义策略网络</h2><p id="8c33" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">稳定基线为图像(CNN 策略)和其他类型的输入(MLP 策略)提供默认策略网络。但是，您也可以轻松地为策略网络定义自定义架构:</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h2 id="e3cf" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">额外收获:持续学习</h2><p id="9c11" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">你也可以从一个学习环境转移到另一个环境进行<a class="ae ls" href="https://www.continualai.com/" rel="noopener ugc nofollow" target="_blank">持续学习</a> (PPO2 在<code class="fe oq or os ot b">DemonAttack-v0</code>上，然后转移到<code class="fe oq or os ot b">SpaceInvaders-v0</code>):</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><h1 id="3c35" class="nl mm iq bd mn nm nn no mq np nq nr mt jw ns jx mw jz nt ka mz kc nu kd nc nv bi translated">结论</h1><p id="adbd" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">我们提出了稳定的基线，这是一个旨在使强化学习面向广大受众的分叉。我们简化并统一了不同的算法，现在提供了一个类似 scikit-learn 的接口来进行 RL 实验。</p><p id="9862" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于任何对改进基线感兴趣的人来说，仍然有一些文档需要完成。因此，您可以随意在存储库上创建问题和提出请求。</p><p id="55f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当前 WIP:添加对 ACER/ACKTR 连续操作的支持</p><p id="8901" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这篇文章是与阿什利·希尔共同撰写的。</p><h2 id="c07d" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">感谢</h2><p id="4e08" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">稳定的基线是在<a class="ae ls" href="http://www.ensta-paristech.fr/en" rel="noopener ugc nofollow" target="_blank"> ENSTA ParisTech </a>的<a class="ae ls" href="http://u2is.ensta-paristech.fr/index.php?lang=en" rel="noopener ugc nofollow" target="_blank">机器人实验室 U2IS </a> ( <a class="ae ls" href="https://flowers.inria.fr/" rel="noopener ugc nofollow" target="_blank"> INRIA 弗劳尔斯</a>团队)创建的。</p><p id="d3e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这项工作由<a class="ae ls" href="http://www.robotsthatdream.eu" rel="noopener ugc nofollow" target="_blank">梦想项目</a>通过欧盟 Horizon 2020 FET 研究和创新计划根据第 640891 号拨款协议提供支持。</p><h2 id="30cf" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">关于作者</h2><p id="f5b3" class="pw-post-body-paragraph kw kx iq ky b kz ne jr lb lc nf ju le lf ng lh li lj nh ll lm ln ni lp lq lr ij bi translated">我们都在研究机器人的强化学习。我们的研究重点是状态表示学习(RL 的特征提取)。在业余时间，我们喜欢做 DIY 项目的实验，例如<a class="ae ls" href="https://medium.com/@araffin/autonomous-racing-robot-with-an-arduino-a-raspberry-pi-and-a-pi-camera-3e72819e1e63" rel="noopener">建造一辆自主赛车</a>。</p><h2 id="92cb" class="ml mm iq bd mn mo mp dn mq mr ms dp mt lf mu mv mw lj mx my mz ln na nb nc nd bi translated">Colab 笔记本列表</h2><ul class=""><li id="5777" class="ny nz iq ky b kz ne lc nf lf om lj on ln oo lr od oe of og bi translated"><a class="ae ls" href="https://github.com/araffin/rl-tutorial-jnrr19" rel="noopener ugc nofollow" target="_blank">完整教程</a></li><li id="edaa" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/stable_baselines_getting_started.ipynb" rel="noopener ugc nofollow" target="_blank">入门</a></li><li id="24e0" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/saving_loading_dqn.ipynb" rel="noopener ugc nofollow" target="_blank">训练、保存、加载</a></li><li id="22f5" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/multiprocessing_rl.ipynb" rel="noopener ugc nofollow" target="_blank">多重处理</a></li><li id="85a8" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/monitor_training.ipynb" rel="noopener ugc nofollow" target="_blank">监控训练和绘图</a></li><li id="f138" class="ny nz iq ky b kz oh lc oi lf oj lj ok ln ol lr od oe of og bi translated"><a class="ae ls" href="https://colab.research.google.com/github/Stable-Baselines-Team/rl-colab-notebooks/blob/master/atari_games.ipynb" rel="noopener ugc nofollow" target="_blank">雅达利游戏</a></li></ul><p id="8314" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">PS:如何制作一个训练有素的特工的 gif？</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="nj nk l"/></div></figure><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi oy"><img src="../Images/b7343919eeee7b7ef8ddeaa3325cdd32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*R_VMmdgKAY0EDhEjHVelzw.gif"/></div></div><figcaption class="ks kt gj gh gi ku kv bd b be z dk">One line RL gif using terminalizer</figcaption></figure></div></div>    
</body>
</html>