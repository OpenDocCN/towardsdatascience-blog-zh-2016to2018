<html>
<head>
<title>Introducing DAX — Data Analysis Expressions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DAX 简介—数据分析表达式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introducing-dax-data-analysis-expressions-dca49cb68501?source=collection_archive---------6-----------------------#2018-10-26">https://towardsdatascience.com/introducing-dax-data-analysis-expressions-dca49cb68501?source=collection_archive---------6-----------------------#2018-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/b4ab2dcd7576487cd5aeeb48343a0985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9S-soH1G0iLVcjdGpOeTTg.jpeg"/></div></div></figure><p id="867a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">D</strong>ATA<strong class="ka ir">A</strong>analysis E<strong class="ka ir">x</strong>pression 是一个函数的集合，可以用来执行一个任务并返回一个或多个值。虽然这听起来与任何其他编程语言都非常相似，但 DAX 只是一种公式或查询语言。DAX 是微软在 2009 年左右开发的，用于微软的 PowerPivot，当时是作为 Excel (2010)插件提供的。它现在非常受欢迎，因为它现在是 Power BI 的首选语言，并且也受到表格 SSAS 的支持。由于 DAX 在 Power BI 中被广泛使用，所以在本文中，我将重点放在 DAX for Power BI 上，但是它也可以应用于其他适用的工具。</p></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi ld"><img src="../Images/f84efac309959cc73b2dcc75bfd7b9fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*eoFoxRAZMW8icMn6jybgwA.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Power BI logo</figcaption></figure><p id="2bfe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Power BI 是一种商业智能工具，它可以从数百个数据源中获取数据，准备数据，并生成漂亮的交互式报告和仪表盘，提供令人信服的见解。它提供了一套服务来引入数据，构建仪表板或报告，并与所需人员共享。虽然 Power BI 相对较新，但它的核心在某种程度上已经酝酿了很长时间。它基于 SSAS (SQL Server Analysis Services)、Power Pivot、Power View 和 Power Query，其中一些是免费的 Excel 插件。</p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lm"><img src="../Images/e98893f4351cb1db54a8802601ea31ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OeGcl1bdsG23pJEH87nSjw.png"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">DAX usability in Power BI Desktop</figcaption></figure><p id="481b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在 Power BI 的整个套件中，DAX 主要用于转换导入 Power BI 的数据模型和/或为可视化添加新的度量。这些函数用于创建计算列或度量，以帮助进行报告。</p><p id="00b4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">DAX 还通过在数据模型级别提供行级安全性(RLS)来保护发布的报告和仪表板。</p><p id="7055" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">计算列</strong></p><p id="d08e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">计算列在数据模型中创建，在列级别逐行计算，存储在数据模型中，成为其所在表的一部分。计算列也会消耗更多内存。计算列通常表示为 Table[Column]。</p><p id="1038" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">措施</strong></p><p id="16ac" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">顾名思义，度量是聚合，DAX 有助于根据数据模型创建额外的度量，以帮助进行报告/可视化。这些 DAX 函数动态运行，也称为动态聚合，因此不与数据模型一起存储。由于度量是在查询时计算的，因此会消耗额外的 CPU。一个测度简单的表示为【测度】。</p><p id="4f96" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">语法</strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ln"><img src="../Images/7b161080054f1f5d8476aaf8e2d0e4b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ro8i7wcZiPakM8H4E0tDrQ.png"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Syntax of a DAX function</figcaption></figure><p id="746a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">聚合函数</strong></p><p id="a8bf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">DAX 聚合函数聚合表中行上的列或表达式，用于度量中。DAX 提供了很多内置的聚合函数，这里有一个<a class="ae lo" href="https://msdn.microsoft.com/en-us/query-bi/dax/statistical-functions-dax" rel="noopener ugc nofollow" target="_blank">引用列表</a>。</p><p id="58a8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lp">举例:</em> </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/40f7fe100008845ba654c83fc2081253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*BbKSX9poFs70LOO2vdwtvg.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Customer Table</figcaption></figure><p id="dbf6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平均销售额=平均(客户[销售额])</p><p id="0045" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平均销售额现在将返回 500。</p><p id="c56e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">‘X’聚合函数</strong></p><p id="c3f3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">X 聚合函数对表中的行进行迭代和聚合，与聚合函数相同，唯一的区别是 X 版本的聚合函数对表达式而不是表中的列进行聚合。</p><p id="6d4e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lp">举例:</em> </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/40f7fe100008845ba654c83fc2081253.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*BbKSX9poFs70LOO2vdwtvg.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Customer Table</figcaption></figure><p id="91a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平均销售额=AVERAGEX(客户，[销售额]*[数量])</p><p id="8ce1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">平均销售额现在将返回 1433.34。</p><p id="0830" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> VAR 函数</strong></p><p id="4c23" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">命名变量存储表达式的结果，该结果可以作为参数传递给其他表达式。变量减少了代码中的冗余，并通过避免创建新的计算列来提高性能。</p><p id="0046" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lp">举例:</em> </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi lr"><img src="../Images/4f296ceed1e1e376a90b696dafc2a888.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*FpfU-xq0UYoKI0ezZ5aQ0w.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">An example of variable in DAX</figcaption></figure><p id="0de3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">时间智能功能</strong></p><p id="839b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">时间智能函数在商业智能中非常有用，并且在简单函数中执行复杂计算时可以节省时间。这些函数处理日期和时间字段，根据不同级别的时间段产生各种计算。这里有一个<a class="ae lo" href="https://msdn.microsoft.com/en-us/query-bi/dax/time-intelligence-functions-dax" rel="noopener ugc nofollow" target="_blank">时间智能功能的列表</a>。</p><p id="4fcd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">文本功能</strong></p><p id="a26a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">文本函数对表中的列进行操作，以连接、搜索或操作字符串，并返回整个或部分字符串。这里有一个文本函数的列表。</p><p id="5b49" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">表格功能</strong></p><p id="ee8e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">表函数返回完整的表而不是值。它们通常与其他函数结合使用，以迭代返回的结果表中的每一行。</p><p id="3efa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">假设您有一组相关的表，并且需要基于两个或更多的表执行计算。在这种情况下，一些表函数非常有用。这里有一个<a class="ae lo" href="https://msdn.microsoft.com/en-us/query-bi/dax/filter-functions-dax" rel="noopener ugc nofollow" target="_blank">表函数列表</a>。</p><p id="5a89" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">函数<strong class="ka ir"> FILTER </strong>根据提供的表达式返回当前表的子集，并返回一个表作为结果。</p><p id="9c85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lp">举例:</em> </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ls"><img src="../Images/0aefa6b2f1e81549cbd2b0df1930b384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oggJMPuWLMqM-Zovmg9GTA.png"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Orders Tables</figcaption></figure><p id="8732" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">SuperStore = FILTER (Orders，Orders[产品名称] = "Newell 317 ")</p><p id="1a85" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这将创建一个名为 SuperStore 的新表，其中只包含 Newell 317 产品，如下所示。</p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lt"><img src="../Images/9d38892594ddef9d4ead85fae8475bf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gC82U1CROpLcdeKpk-9PpA.png"/></div></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">SuperStore Table</figcaption></figure><p id="f1f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">函数<strong class="ka ir"> RELATEDTABLE </strong>返回表格中与当前表格相关的所有行。</p><p id="f80b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="lp">举例:</em> </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/02a674fb7462b56a7ef46260319b26fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*gBXank0iyxn1z8DkzyJxeQ.png"/></div><figcaption class="li lj gj gh gi lk ll bd b be z dk">Customer Table</figcaption></figure><p id="e337" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">订单计数= COUNTROWS(RELATEDTABLE('超市'))</p><p id="15ae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> Outro </strong></p><p id="5348" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">虽然这只是对 DAX 的简单介绍，但 DAX 中还有许多其他有用的功能，它们将使分析师或开发人员的工作变得更加轻松。</p><p id="3de7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一些学习 DAX 的优秀资源</p><ul class=""><li id="00eb" class="lv lw iq ka b kb kc kf kg kj lx kn ly kr lz kv ma mb mc md bi translated">在<a class="ae lo" href="https://www.sqlbi.com/training/dax/" rel="noopener ugc nofollow" target="_blank"> SQLBI </a>的 DAX 培训视频</li><li id="b173" class="lv lw iq ka b kb me kf mf kj mg kn mh kr mi kv ma mb mc md bi translated">DAX on <a class="ae lo" href="https://www.tutorialspoint.com/dax_functions/index.htm" rel="noopener ugc nofollow" target="_blank">教程点</a></li><li id="0459" class="lv lw iq ka b kb me kf mf kj mg kn mh kr mi kv ma mb mc md bi translated"><a class="ae lo" href="https://www.youtube.com/results?search_query=guy+in+a+cube+DAX" rel="noopener ugc nofollow" target="_blank">立方体中的家伙</a></li></ul></div></div>    
</body>
</html>