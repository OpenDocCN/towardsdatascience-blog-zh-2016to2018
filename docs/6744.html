<html>
<head>
<title>AirBnB in two cities: Seattle vs Boston</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">双城 AirBnB:西雅图 vs 波士顿</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/airbnb-in-two-cities-seattle-vs-boston-66fba22fc1c1?source=collection_archive---------7-----------------------#2018-12-29">https://towardsdatascience.com/airbnb-in-two-cities-seattle-vs-boston-66fba22fc1c1?source=collection_archive---------7-----------------------#2018-12-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2e56" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">AirBnB 房源的定价、可用性和评论分析</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/12b3f061c67efd643d6889ccce562944.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EGK2So7BsVeGD6ot"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@tomrumble?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Tom Rumble</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1ea3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于旅行者来说，AirBnB 已经成为常规酒店预订网站越来越受欢迎的替代品。它有助于将那些有多余房间或公寓的人与需要短期住宿的旅行者直接联系起来。</p><p id="4347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在今天的帖子中，我们将深入研究 Kaggle 为这两个城市提供的 AirBnB 数据集，其中包括三个 csv 文件:日历、房源和评论。</p><p id="dd3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将研究 AirBnB 来自数据集的住房数据的定价和可用性机制，并回答两个从数据集中获取宝贵见解的问题。最后，我们将结束第三个问题，展示一个将提供给列表的评论转换成其得分预测的回归。代码和数据可以通过补充的<a class="ae ky" href="https://github.com/denizn/AirBnb-Kaggle-Data-Analysis" rel="noopener ugc nofollow" target="_blank"> github 链接</a>到达。</p><p id="f81b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">问题 1:波士顿和西雅图的房价如何？它们有季节性吗？有导致价格上涨的事件吗？</strong></p><p id="f1d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">波士顿的预订价格中位数是每晚 150 美元；而西雅图是每晚 109 美元。全年来看，波士顿一晚的费用明显高于西雅图。</p><p id="62de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，在夏季期间，这两个城市的预订价格都会上涨。</p><p id="d4d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然在西雅图数据中没有明显的峰值，但是在波士顿数据集中出现了一个特别有趣的峰值。在 4 月 17 日举行的波士顿马拉松比赛期间，有超过 3 万名参赛者参加，AirBnB 在该地区的价格似乎上涨了每晚 34 美元左右。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/9b0466942482763a4afbacfd722266db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GgmJ71yYtw0OfKPcmRmMvg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Chart 1: Comparison of Average Home Price over dates</figcaption></figure><p id="066f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">问题 2:这两个城市全年的房源情况如何？</strong></p><p id="d8b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在波士顿，在任何给定的时间，有 49%的机会可以找到任何房源，而在西雅图，这个数字要高得多，为 67%。这可以解释为波士顿的供需比高于西雅图。这可能意味着波士顿是一个更受游客欢迎的目的地，因此认为相对于西雅图更难找到房子。</p><p id="95a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当谈到房子的可用性时，西雅图和波士顿都具有相对均等的分布，除了在 95%以上的时间有房子可用的高峰。这些可能是房子，如那些有不合理的高定价和没有吸引力的方面来支持这一价格。</p><p id="c907" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在波士顿，有 891 栋房子非常受欢迎，而且只有不到 5%的时间可以入住。由于多种因素，如位置、价值和清洁度，这些房子是最受欢迎的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/11f68b4b0b92c6bde6cb3cdec69c0cd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TPdJbZQMRl1pbVU3lxznGA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Chart 2 : Availability of Boston vs Seattle</figcaption></figure><p id="41d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于波士顿和西雅图，数据集中记录的列表项的数量全年保持不变，分别为 3586 和 3818，而它们的可用性作为每天变化的布尔值提供。</p><p id="2f49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的可用房源比例图中最直接的部分可能是，在数据的前三个月，有一个持续上升的趋势。这是因为所提供的数据是拍摄的快照，越接近快照日期的预订率越高。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lx"><img src="../Images/95278bc2fbeac04ce4aa8920457c28da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2ExB8RRB7n-3YNhe-nLsvA.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Graph 3: Proportion of Listings available</figcaption></figure><p id="7b56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">问题 3:我们可以使用回归从评论中预测评论分数吗？访问者对某个列表的评论是否给了我们足够的信息来猜测该列表的评论分数？</strong></p><p id="3287" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Reviews.csv 包含用户对预订的评论，Listing.csv 文件包含每个列表的平均评论分数。我想看看从作为练习提供的评论中预测评论分数的潜力。</p><p id="8b0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为此，我将把为一个列表提供的所有评论连接成一个字符串，应用文本清理、特征提取方法和 ML 回归来预测我的响应变量，即<strong class="lb iu"> <em class="ly">评论评分</em> </strong> <em class="ly">。</em></p><p id="1bb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用的提取特征的方法 TFIDF 类似于单词袋方法，但是考虑到了频率并降低了语料库中更常见的单词(整个单词世界)的影响。</p><p id="1261" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在使用 TFIDF 矢量器进行特征提取后，我们将使用交叉验证来测试三种不同的机器学习算法:Scikit learn 的<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDRegressor.html" rel="noopener ugc nofollow" target="_blank">随机梯度下降回归器</a>，DMLC 的<a class="ae ky" href="https://xgboost.readthedocs.io" rel="noopener ugc nofollow" target="_blank">xgboostrgressor</a>和 Yandex 的<a class="ae ky" href="https://tech.yandex.com/catboost/doc/dg/concepts/python-reference_catboostregressor-docpage/" rel="noopener ugc nofollow" target="_blank"> CatBoostRegressor </a>具有不同的学习速率。通过查看最低的 MSE 验证误差，我们应该能够选择在 NLP 管道中使用的回归变量和参数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/a4a871e8a620a62e072c1b64b8e8bf58.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*hBMRFxFq3rcZjOqs5zmO0A.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Table 1: Regression Results for XGBoost, CatBoost and SGDR</figcaption></figure><p id="cea2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您在上面看到的，XGBoost 和 CatBoost 算法在交叉验证结果中的验证错误率方面非常接近，XGBoost 在 learning_rate 为 0.1 时表现稍好，成为赢家。在这一阶段，我们并不真正关注训练误差，只是因为我们想比较我们的模型在它没有见过的数据上的表现。</p><p id="99bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意:XGB 和 Catboost 较低的学习率(如 0.0001)似乎没有收敛，因此产生了非常高的错误率。</p><p id="6c41" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我将 TFIDF 矢量器的管道拟合到 X_intermediate 数据，对其进行转换，并将其馈送到学习率为 0.1 的 XGB 回归器。然后，我们对 X_test 进行预测，并使用均方误差评分将它们与 y_test 的实际值进行比较。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/0ba953542a3059ae2cde74bdf04298c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lou5QA53hMteAoboyjZlpQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Snippet 1 : MSE Result of our best performing estimator</figcaption></figure><p id="a2a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了比较，我们可以看一下 XGB 预测分数和实际复习分数的曲线图。正如您所看到的，我们的模型在根据提供的评论预测分数方面表现得相当好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mb"><img src="../Images/4f5802bbd54753ad66cfd526fb84e1d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eTM_rjh6uIGNZRPADYe0jg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Graph 4: XGB Predictions vs Actual Review Score Average</figcaption></figure></div></div>    
</body>
</html>