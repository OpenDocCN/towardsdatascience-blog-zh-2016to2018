<html>
<head>
<title>Auto-Transcribe : Google Speech API Time Offsets in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动转录:Python 中的 Google 语音 API 时间偏移</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/auto-transcribe-google-speech-api-time-offsets-in-python-7c24c4db3720?source=collection_archive---------2-----------------------#2018-03-11">https://towardsdatascience.com/auto-transcribe-google-speech-api-time-offsets-in-python-7c24c4db3720?source=collection_archive---------2-----------------------#2018-03-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/dfefee0766aa24197830750fe7bbfa49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q2xbrohoZIqOuvDPqAXGOA.png"/></div></div></figure><p id="a498" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">转录音频文件或语音对世界各地的许多公司来说至关重要，正如我们所知，由人类转录的<em class="kw">听的古老技术可能会导致致命的错误，并吃掉你的大量资源(人类)。它需要煞费苦心地注意转录每一个被记录的单词，有时，你必须处理多个音频文件。</em></p><p id="15a5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir"> <em class="kw">【多么无聊】</em> </strong> <em class="kw">，</em>正是<a class="ae kx" href="http://naruto.wikia.com/wiki/Shikamaru_Nara" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> Shikamaru </em> </a>如果被赋予转录的工作，他会说的话，这里是谷歌语音 API 及其最新添加的地方，<em class="kw">时间偏移(时间戳)</em>来拯救我们<em class="kw">Shikamaru。</em></p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div class="gh gi ky"><img src="../Images/4b5c5b280229180caabb0a8ff06e99ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*DaUYNqIBQcR97mXBk8ndxQ.jpeg"/></div></figure><p id="4ba2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">什么是 Google Speech API？</strong></p><ul class=""><li id="6844" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">应用强大的神经网络模型将语音转换为文本</li><li id="a914" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">识别超过 110 种语言和变体</li><li id="e031" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">实时文本结果</li><li id="df26" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">成功的噪音处理</li><li id="c8d6" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">支持能够发送<em class="kw">剩余</em>或<em class="kw"> gRPC </em>请求的设备</li><li id="a266" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">API 包括在识别的音频中说出的每个单词的开始和结束的<strong class="ka ir"> <em class="kw">时间偏移值(时间戳)</em> </strong></li></ul></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="4f8d" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated"><strong class="ak">设置 Google 云和 Python3 环境的步骤</strong></h2><p id="46d4" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated"><strong class="ka ir">在 Google Cloud <br/> </strong>中注册一个免费层帐户需要一个 API 密钥，您可以申请一个免费层计划(365 <br/>天)。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/2cda322b1533b48d62648e9285c7068b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*echmQfHMrAwAuFw9PjQhUg.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Google Cloud Platform Dashboard</figcaption></figure><p id="ece4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">在 Google Cloud 中生成 API 密钥<br/> </strong>按照以下步骤生成 API 密钥:</p><ul class=""><li id="dd03" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">登录<a class="ae kx" href="https://console.cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ka ir"> <em class="kw">谷歌云控制台</em> </strong> </a></li><li id="d49d" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">转到<strong class="ka ir"><em class="kw">API 和服务</em> </strong></li><li id="2615" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">点击<strong class="ka ir">凭证<em class="kw">凭证</em>凭证</strong></li><li id="b5cd" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">点击<strong class="ka ir"> <em class="kw">创建凭证</em> </strong></li><li id="207f" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">选择<strong class="ka ir"> <em class="kw">服务账号键</em> </strong></li></ul><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/b1934910e33bca6f6350eeeb09e3971a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0DL1hyzFKpSiIIILzBtBQ.png"/></div></div></figure><ul class=""><li id="5773" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">在<strong class="ka ir"> <em class="kw"> </em> </strong> <em class="kw">服务账号</em>中选择<strong class="ka ir"> <em class="kw">新建服务账号</em> </strong></li><li id="1878" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">输入<strong class="ka ir"> <em class="kw">服务帐户名</em> </strong></li><li id="8849" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">选择<strong class="ka ir">角色</strong>作为<em class="kw">项目&gt;所有者</em></li><li id="551c" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">保持<strong class="ka ir"> <em class="kw"> JSON </em> </strong>选项选中</li><li id="ff7b" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">点击<strong class="ka ir"> <em class="kw">创建</em> </strong></li></ul><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/1bba577b21de3d47421ad8f3de5e7c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L2qWHSHwUwzJzTIbCnJDTA.png"/></div></div></figure><ul class=""><li id="0742" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">保存生成的 API 密钥文件</li><li id="41b8" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">将文件重命名为<code class="fe nb nc nd ne b">api-key.json</code></li><li id="bdbd" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated"><code class="fe nb nc nd ne b">api-key.json</code>将被下载到您的电脑上</li></ul><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/27fedbd9325c32fd2a07e67c9c622122.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*peDfJatvgyKnp-woBI72pQ.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">JSON file saved to computer</figcaption></figure><p id="de72" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">安装所需的 Python 模块</strong></p><ul class=""><li id="066f" class="ld le iq ka b kb kc kf kg kj lf kn lg kr lh kv li lj lk ll bi translated">安装<strong class="ka ir"> <em class="kw">谷歌语音</em> </strong>包<br/> <code class="fe nb nc nd ne b">pip3 install -U google-cloud-speech</code></li><li id="364b" class="ld le iq ka b kb lm kf ln kj lo kn lp kr lq kv li lj lk ll bi translated">安装<strong class="ka ir"> <em class="kw"> Google API </em> </strong>包<br/> <code class="fe nb nc nd ne b">pip3 install -U google-api-python-client</code></li></ul></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="e084" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated"><strong class="ak">转换音频</strong></h2><p id="8091" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated">Google Speech API 支持许多不同的编码。下表列出了支持的音频编解码器:</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/492afcb34e8ca33c133937dcb0d6ee4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kIpaQ-CFNaZJ4IlJy9QmlQ.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Google Audio Codecs Table</figcaption></figure><p id="2440" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">所有编码仅支持 1 声道(单声道)音频，音频应使用无损编码(FLAC 或 LINEAR16)传输。audacity<br/>对我来说工作得很好，通过简单的用户界面，在 FLAC 中很容易将你的音频文件转换成单声道。</p><p id="1623" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击<a class="ae kx" href="https://www.youtube.com/watch?v=jL5Xx06NwyI" rel="noopener ugc nofollow" target="_blank"> <em class="kw">立体声到单声道使用 Audacity </em> </a>，学习如何转换音频文件。</p><p id="4573" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击<a class="ae kx" href="https://cloud.google.com/speech/reference/rest/v1/RecognitionConfig" rel="noopener ugc nofollow" target="_blank"> <em class="kw">音频编码</em> </a>了解更多信息。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="6c00" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated"><strong class="ak">Python 的代码</strong></h2><p id="30a5" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated">在这个 Python 脚本中，我们将使用 Google Speech API 的最新添加功能，<br/> <a class="ae kx" href="https://cloud.google.com/speech/docs/basics#time-offsets" rel="noopener ugc nofollow" target="_blank"> <em class="kw">时间偏移</em> </a>，并在识别的音频中包含每个语音开始<br/>和结束的时间偏移值(时间戳)。</p><p id="08b8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">时间偏移值代表从音频的<br/>开始所经过的时间，增量为 100ms。</p><p id="5a6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击<a class="ae kx" href="https://github.com/sohamsil/python-docs-samples/blob/master/speech/cloud-client/transcribe_time_offsets_with_language_change.py" rel="noopener ugc nofollow" target="_blank"> <em class="kw">用 Python </em> </a>中的时间偏移量转录完整代码。</p><p id="8e38" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">让我们从导入必要的库开始，创建<code class="fe nb nc nd ne b">credentials</code>来从我们之前保存的<code class="fe nb nc nd ne b">api-key.json</code>中获取<br/>语音 API 凭证。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/f2140bc0f8e41a1f67149df9739d01a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*of9NJieiyjTXTay-gwt3rQ.png"/></div></div></figure><p id="0ad8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">从本地存储器转录音频文件</strong></p><p id="8889" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里，我们将定义<code class="fe nb nc nd ne b">transcribe_file_with_word_time_offsets().</code>,它将音频和音频语言作为参数传递，并打印已识别的<br/>单词及其时间偏移值(时间戳)。</p><p id="d2fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">导入必要的<code class="fe nb nc nd ne b">google.cloud</code>库，并使用方法<code class="fe nb nc nd ne b">SpeechClient()</code>使用<br/> Google Cloud 验证凭证。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/055ba01b016adcf8f3368358a2432a42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wMEU_kBAZ4Uj_keuPiTBlA.png"/></div></div></figure><p id="86bc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们读取音频文件，并将其通过<code class="fe nb nc nd ne b">RecognitionAudio()<br/></code>方法，按照<code class="fe nb nc nd ne b">RecognitionConfig()</code>方法中指定的编码将音频数据存储到“audio”中。</p><p id="5826" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">将<code class="fe nb nc nd ne b">TRUE</code>分配给参数<code class="fe nb nc nd ne b">enable_word_time_offsets</code>使得<code class="fe nb nc nd ne b">RecognitionConfig()</code>方法能够记录每个单词的时间偏移值(时间戳)。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/72f43c8082182f952a3b497522e8b112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPC4RGqOpiQk-XfJ5yNinw.png"/></div></div></figure><p id="563f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nb nc nd ne b">response</code>包含<code class="fe nb nc nd ne b">speech.recognize()</code>、<br/>返回给客户端的消息，如果成功。结果存储为零或顺序消息，如下图<br/>所示。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/a25ad2cac5d9b26a4cf1984312491e2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2leUuOABJEYKr4IhWgnRg.jpeg"/></div></div></figure><pre class="kz la lb lc gt nh ne ni nj aw nk bi"><span id="dcc8" class="ly lz iq ne b gy nl nm l nn no"> Note: <strong class="ne ir">confidence</strong> in the output shows the accuracy of speech<br/> recognition. The value is from 0.0 to 1.0, for low to high<br/> confidence, respectively.</span></pre><p id="b0f0" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><code class="fe nb nc nd ne b">confidence:0.93</code>的值表明谷歌语音 API 在识别单词方面做了<br/>非常好的工作。现在我们遍历<code class="fe nb nc nd ne b">results</code>并打印单词及其时间偏移值(时间戳)。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/ab3f9e1be86842aa52cbfaa0bb43bb31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7OlH3W5CIEgcG239Y-50gg.png"/></div></div></figure><p id="d187" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">从谷歌云存储中转录音频文件</strong></p><p id="379c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这一段代码唯一的区别是，我们必须将音频文件的<br/> Google Cloud URL 传递给<code class="fe nb nc nd ne b">gsc_uri</code>，<br/>方法<code class="fe nb nc nd ne b">transcribe_file_with_word_time_offsets()</code>的第一个参数，其余的工作方式相同。</p><p id="c914" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些字连同它们的时间偏移值(时间戳)被打印出来作为<br/>输出。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/611c71676442d72ab00b0addabd13741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QW7McrnKob_Wgej3gtp-dg.png"/></div></div></figure><p id="0e00" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">调用 __main__ function <br/> </strong> <code class="fe nb nc nd ne b">argparse</code>库的时间被用来解析执行期间<br/>命令行中传递的参数。</p><p id="0566" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们正在运行一个<code class="fe nb nc nd ne b">if else</code>循环，为本地和云端存储的音频文件调用适当的方法。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/afba1db3a0d8af2d43c71535b09e2cf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5gWk4xtrT3xPI2SEp0c1Gg.png"/></div></div></figure></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="262f" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated"><strong class="ak">在<em class="np">端子</em>中调用</strong></h2><p id="44b4" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated">通过键入<code class="fe nb nc nd ne b">–s “en-US” </code>提及语言类型和执行文件的文件路径。<br/> <code class="fe nb nc nd ne b">python3 transcribe_time_offsets_with_language_change.py -s “en-US”<br/> Sample.flac</code></p><p id="abe6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">对于谷歌云类型<code class="fe nb nc nd ne b">\gs://cloud-samples-tests/speech/Sample.flac</code>为路径，<br/>为<code class="fe nb nc nd ne b">python3 transcribe_time_offsets_with_language_change.py -s “en-US”<br/> \gs://cloud-samples-tests/speech/Sample.flac`</code></p><h2 id="45e1" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated">云外壳中的调用</h2><p id="5e67" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated">点击<a class="ae kx" href="https://cloud.google.com/shell/docs/quickstart" rel="noopener ugc nofollow" target="_blank"> <em class="kw"> Google 云壳</em> </a>学习云壳中的基本操作。</p><p id="fbd3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在云壳中全局安装<code class="fe nb nc nd ne b">virtualenv</code>，<br/>，<code class="fe nb nc nd ne b">pip install –upgrade vitrualenv</code></p><p id="b253" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">安装<code class="fe nb nc nd ne b">virtualenv</code>后，使用<code class="fe nb nc nd ne b">— python</code>标志告诉<code class="fe nb nc nd ne b">virtualenv</code>使用哪个<br/> Python 版本:<br/> <code class="fe nb nc nd ne b">virtualenv –python python3 env</code></p><p id="2a98" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，我们需要激活<code class="fe nb nc nd ne b">virtuale</code>。它告诉 shell 为 Python 使用 virtualenv 的<br/>路径，<br/> <code class="fe nb nc nd ne b">source env/bin/activate</code></p><p id="2b6c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Cloud shell 现在已经准备好使用终端调用中提到的命令<br/>来执行我们的 Python 程序。</p></div><div class="ab cl lr ls hu lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="ij ik il im in"><h2 id="9d8d" class="ly lz iq bd ma mb mc dn md me mf dp mg kj mh mi mj kn mk ml mm kr mn mo mp mq bi translated"><strong class="ak">输出</strong></h2><p id="6704" class="pw-post-body-paragraph jy jz iq ka b kb mr kd ke kf ms kh ki kj mt kl km kn mu kp kq kr mv kt ku kv ij bi translated">恭喜你！这是你的转录数据以及每个单词的时间偏移值(时间戳)。</p><figure class="kz la lb lc gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/d51d8a0c9c19df554a55c968db69c4f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gGaRqiTGbxzFPRcHL9Cdvw.png"/></div></div></figure><p id="b786" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以通过改变<br/>文件配置中的参数来改进这些模型。语音识别可以通过改变<br/>配置的参数来改善。</p><p id="c53d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">点击<a class="ae kx" href="https://cloud.google.com/speech/docs/basics#time-offsets" rel="noopener ugc nofollow" target="_blank">云语音 API </a>了解更多关于同步、异步和<br/>流识别，以及如何改进或改变模型。</p></div></div>    
</body>
</html>