<html>
<head>
<title>Analyzing Climate Patterns with Self-Organizing Maps (SOMs)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用自组织地图分析气候模式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/analyzing-climate-patterns-with-self-organizing-maps-soms-8d4ef322705b?source=collection_archive---------5-----------------------#2018-02-04">https://towardsdatascience.com/analyzing-climate-patterns-with-self-organizing-maps-soms-8d4ef322705b?source=collection_archive---------5-----------------------#2018-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c40fa6faa747389001400705a8d0082f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1QXKiZJ8RiZlDr49."/></div></div></figure><h1 id="ab5e" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">亮点:</h1><p id="b643" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">在本文中，我们将了解:</p><ul class=""><li id="0c1d" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw me mf mg mh bi translated">自组织映射(SOM ),以及它如何用于维数减少和无监督学习</li><li id="fab0" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw me mf mg mh bi translated">解释用于探索性数据分析的训练SOM的可视化</li><li id="54c9" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw me mf mg mh bi translated">SOMs在加拿大不列颠哥伦比亚省气候模式聚类中的应用</li></ul><p id="f8ef" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">链接到我的其他文章:</p><ol class=""><li id="a8fb" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw mq mf mg mh bi translated"><a class="ae mr" rel="noopener" target="_blank" href="/custom-tensorflow-loss-functions-for-advanced-machine-learning-f13cdd1d188a">张量流和自定义损失函数</a></li><li id="8b02" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated"><a class="ae mr" rel="noopener" target="_blank" href="/decision-trees-and-random-forests-for-classification-and-regression-pt-1-dbb65a458df">随机森林</a></li><li id="9add" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated"><a class="ae mr" rel="noopener" target="_blank" href="/the-softmax-function-neural-net-outputs-as-probabilities-and-ensemble-classifiers-9bd94d75932"> Softmax分类</a></li></ol><h1 id="a18a" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">简介:</h1><p id="5008" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">当我第一次开始学习神经网络时，我偶然发现了这个被称为Kohonen图的奇怪发明，或者在文学中更常见的称为自组织图或SOM。这个神经网络受人类大脑皮层的感觉激活模式的启发，使用简单的启发式方法进行无监督训练，能够发现高维数据中隐藏的非线性结构。最近我看到一些气候学家写的有趣的文章，他们使用SOMs分析和预测天气和气候(这是一项众所周知的困难任务)，我想我应该与你分享这项有趣的无人监管的技术。</p><h1 id="b90c" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">自组织地图:</h1><p id="99cf" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">基本上，SOM是离散的平面神经元网格，即隐藏层，有时称为Kohnen层，由输入层提供信息:</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/fee970d0c6b78097d6777fa3811300b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/0*NDU-Hc3tGz4XZXHh.png"/></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Overview of the SOM neural network</figcaption></figure><p id="9ea4" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">每个隐藏层神经元都有几个“邻居”神经元(单个单元的邻居的最大直接数量可以是六个，如上面的六边形网格，或者四个正方形网格)。我们将每个神经元与其邻居之间的“距离”定义为每个神经元的输入到隐藏层权重之间的欧几里德距离。每个隐藏神经元的输入-隐藏层权重有时也被称为<strong class="lb iu">码本向量</strong>。我们定义的距离在以后会变得很重要，因为它对原始数据集的低维信息进行了编码。在上图中，每个隐藏层神经元都有一个带有<strong class="lb iu"> <em class="nb"> n </em> </strong>分量的权重向量(即输入与隐藏层紧密相连)。</p><p id="7bca" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">那么我们如何训练这个网络呢？训练过程实际上非常简单，不涉及梯度计算:</p><ol class=""><li id="6491" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw mq mf mg mh bi translated">将隐藏神经元权重初始化为小的随机值，或者使用PCA权重初始化</li><li id="11c3" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">将数据行<strong class="lb iu"><em class="nb">x</em></strong><em class="nb"/>进给到输入层</li><li id="ddb4" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">遍历隐藏层中的每个神经元，找到最佳匹配单元(BMU)，即与数据行<strong class="lb iu"> <em class="nb"> x </em> ᵢ </strong>具有最小欧氏距离或度量的神经元</li><li id="dbfe" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">对BMU及其相邻神经元应用权重更新。使用邻域函数φ来计算BMU的相邻神经元</li><li id="d454" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">收缩邻域函数φ</li><li id="228d" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">重复步骤2至5，直到达到迭代极限或收敛(所有神经元和所有数据之间的平均码本向量距离小于某个阈值)</li></ol><p id="7c9b" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">上述算法被称为竞争学习，在精神上与其他基于启发式的算法(如遗传算法和粒子群方法)非常相似。<a class="ae mr" href="https://en.wikipedia.org/wiki/Self-organizing_map#Algorithm" rel="noopener ugc nofollow" target="_blank">此处提供了该算法的完整描述</a>。SOM的基本思想是“填充”底层数据的空间，如下图所示:</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/bf9f0058ef7d23423f368beabe26787f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*COZ5oa99E-kCcMNA.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Training the SOM to ‘fill’ the dataset</figcaption></figure><p id="cbee" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">与类似神经元数量的前馈网络上的反向传播相比，竞争学习算法通常更快，但如果SOM网格非常大(10⁴或更多神经元)，则可能会变慢。</p><p id="a163" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">SOMs属于一类叫做<a class="ae mr" href="https://en.wikipedia.org/wiki/Nonlinear_dimensionality_reduction" rel="noopener ugc nofollow" target="_blank">非线性维度缩减(NLDR) </a>的技术。维数约简技术(主成分分析，t-SNE等。)通常用于可视化和解释，以及变量选择。som更适合前一种应用，合适的som可以被进一步分析，以获得低维的可视化和可解释的结果，呈现给你的老板、scrum master、营销团队或你的另一半。此外，诸如K-means的聚类技术可以应用于拟合的SOM网格，并且从该网格可以获得输入的鲁棒聚类。通常，SOM上的K-means比常规K-means执行得好得多，并且有时可以发现隐藏的非线性交互模式。现在让我们研究一些气候数据，看看SOM能做些什么。</p><p id="6887" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">下面的代码示例使用的原始SOMPY repo可从这里获得。SOMPY对于Python来说是一个很好的入门包，但是如果你也精通R，请查看一下<a class="ae mr" href="https://cran.r-project.org/web/packages/kohonen/index.html" rel="noopener ugc nofollow" target="_blank"> kohonen包</a>，它有一些非常好的可视化工具(<a class="ae mr" href="https://www.r-bloggers.com/self-organising-maps-for-customer-segmentation-using-r/" rel="noopener ugc nofollow" target="_blank">也可以在这里看到</a>关于使用kohonen包进行R的教程)。</p><p id="92fe" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated"><a class="ae mr" href="https://github.com/hhl60492/SOMPY_robust_clustering" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">报告包含以下任务的SOMPY代码的所有修改和气候数据。</strong> </a> <strong class="lb iu"> </strong>运行代码的main.py脚本文件在<a class="ae mr" href="https://github.com/hhl60492/SOMPY_robust_clustering/tree/master/sompy/examples" rel="noopener ugc nofollow" target="_blank">https://github . com/hhl 60492/SOMPY _ robust _ clustering/tree/master/SOMPY/examples</a>。</p><h1 id="2680" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">气候数据分析:</h1><p id="49c9" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">从<a class="ae mr" href="http://climate.weather.gc.ca/prods_servs/cdn_climate_summary_e.html" rel="noopener ugc nofollow" target="_blank">http://climate . weather . GC . ca/prods _ servs/cdn _ climate _ summary _ e . html</a>收集加拿大不列颠哥伦比亚省2009年1月至2017年12月的历史气候数据(月度汇总)。每个CSV文件包含气候数据的每月摘要(如月平均温度、月最低/最高温度、月降雨量)以及记录数据的气象站的纬度和经度。每个唯一的气象站给出一个单行，每个CSV中大约有300个气象站。</p><p id="5230" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">现在我们保持简单，使用纬度、经度、中间温度、最高温度、最低温度和降雨量。这些列被提取并强制转换为浮点类型。包含任何nan的行被删除。SOMPY通过计算数据矩阵的特征值来自动计算SOM网格的大小。</p><p id="a6f8" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">对20621行数据的训练耗时约5秒。首先要注意的可视化是<strong class="lb iu">组件平面</strong>热图。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nc"><img src="../Images/56c4ebd6f3d9dfdb3f01045d397db741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y_J8olGuUn0PETRDUrw9IQ.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Component plane heatmaps for each feature that was fed to the SOM.</figcaption></figure><p id="5d5d" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">每个热图代表SOM网格学习到的单个特征或数据列的强度。请注意，热图是离散化的，每个子图中的每个“块”都是唯一的神经元，神经元在所有子图中都具有相同的位置，即纬度子图左上方的块是经度子图和月中值温度子图中的相同神经元，依此类推。通常，不同分量平面中的相似热图表示特征的相关性，相异表示可忽略的相关性，反转表示反相关性。另请注意，拟合的SOM将代表整个年份范围内一年中所有月份的特征，即9年平均值，因为提供了9年中1月至12月的连续数据。利用前面的事实和经纬度信息，我们可以看到:</p><ul class=""><li id="8c0f" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw me mf mg mh bi translated">月最高温度出现在不同的纬度和经度，包括纬度。北纬49度以上。120–124 W；这是靠近美加边境的一大片公元前南部地区，包括温哥华岛的南端、温哥华市区、弗雷泽山谷，一直延伸到奥肯那根</li><li id="701f" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw me mf mg mh bi translated">后者。北纬49度以上。西经120-124°的地区也有最多的降水。</li><li id="8a13" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw me mf mg mh bi translated">纬度和经度分量平面热图中各区域的大小表明，在北纬49-50°和西经123-124°区域有大量的气象站，那里的人口密度最高(每个CSV文件中所有气象站的纬度和经度的下列图表似乎证实了这一观察结果)</li></ul><p id="8b9f" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">(注意:为了验证地理位置，最好实际提取lat。而且长。来自Python中拟合的SOM的数据，并用它们标记其他组件平面热图中的细胞/神经元。)</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b1ba667eaa144b562afa46858beaa9fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CdujuJOc8zidZL4rVatopg.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Location of weather monitoring stations in BC. Seems nobody cares about the weather in Spatsizi Plateau</figcaption></figure><ul class=""><li id="e664" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw me mf mg mh bi translated">月中值温度与月最高温度相关，在较小程度上与月中值温度相关。</li><li id="0f2e" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw me mf mg mh bi translated">降水量似乎与月平均气温和最高气温呈反相关关系(作为当地人，我可以证实，当天气炎热时，我们的降雨量会少得多，反之亦然——太平洋西北部的气候是这样的，在晚秋、冬季和春季气温较低时会有大量降水，而在夏季气温较高时很少或没有降水)。</li></ul><p id="5297" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">我们可以做的下一个可视化叫做U矩阵。U-matrix也是一个热图，但可以像我们的SOM网格中的地形图(显示一个区域的海拔等高线的地图)一样进行解释。U矩阵中的“山丘”代表相邻之间的大距离，反之亦然。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/dd59d3d96a14022341bbfb1c6b3d5073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfALLEfgKXUjEPXJXuf4dA.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Note: The number of neurons and grid layout in the U-matrix and the component plane heatmaps are the same. The component plane plots were stretched veritcally due to matplotlib.</figcaption></figure><p id="3b49" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">U矩阵让我们了解了SOM网格的景观，以及神经元的邻域。它帮助我们直观地看到SOM网格本身中有哪些潜在的聚类，这是对我们将要在网格上运行的K-means聚类结果的一个很好的完整性检查。由于K-means在最佳聚类数上有点幼稚，我们将使用结合误差平方和(SSE)的“肘”方法来找到最佳聚类数<strong class="lb iu"><em class="nb"/></strong>。SSE计算的算法如下:</p><ol class=""><li id="d077" class="lx ly it lb b lc lz lg ma lk mb lo mc ls md lw mq mf mg mh bi translated">对于<strong class="lb iu"> <em class="nb"> k </em> </strong> = 2到<strong class="lb iu"> <em class="nb"> k_end </em> </strong>:</li><li id="2c5a" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">计算数据集X上的K均值</li><li id="8dea" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">对于每个集群<strong class="lb iu"> <em class="nb"> n </em> </strong>:</li><li id="8568" class="lx ly it lb b lc mi lg mj lk mk lo ml ls mm lw mq mf mg mh bi translated">计算<em class="nb">L2</em><strong class="lb iu"><em class="nb">-</em>-</strong>簇<strong class="lb iu"><em class="nb"/></strong>n和簇<strong class="lb iu"> <em class="nb"> n </em> </strong>的质心之间的向量差的范数，并将其加到总数<strong class="lb iu"><em class="nb">【SSE】</em></strong>中</li></ol><p id="0470" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">SSEs vs . different<strong class="lb iu"><em class="nb">k</em></strong>的结果图如下所示</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/d1da54a1fb2e5c638f0d1e3f857a5e90.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/1*N3om69RMShLiJ_OAI10nYA.png"/></div></figure><p id="965f" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">通过找到上图一阶差分的最大值的指数，加1，可以解析地找到肘点。不幸的是，K-means算法不是太健壮，并且对于不同的运行给出不同的肘曲线，所以在许多引导样本上引导和重复肘/SSE图分析将给出最佳<strong class="lb iu"><em class="nb"/></strong>的更好的估计。所有这样做的代码在下面的要点中，在<strong class="lb iu"> SOMFactory </strong>类(在sompy.py中)中的cluster()方法被修改以实现上述内容。</p><p id="6756" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">对于这个特定的SOM，在20个引导样本上平均的SSEs的一阶差的最大值是17，因此最优的<strong class="lb iu"> <em class="nb"> k </em> </strong>应该是18。重复这些运行可以为现在的最优<strong class="lb iu"> <em class="nb"> k </em> </strong>提供一致的结果，这很好。用这个<strong class="lb iu"> <em class="nb"> k </em> </strong>运行最终的K-均值给出以下聚类:</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/239cdb41d74ab92a917c111cbacb52c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IU8Uukw2kfHHkkipmvx_2Q.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">SOM K-means clustering result.</figcaption></figure><p id="89ee" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">这有点类似于U-matrix图，所以我们离SOM网格的真正聚类并不太远。</p><p id="5c53" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">在我们穿上夹克回家之前，还有几件事要做。让我们看看每个聚类质心的特征(K-表示质心代表一个聚类中的平均特征)，预测哪个气象站属于哪个聚类，并将聚类的气象站放在地图上。我们使用gmplot和Google Maps API进行地图叠加。<strong class="lb iu">顺便说一句，gmplot已经过时了，需要一些补丁来使它与当前的谷歌地图API兼容，你还需要一个有效的谷歌地图API密钥来访问该API。</strong><a class="ae mr" href="https://gist.github.com/hhl60492/120362483890db9df622020eaea7c92e" rel="noopener ugc nofollow" target="_blank">gmplot代码修改的要点在这里</a>。</p><pre class="mt mu mv mw gt ng nh ni nj aw nk bi"><span id="d919" class="nl kc it nh b gy nm nn l no np">Centroid 0[  51.38661738 -125.27254198    7.51493849   16.8132888    -1.17574106<br/>   67.95416645]<br/>Centroid 1[  50.61259827 -126.25917862    6.32184038   14.17993615   -1.63282112<br/>  340.64034668]<br/>Centroid 2[  50.42396495 -125.2544494     7.2744194    16.09718498   -1.19140013<br/>  222.65626168]<br/>Centroid 3[  50.42534148 -126.39001822    6.72726471   14.53652612   -1.31210139<br/>  507.65982791]<br/>Centroid 4[  49.89467361 -122.37195052   16.63158605   29.73554202    5.95873865<br/>   28.06162618]<br/>Centroid 5[  52.27917741 -121.73550782   -3.83946568    8.19646576  -19.93363911<br/>   45.30064963]<br/>Centroid 6[  50.2945556  -125.21241436    9.15306962   18.32174182    0.93638661<br/>  119.43331396]<br/>Centroid 7[  50.70282538 -125.32884059    8.00965749   17.614526     -0.77992491<br/>  151.77106456]<br/>Centroid 8[  50.31580334 -126.23307623    6.5871719    14.64225657   -1.44068436<br/>  660.70782628]<br/>Centroid 9[  50.28874072 -125.06866063    7.49467144   16.55379438   -0.84254229<br/>  251.73801799]<br/>Centroid 10[  50.4262205  -126.2629756     6.58541814   14.36302394   -1.36671652<br/>  399.90931304]<br/>Centroid 11[  50.35982435 -125.51021147    6.32659523   14.73932271   -1.89873252<br/>  294.050496  ]<br/>Centroid 12[  51.24356927 -121.64231971    6.18712464   18.67948989   -5.48058692<br/>   36.06758652]<br/>Centroid 13[  50.75675998 -125.60116426    7.48408728   16.37144962   -0.95604598<br/>  190.18377378]<br/>Centroid 14[  51.1337961  -124.85444455    7.9966279    17.1295218    -0.56629512<br/>   94.65084155]<br/>Centroid 15[  50.12150383 -126.04955706    6.7603695    14.43437023   -1.13385479<br/>  461.59884165]<br/>Centroid 16[  50.72982522 -126.73419985    6.88866959   14.84315741   -1.12018377<br/>  586.45036101]<br/>Centroid 17[  51.44904147 -122.37356247   12.74453517   26.10130055    1.58123601<br/>   50.9674971 ]</span></pre><p id="3c4e" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">每个质心的分量对应于一年中所有月份的纬度、经度、中间温度、最高温度、最低温度和总降水量。</p><figure class="mt mu mv mw gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nq"><img src="../Images/eb8a5185d705335db60255e950e400a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cG5vbbjAWGbFn9Ytv_Xqvw.png"/></div></div><figcaption class="mx my gj gh gi mz na bd b be z dk">Cluster centroids map overlay.</figcaption></figure><p id="f442" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">你可以在这里玩玩交互式质心图:<a class="ae mr" href="https://github.com/hhl60492/SOMPY_robust_clustering/blob/master/sompy/examples/centroids_map.html" rel="noopener ugc nofollow" target="_blank">https://github . com/hhl 60492/SOMPY _ robust _ clustering/blob/master/SOMPY/examples/centroids _ map . html</a>(下载到你的机器上，用浏览器打开)。</p><p id="cd98" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">可以进一步分析SOM，并在地图上叠加每个气象站所属的聚类(一种方法是对2009年至2017年所有气象站的数据进行平均，或者重新拟合SOM的年度或月度数据，以查看相应的年度和月度模式。同样，不幸的是，气象站的位置存在严重的分布偏差，因此要考虑的一些其他特征将是，例如，具有较少地理偏差的大气压力测量、雷达数据或物理高程数据。</p><p id="707b" class="pw-post-body-paragraph kz la it lb b lc lz le lf lg ma li lj lk mn lm ln lo mo lq lr ls mp lu lv lw im bi translated">要了解气候学家如何在他们的模型中使用som，请看:<a class="ae mr" href="http://onlinelibrary.wiley.com/doi/10.1029/2009JD011706/full" rel="noopener ugc nofollow" target="_blank">http://online library . Wiley . com/doi/10.1029/2009 JD 011706/full</a></p><h1 id="04e2" class="kb kc it bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">结论:</h1><p id="4f88" class="pw-post-body-paragraph kz la it lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">我们已经看到了SOMs如何用于数据可视化，发现数据中的相关性和模式，以及执行数据的聚类。要提取更复杂的模式，您可以向SOM提供更多的输入特征，或者在某个维度(如时间)上划分特征。另一件要注意的事情是:运行K-means聚类应该使用自举集成来完成，并且聚类标签应该与类似于<a class="ae mr" href="http://software.clapper.org/munkres/" rel="noopener ugc nofollow" target="_blank">匈牙利算法</a>的东西相匹配，以便找到稳定、一致的聚类。不管怎样，玩得开心点。</p></div></div>    
</body>
</html>