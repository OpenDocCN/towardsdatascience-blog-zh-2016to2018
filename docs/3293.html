<html>
<head>
<title>Trading: Calculate Technical Analysis Indicators with Pandas 🐼</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">交易:用熊猫计算技术分析指标🐼</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/trading-technical-analysis-with-pandas-43e737a17861?source=collection_archive---------2-----------------------#2018-04-29">https://towardsdatascience.com/trading-technical-analysis-with-pandas-43e737a17861?source=collection_archive---------2-----------------------#2018-04-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/b468993d9ecd133b0c7dafc44256b850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DegTRK95Ok2fG99I7FmptQ.jpeg"/></div></div></figure></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="b3c6" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">(我的<a class="ae lg" href="https://kylelix7.github.io/Calculate-Technical-Analysis-Indicators-with-Pandas/" rel="noopener ugc nofollow" target="_blank">博客</a>里也有这个帖子)</p><p id="047b" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">在金融学中，<a class="ae lg" href="https://en.wikipedia.org/wiki/Technical_analysis" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">技术分析</strong> </a>是通过研究过去的市场数据，主要是<em class="lh">价格</em>和<em class="lh">成交量</em>来预测价格走向的分析方法论。技术分析师依靠技术指标的组合来研究股票，并给出交易策略的见解。常用的技术指标有<a class="ae lg" href="https://en.wikipedia.org/wiki/Moving_average#Simple_moving_average" rel="noopener ugc nofollow" target="_blank"> SMA </a>和<a class="ae lg" href="https://en.wikipedia.org/wiki/Bollinger_Bands" rel="noopener ugc nofollow" target="_blank">布林线</a>等。这是一份技术指标的清单。</p><p id="790c" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">在之前的一个<a class="ae lg" href="https://medium.com/@kyle.jinhai.li/collect-trading-data-with-pandas-library-8904659f2122" rel="noopener">故事</a>中，我讲过如何用熊猫收集这样的信息。在这个故事中，我将演示如何计算布林线，并用它来提供潜在的买入/卖出信号。</p><p id="b329" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">布林线</strong></p><p id="1a69" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><strong class="kk iu">布林线</strong>用于定义市场中的最高价和最低价，以表征金融工具或商品的交易区间。布林线是一个<a class="ae lg" href="https://en.wikipedia.org/wiki/Volatility_(finance)" rel="noopener ugc nofollow" target="_blank">波动</a>指标。波段是由移动平均线(MA)组成的，有上波段和下波段。上下波段只是MA加和减标准差。标准差是波动性的度量。这就是为什么它是一个波动指标。</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="289a" class="lr ls it ln b gy lt lu l lv lw">Upper Band = (MA + <em class="lh">Kσ</em>)</span><span id="bff6" class="lr ls it ln b gy lx lu l lv lw">Lower Band = (MA − <em class="lh">Kσ</em>)</span></pre><p id="9064" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">MA是典型的20天移动平均线，K是2。我将在这个例子中使用它们。</p><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ly"><img src="../Images/e486aeffff74ac7fc955003dfd39fdde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ol447mgAE17g0bp1gzlJAQ.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk">example of Bollinger Bands</figcaption></figure><p id="fefa" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">先决条件环境设置(遵循此<a class="ae lg" href="https://medium.com/@kyle.jinhai.li/collect-trading-data-with-pandas-library-8904659f2122" rel="noopener">帖子</a>中的步骤1)</p><p id="8d2a" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">数据:</p><p id="1bbf" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">在本例中，我们将使用从之前的<a class="ae lg" href="https://medium.com/@kyle.jinhai.li/collect-trading-data-with-pandas-library-8904659f2122" rel="noopener">帖子</a>中收集的csv文件(AMZN.csv)</p><p id="be7e" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">代码:</p><pre class="li lj lk ll gt lm ln lo lp aw lq bi"><span id="52fc" class="lr ls it ln b gy lt lu l lv lw"><strong class="ln iu">import </strong>pandas <strong class="ln iu">as </strong>pd<br/><strong class="ln iu">import </strong>matplotlib.pyplot <strong class="ln iu">as </strong>plt<br/><br/>symbol=<strong class="ln iu">'AMZN'<br/></strong><em class="lh"># read csv file, use date as index and read close as a column<br/></em>df = pd.read_csv(<strong class="ln iu">'~/workspace/{}.csv'</strong>.format(symbol), index_col=<strong class="ln iu">'date'</strong>,<br/>                 parse_dates=<strong class="ln iu">True</strong>, usecols=[<strong class="ln iu">'date'</strong>, <strong class="ln iu">'close'</strong>],<br/>                 na_values=<strong class="ln iu">'nan'</strong>)<br/><em class="lh"># rename the column header with symbol name<br/></em>df = df.rename(columns={<strong class="ln iu">'close'</strong>: symbol})<br/>df.dropna(inplace=<strong class="ln iu">True</strong>)<br/><br/><em class="lh"># calculate Simple Moving Average with 20 days window<br/></em>sma = df.rolling(window=20).mean()<br/><br/><em class="lh"># calculate the standar deviation<br/></em>rstd = df.rolling(window=20).std()<br/><br/>upper_band = sma + 2 * rstd<br/>upper_band = upper_band.rename(columns={symbol: <strong class="ln iu">'upper'</strong>})<br/>lower_band = sma - 2 * rstd<br/>lower_band = lower_band.rename(columns={symbol: <strong class="ln iu">'lower'</strong>})<br/><br/><br/>df = df.join(upper_band).join(lower_band)<br/>ax = df.plot(title=<strong class="ln iu">'{} Price and BB'</strong>.format(symbol))<br/>ax.fill_between(df.index, lower_band[<strong class="ln iu">'lower'</strong>], upper_band[<strong class="ln iu">'upper'</strong>], color=<strong class="ln iu">'#ADCCFF'</strong>, alpha=<strong class="ln iu">'0.4'</strong>)<br/>ax.set_xlabel(<strong class="ln iu">'date'</strong>)<br/>ax.set_ylabel(<strong class="ln iu">'SMA and BB'</strong>)<br/>ax.grid()<br/>plt.show()</span></pre><p id="2da2" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">输出</p><figure class="li lj lk ll gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/b28a58e5895e54e42146209ba81c245f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsLK7dWaeY04fBA5aJn87w.png"/></div></div><figcaption class="lz ma gj gh gi mb mc bd b be z dk">Amazon price and its Bollinger Bands</figcaption></figure><p id="4018" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">买入/卖出信号的解释</p><p id="21b9" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">大约90%的价格波动在两个波段之间。因此，波段可以用来识别潜在的超买或超卖情况。如果股价突破了上限，这可能是一个超买状态(做空的迹象)。同样，当它突破低波段时，可能是超卖状态(多头的迹象)。但是布林线不是一个独立的系统，总是给出准确的买入/卖出信号。应该考虑频带的整体趋势来识别信号。否则，只有布林线，一个人可以不断地做出错误的订单。在上面的亚马逊例子中，趋势是上升的。因此，只有在低频带被标记时，才应该做多。更多信息可以在<a class="ae lg" href="https://www.investopedia.com/trading/using-bollinger-bands-to-gauge-trends/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="15b0" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">这就是计算技术指标的简单方法🐼！</p><p id="0b56" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">如果你想了解更多关于机器学习的知识，educative.io 网站上有一系列<a class="ae lg" href="https://www.educative.io/profile/view/6083138522447872?aff=VEzk" rel="noopener ugc nofollow" target="_blank">课程很有帮助。这些课程包括像基本的ML，NLP，图像识别等主题。</a></p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="7c05" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">推荐阅读:</p><p id="55d7" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://www.amazon.com/gp/product/1492032646/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1492032646&amp;linkCode=as2&amp;tag=blog023b-20&amp;linkId=e6994d31d10e7ac4d35d9889cfe5622e" rel="noopener ugc nofollow" target="_blank">动手机器学习</a></p><p id="b268" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://www.amazon.com/gp/product/1491957662/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1491957662&amp;linkCode=as2&amp;tag=blog023b-20&amp;linkId=be0bbd6ab4fd578397d9c14facc76911" rel="noopener ugc nofollow" target="_blank">用于数据分析的Python:与Pandas、NumPy和IPython的数据争论</a></p><p id="d2f2" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://www.amazon.com/gp/product/1631570897/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1631570897&amp;linkCode=as2&amp;tag=blog023b-20&amp;linkId=d7bb68173b008df1b500073e3a8d054e" rel="noopener ugc nofollow" target="_blank">对冲基金真正在做什么</a></p></div><div class="ab cl kb kc hx kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="im in io ip iq"><p id="1ee6" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated">我的帖子:</p><p id="77e2" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://medium.com/@fin.techology/my-posts-about-finance-and-tech-7b7e6b2e57f4?source=your_stories_page---------------------------" rel="noopener">我关于金融和科技的帖子</a></p><p id="d013" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://bit.ly/3bBOjtJ" rel="noopener ugc nofollow" target="_blank">我的YouTube频道</a></p><p id="3360" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://medium.com/@fin.techology/my-posts-about-faang-interview-20e529c5f13f?source=your_stories_page---------------------------" rel="noopener">我关于FAANG访谈的帖子</a></p><p id="763a" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://medium.com/@fin.techology/from-crud-app-dev-to-sde-in-voice-assistant-my-ongoing-journey-to-ml-4ea11ec4966e?" rel="noopener">从CRUD web应用开发到语音助手中的SDE——我正在进行的机器学习之旅</a></p><p id="a24b" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" rel="noopener" target="_blank" href="/full-stack-development-tutorial-integrate-aws-lambda-serverless-service-into-angular-spa-abb70bcf417f">全栈开发教程:将AWS Lambda无服务器服务集成到Angular SPA中</a></p><p id="418d" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" rel="noopener" target="_blank" href="/full-stack-development-tutorial-serverless-rest-api-running-on-aws-lambda-a9a501f54405">全栈开发教程:用运行在AWS Lambda上的无服务器REST API提供交易数据</a></p><p id="3448" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" rel="noopener" target="_blank" href="/full-stack-development-tutorial-visualize-trading-data-on-angular-spa-7ec2a5749a38">全栈开发教程:在Angular SPA上可视化交易数据(1) </a></p><p id="8797" class="pw-post-body-paragraph ki kj it kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf im bi translated"><a class="ae lg" href="https://medium.com/@kyle.jinhai.li/reinforcement-learning-introduction-to-q-learning-444c951e292c" rel="noopener">强化学习:Q学习简介</a></p></div></div>    
</body>
</html>