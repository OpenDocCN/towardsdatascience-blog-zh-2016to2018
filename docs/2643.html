<html>
<head>
<title>Simple Fast Exploratory Data Analysis in R with DataExplorer Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 DataExplorer 包在 R 中进行简单快速的探索性数据分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-fast-exploratory-data-analysis-in-r-with-dataexplorer-package-e055348d9619?source=collection_archive---------0-----------------------#2018-02-16">https://towardsdatascience.com/simple-fast-exploratory-data-analysis-in-r-with-dataexplorer-package-e055348d9619?source=collection_archive---------0-----------------------#2018-02-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/9a7bd2fe518143cdc3ecb7a9d52d19e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FOxMCXxg4NRgDEcZcW2GhA.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image Courtesy: <a class="ae kc" href="https://pixabay.com/en/calculator-calculation-insurance-1680905/" rel="noopener ugc nofollow" target="_blank">https://pixabay.com/en/calculator-calculation-insurance-1680905/</a></figcaption></figure><blockquote class="kd ke kf"><p id="c85b" class="kg kh ki kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><a class="ae kc" href="https://www.youtube.com/channel/UCpV_X0VrL8-jg3t6wYGS-1g?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="kj ir"> <em class="iq">订阅 1littlecode YT 频道更多 R 教程</em> </strong> </a></p></blockquote><figure class="lf lg lh li gt jr"><div class="bz fp l di"><div class="lj lk l"/></div></figure><p id="b4be" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">探索性数据分析在整个数据科学工作流程中扮演着非常重要的角色。事实上，这占用了整个数据科学工作流程的大部分时间。有一句很好的引言(不确定是谁说的):</p><blockquote class="lo"><p id="c34b" class="lp lq iq bd lr ls lt lu lv lw lx le dk translated">“在数据科学中，80%的时间花在准备数据上，20%的时间花在抱怨需要准备数据上。”</p></blockquote><p id="9e28" class="pw-post-body-paragraph kg kh iq kj b kk ly km kn ko lz kq kr ll ma ku kv lm mb ky kz ln mc lc ld le ij bi translated">随着 R 成为许多数据分析师的首选语言，EDA 需要一名 R 程序员将几个来自臭名昭著的<code class="fe md me mf mg b">tidyverse</code>世界的包放到他们的 R 代码中——即使是最基本的带有一些条形图和直方图的 EDA 也是如此。</p><p id="d3fd" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">最近，我遇到了这个包<a class="ae kc" href="https://cran.r-project.org/web/packages/DataExplorer/index.html" rel="noopener ugc nofollow" target="_blank"> DataExplorer </a>，它似乎只用一个函数<code class="fe md me mf mg b">create_report()</code>就完成了整个 EDA(至少是典型的基本 EDA ),这个函数生成了一个很好的可呈现的 Rmarkdown html 文档。这只是一个自动生成的报告，如果您想要控制想要在其上执行 EDA 的内容，DataExplorer 为此提供了几个绘图功能。</p><p id="d8ef" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">这篇文章的目的是解释使用<code class="fe md me mf mg b">DataExplorer</code>包在 R 中你能有多快。</p><h1 id="8e5f" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">安装和装载</h1><p id="952d" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">让我们从加载库开始我们的 EDA:</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="fa80" class="no mi iq mg b gy np nq l nr ns">#Install if the package doesn't exist <br/>#install.packages('DataExplorer) <br/>library(DataExplorer)</span></pre><h1 id="e824" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">资料组</h1><p id="c9fe" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">我们将用于此分析的数据集是发布在 Kaggle 上的<a class="ae kc" href="https://www.kaggle.com/rtatman/chocolate-bar-ratings" rel="noopener ugc nofollow" target="_blank">巧克力棒评分</a>。数据集可以在这里下载<a class="ae kc" href="https://www.kaggle.com/rtatman/chocolate-bar-ratings/downloads/flavors_of_cacao.csv" rel="noopener ugc nofollow" target="_blank">。将输入数据集加载到 EDA 的 R 会话中:</a></p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="c82b" class="no mi iq mg b gy np nq l nr ns">choco = read.csv('../flavors_of_cacao.csv', header = T, stringsAsFactors = F)</span></pre><h1 id="4445" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">数据清理</h1><p id="2d69" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">在继续之前，需要对数据类型进行一些重新格式化。比如可可。百分比应该是一个数字值，但由于%符号的存在而被读作一个字符，因此需要固定。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="038c" class="no mi iq mg b gy np nq l nr ns">choco$Cocoa.Percent = as.numeric(gsub('%','',choco$Cocoa.Percent))<br/>choco$Review.Date = as.character(choco$Review.Date)</span></pre><h1 id="a945" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">变量</h1><p id="85aa" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">在 EDA 中，首先要做的是检查输入数据集的维度和变量的时间。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="cd8f" class="no mi iq mg b gy np nq l nr ns">plot_str(choco)</span></pre><p id="a384" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出了这个图:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/d65cc16f7dad19f2784a34fdc2ece0ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LUJQuK-GYZDxh_Ie.png"/></div></div></figure><p id="13ef" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">这样，我们可以看到我们有一些连续变量和一些分类变量。</p><h1 id="3bea" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">人类寻找缺失的价值</h1><p id="d007" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">在深入分析之前，查看用于分析的输入数据是否有缺失值非常重要。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="0213" class="no mi iq mg b gy np nq l nr ns">plot_missing(choco)</span></pre><p id="f01c" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/3c210520030c2e14a75edcc739e296aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0JZ8KZCjLu8pxii2.png"/></div></div></figure><p id="0f41" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">幸运的是，这个数据集中没有缺失值。</p><h1 id="85e3" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">连续变量</h1><p id="f98e" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">直方图是分析师分析/表示连续变量的最好朋友。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="cd6e" class="no mi iq mg b gy np nq l nr ns">plot_histogram(choco)</span></pre><p id="5be8" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出了这个图:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/3fbb3a872f9992fe3d3f3f8b1e73ee0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Yc-NyPuLDcpRHTsC.png"/></div></div></figure><p id="1a46" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">也许，你是密度图的粉丝，<code class="fe md me mf mg b">DataExplorer</code>已经有了一个函数。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="abc1" class="no mi iq mg b gy np nq l nr ns">plot_density(choco)</span></pre><p id="55d9" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出了这个图:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/20aff19fa16d875075fe2ee61f9ad33c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tZPAQCfkqFOGZgdN.png"/></div></div></figure><h1 id="f6de" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">多变量分析</h1><p id="6514" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">这标志着单变量分析的结束和双变量/多变量分析的开始，从相关性分析开始。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="73e7" class="no mi iq mg b gy np nq l nr ns">plot_correlation(choco, type = 'continuous','Review.Date')</span></pre><p id="3a87" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出了这个图:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/5933e06e75b017e6e628a9ce29f1e578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cotM3nAgaG2RY7k3.png"/></div></div></figure><p id="13fd" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">与相关图类似，<code class="fe md me mf mg b">DataExplorer</code>具有绘制箱线图和散点图的功能，语法与上面类似。</p><h1 id="b25a" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">分类变量—柱状图</h1><p id="5429" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated">到目前为止，我们已经看到了 EDA 绘图的种类，<code class="fe md me mf mg b">DataExplorer</code>让我们为连续变量绘图，现在让我们看看我们如何能为分类变量做类似的练习。没想到，这变成了一个非常简单的功能<code class="fe md me mf mg b">plot_bar()</code>。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="290a" class="no mi iq mg b gy np nq l nr ns">plot_bar(choco)</span></pre><p id="4004" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">给出了这个图:</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/71456cbc532583c8aa22701d78d6c0f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*X8IHuavNIZqXepHZ.png"/></div></div></figure><p id="a722" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">最后，如果你只有几分钟时间(就像 maggi noodles 广告中那样，两分钟！)只要简单地使用<code class="fe md me mf mg b">create_report()</code>就可以了，它在 html 中给出了一个非常好的可展示/可分享的渲染 markdown。</p><pre class="lf lg lh li gt nk mg nl nm aw nn bi"><span id="c9b4" class="no mi iq mg b gy np nq l nr ns">create_report(choco)</span></pre><p id="5976" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">希望这篇文章能帮助您执行简单快速的 EDA，并使用典型的 EDA 元素生成可共享的报告。要了解更多关于 R 中的探索性数据分析，请查看这个<a class="ae kc" href="https://www.datacamp.com/courses/exploratory-data-analysis?tap_a=5644-dce66f&amp;tap_s=210728-e54afe" rel="noopener ugc nofollow" target="_blank"> DataCamp 课程</a></p><h1 id="4827" class="mh mi iq bd mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne bi translated">参考</h1><p id="9f25" class="pw-post-body-paragraph kg kh iq kj b kk nf km kn ko ng kq kr ll nh ku kv lm ni ky kz ln nj lc ld le ij bi translated"><a class="ae kc" href="https://www.kaggle.com/rtatman/chocolate-bar-ratings/data" rel="noopener ugc nofollow" target="_blank">数据集</a> <br/> <a class="ae kc" href="https://www.kaggle.com/nulldata/perform-ridiculously-simple-fast-eda-in-r" rel="noopener ugc nofollow" target="_blank"> Kaggle 内核</a> <br/> <a class="ae kc" href="https://github.com/amrrs/fast-eda-in-R/" rel="noopener ugc nofollow" target="_blank">源代码—Github</a><br/><a class="ae kc" href="https://cran.r-project.org/web/packages/DataExplorer/index.html" rel="noopener ugc nofollow" target="_blank">data explorer—CRAN</a></p><p id="6040" class="pw-post-body-paragraph kg kh iq kj b kk kl km kn ko kp kq kr ll kt ku kv lm kx ky kz ln lb lc ld le ij bi translated">这篇文章最初发表在<a class="ae kc" href="https://datascienceplus.com/blazing-fast-eda-in-r-with-dataexplorer/" rel="noopener ugc nofollow" target="_blank">数据科学+ </a></p></div></div>    
</body>
</html>