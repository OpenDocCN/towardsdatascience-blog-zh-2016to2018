<html>
<head>
<title>Semi-supervised regression based on PCA and PLS: MATLAB, R and Python codes– All you have to do is just preparing data set (very simple, easy and practical)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于PCA和PLS的半监督回归:MATLAB、R和Python代码——你所要做的只是准备数据集(非常简单、容易和实用)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/semi-supervised-regression-based-on-pca-and-pls-matlab-r-and-python-codes-all-you-have-to-do-is-1814be979dd5?source=collection_archive---------3-----------------------#2016-09-15">https://towardsdatascience.com/semi-supervised-regression-based-on-pca-and-pls-matlab-r-and-python-codes-all-you-have-to-do-is-1814be979dd5?source=collection_archive---------3-----------------------#2016-09-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/13e3c4617f045bc9375acdb3c9848354.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n3fYkDsKHhr23o6QOWQcgA.jpeg"/></div></div></figure><div class=""/><figure class="gl gn jz ka kb is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi jy"><img src="../Images/9ffa426b8ccc011126f3fe5462e058c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRGdLwh5DrBAUEe0dwWzxA.png"/></div></div></figure><p id="9636" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我发布了基于主成分分析和偏最小二乘法的半监督回归的MATLAB、R和Python代码。它们非常容易使用。你准备数据集，然后运行代码！然后，可以获得新样本的PCAPLS和预测结果。非常简单容易！</p><p id="834c" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你可以从下面的网址购买每一个代码。</p><h2 id="9aa8" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">矩阵实验室</h2><p id="1b2b" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated"><a class="ae ly" href="https://gum.co/PnRna" rel="noopener ugc nofollow" target="_blank">https://gum.co/PnRna</a><br/>请从下面的URL下载补充zip文件(这是免费的)来运行PCAPLS代码。<br/><a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/MATLAB_scripts_functions.zip" rel="noopener ugc nofollow" target="_blank">http://univproblog . html . xdomain . jp/code/MATLAB _ scripts _ functions . zip</a></p><h2 id="a780" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">稀有</h2><p id="8cff" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated"><a class="ae ly" href="https://gum.co/PXJsf" rel="noopener ugc nofollow" target="_blank">https://gum.co/PXJsf</a><br/>请从下面的URL下载补充zip文件(这是免费的)来运行PCAPLS代码。<br/><a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/R_scripts_functions.zip" rel="noopener ugc nofollow" target="_blank">http://univproblog . html . xdomain . jp/code/R _ scripts _ functions . zip</a></p><h2 id="b425" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">计算机编程语言</h2><p id="a2fe" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated"><a class="ae ly" href="https://gum.co/XwnQl" rel="noopener ugc nofollow" target="_blank">https://gum.co/XwnQl</a><br/><a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/supportingfunctions.zip" rel="noopener ugc nofollow" target="_blank">http://univprovblog . html . xdomain . jp/code/supporting functions . zip</a></p><h1 id="0cc9" class="lz lb jb bd lc ma mb mc lf md me mf li mg mh mi ll mj mk ml lo mm mn mo lr mp bi translated">MATLAB中的PCAPLS程序，R和Python代码</h1><p id="4587" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">为了执行适当的PCAPLS，加载数据集后，MATLAB、R和Python代码遵循以下程序。</p><p id="69be" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 1。决定PCA的累积贡献率的阈值</strong> <br/>主成分数(PCs)在检查累积贡献率时确定。例如，如果给定数据集中包含5%的噪声，则应使用累积贡献率为95%的PCs。其他PC可以作为噪声去除。</p><p id="7258" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 2。将带有目标变量(Y)的数据集和不带有目标变量(Y)的数据集合并(样本被合并)</strong></p><p id="d71a" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 3。组合数据集</strong> <br/>的自动缩放解释变量(X)自动缩放意味着居中和缩放。通过从居中的变量中减去每个变量的平均值，每个变量的平均值变为零。通过将每个变量的标准偏差除以换算中的变量，每个变量的标准偏差变为1。<br/>缩放是任意的(但是推荐)，但是需要居中，因为PCA是基于轴的旋转。</p><p id="9a18" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 4。运行PCA，并获得每台PC的得分和加载向量</strong></p><p id="77ec" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 5。根据1中的阈值决定电脑的数量。</strong></p><p id="bd54" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 6。仅提取Y样本的分数</strong></p><p id="e639" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 7。自动缩放分数和Y </strong> <br/>缩放是任意的(但推荐)。需要对中。</p><p id="3dde" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 8。用交叉验证(CV)估计Y，把分量数从1改成m </strong> <br/>留一CV很有名，但是在训练样本数很高的时候会造成过拟合。所以，5折或2折CV比较好。首先，将训练样本分成5或2组。第二，一组作为测试样本处理，另一组建立模型。重复5或2次，直到每组都作为测试样品处理。然后，可以得到不是计算的Y而是估计的Y。<br/> m必须小于X变量的数量，但m=30最大值就足够了。</p><p id="8aea" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 9。计算每个组件数量的实际Y和估计Y之间的均方根误差(RMSE)</strong></p><p id="4965" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 10。用最小RMSE值</strong> <br/>决定最佳元件数，用第一个局部最大RMSE值决定最佳元件数即可</p><p id="c1b6" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 11。用最佳组分数构建PLS模型，得到标准回归系数</strong></p><p id="0c88" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">12。计算实际Y和计算Y之间的行列式系数和RMSE(r2C和RMSEC)以及实际Y和估计Y之间的行列式系数和RMSE(r2CV和RMSECV)  <br/> r2C是指PLS模型能够解释的Y信息的比值。<br/> RMSE表示PLS模型中Y误差的平均值。<br/> r2CV表示PLS模型对新样本可以估计的Y信息的可能比率。<br/> RMSECV表示新样本Y误差的可能平均值。<br/>较好的PLS模型具有较高的r2CV值和较低的RMSECV值。<br/>r2C和r2CV之间以及RMSEC和RMSECV之间的巨大差异意味着PLS模型对训练样本的过拟合。</p><p id="a207" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">*小心！r2CV和RMSECV不能代表PLS模型的真实可预测性，因为它是CV而不是外部验证。</p><p id="f83b" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">13。检查实际Y和计算Y之间以及实际Y和估计Y之间的图<br/>可以检查计算值和估计值的异常值。</p><p id="d432" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 14。在预测中，用1减去X的自动调用中的平均值。然后，用X变量除以X在1中自动调用的标准偏差。，用于新样品</strong></p><p id="08b0" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">15。使用4中的加载向量计算新样本的分数。</p><p id="cb2e" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">16。减去7中分数自动调用的平均值。从新分数开始，然后用新分数除以7中分数自动调用的标准偏差。</p><p id="1019" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 17。根据11中的标准回归系数估计Y。</strong></p><p id="2485" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc"> 18。将Y的自动调用中的标准差乘以1。通过估计的Y，然后，在1中添加Y的自动调用中的平均值。到估计Y </strong></p><h1 id="c2b7" class="lz lb jb bd lc ma mb mc lf md me mf li mg mh mi ll mj mk ml lo mm mn mo lr mp bi translated">执行PCAPLS的方法</h1><h2 id="4cdd" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">1.购买代码并解压文件</h2><p id="f5e5" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">MATLAB:<a class="ae ly" href="https://gum.co/PnRna" rel="noopener ugc nofollow" target="_blank">https://gum.co/PnRna</a>的<strong class="ke jc"/></p><p id="d7d7" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc">R</strong>:https://gum.co/PXJsf<a class="ae ly" href="https://gum.co/PXJsf" rel="noopener ugc nofollow" target="_blank"/></p><p id="79fd" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc">Python</strong>:<a class="ae ly" href="https://gum.co/XwnQl" rel="noopener ugc nofollow" target="_blank">https://gum.co/XwnQl</a></p><h2 id="e365" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">2.下载并解压缩补充zip文件(这是免费的)</h2><p id="5f07" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated"><strong class="ke jc">MATLAB</strong>:<a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/MATLAB_scripts_functions.zip" rel="noopener ugc nofollow" target="_blank">http://univprovblog . html . xdomain . jp/code/MATLAB _ scripts _ functions . zip</a></p><p id="0748" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc">R</strong>:<a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/R_scripts_functions.zip" rel="noopener ugc nofollow" target="_blank">http://univprovblog . html . xdomain . jp/code/R _ scripts _ functions . zip</a></p><p id="a823" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jc">Python</strong>:<a class="ae ly" href="http://univprofblog.html.xdomain.jp/code/supportingfunctions.zip" rel="noopener ugc nofollow" target="_blank">http://univproblog . html . xdomain . jp/code/supporting functions . zip</a></p><h2 id="8acf" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">3.将补充文件放在与PCAPLS代码相同的目录或文件夹中。</h2><h2 id="4ee8" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">4.准备数据集。有关数据格式，请参见下面的文章。</h2><p id="5c22" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated"><a class="ae ly" href="https://medium.com/@univprofblog1/data-format-for-matlab-r-and-python-codes-of-data-analysis-and-sample-data-set-9b0f845b565a#.3ibrphs4h" rel="noopener">https://medium . com/@ univprovblog 1/data-format-for-MATLAB-r-and-python-codes-of-data-analysis-and-sample-data-set-9 b0f 845 b 565 a # . 3 ibr PHS 4h</a></p><p id="9f9c" class="pw-post-body-paragraph kc kd jb ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">data.csv、data_prediction1.csv和data_prediction2.csv的样本在PCA之前合并。</p><h2 id="8f00" class="la lb jb bd lc ld le dn lf lg lh dp li kn lj lk ll kr lm ln lo kv lp lq lr ls bi translated">5.运行代码！</h2><p id="a9f2" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">“data_prediction2.csv”的Y估计值保存在“PredictedY2.csv”中。</p><h1 id="c7cc" class="lz lb jb bd lc ma mb mc lf md me mf li mg mh mi ll mj mk ml lo mm mn mo lr mp bi translated">必需的设置</h1><p id="9ac8" class="pw-post-body-paragraph kc kd jb ke b kf lt kh ki kj lu kl km kn lv kp kq kr lw kt ku kv lx kx ky kz ij bi translated">请看下面的文章。<br/><a class="ae ly" href="https://medium.com/@univprofblog1/settings-for-running-my-matlab-r-and-python-codes-136b9e5637a1#.paer8scqy" rel="noopener">https://medium . com/@ uniprofblog1/settings-for-running-my-MATLAB-r-and-python-codes-136 B9 e 5637 a 1 #、paer8scqy </a></p><h1 id="7c38" class="lz lb jb bd lc ma mb mc lf md me mf li mg mh mi ll mj mk ml lo mm mn mo lr mp bi translated">执行结果的示例</h1><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/e0c775eb875a28d2f533dc8ec7e80ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*GhszlMXdT9Yqw-TYGfumdg.png"/></div></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/dd71ac03f60b7e267de5edfa8e20dce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*nG7tlL5WVW-aqUoKtblRgw.png"/></div></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/8731de435152d6de8aa3de85a936cfdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*u-YNcyNTFmr6RsOJ2m-mWQ.png"/></div></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/4d9726db1057469aa470979c93e0b10d.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*iBiPg1Qc3afd5Q8-03NSLg.png"/></div></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/220bae8a4d9d22fffeaee2f84b605f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*zvay7QFSZu-wgrQ7nmrCdg.png"/></div></figure><figure class="mr ms mt mu gt is gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/49f94d723f68a559697e1240233e5bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*PzaRhTm6EGxGliYnUsuufw.png"/></div></figure></div></div>    
</body>
</html>