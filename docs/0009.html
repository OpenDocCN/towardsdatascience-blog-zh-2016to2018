<html>
<head>
<title>Model Evaluation I: Precision And Recall</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">模型评估I:精度和召回率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/model-evaluation-i-precision-and-recall-166ddb257c7b?source=collection_archive---------0-----------------------#2017-01-10">https://towardsdatascience.com/model-evaluation-i-precision-and-recall-166ddb257c7b?source=collection_archive---------0-----------------------#2017-01-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/421ce8d9845dbd4d04a2fa14f96182e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lf-3wh_dqHg2PBvwk6ds8g.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">source - pexels.com</figcaption></figure><div class=""/><p id="fff6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了测试像支持向量机这样的分类系统的质量，需要执行一些评估指标。支持向量机是我在<a class="ae la" href="https://medium.com/@tejumadeafonja/kernel-function-6f1d2be6091#.aya90wkoe" rel="noopener">内核</a>中简单解释过的分类算法。</p><h1 id="1222" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">一点背景</h1><p id="73e4" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di">精确和回忆在信息抽取中都有广泛的应用。Precision是检索到的<strong class="ke jg"><em class="mn"/></strong>的<strong class="ke jg"> <em class="mn">文档的编号，Recall是检索到的<strong class="ke jg"><em class="mn"/></strong>的<strong class="ke jg"> <em class="mn">相关文档的编号。</em></strong></em></strong></span></p><blockquote class="mo"><p id="676f" class="mp mq jf bd mr ms mt mu mv mw mx kz dk translated">相关性是指所呈现的信息对此刻正在讨论的主题有多有用。</p></blockquote><p id="db97" class="pw-post-body-paragraph kc kd jf ke b kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz ij bi translated">让我们来看一个约翰和乔希之间对话的例子:</p><blockquote class="nd ne nf"><p id="33d0" class="kc kd mn ke b kf kg kh ki kj kk kl km ng ko kp kq nh ks kt ku ni kw kx ky kz ij bi translated">如果约翰说“我喜欢冰淇淋”，而乔希回答“我有一个朋友叫约翰·多伊”，那么乔希刚才说的与约翰暗示的毫无关系，但是如果乔希说“我有一个朋友叫约翰·多伊，他也喜欢冰淇淋”，那么乔希的陈述就变得相关，因为它现在与约翰的陈述相关。</p></blockquote><p id="2c2c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="mn">精确度和召回率</em>都非常<em class="mn">有助于理解呈现了哪组文档或信息，以及这些文档中有多少对于所提问题是<strong class="ke jg">实际上</strong>有用的。</em></p><p id="3591" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">尽管精确度和召回率有时会被混淆为同义词，但它们不是。</p><p id="ba93" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">精确度和召回率彼此成反比，因此理解它们的差异对于建立有效的分类系统是重要的。</p><p id="24f2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们考虑另一个例子</p><p id="fa01" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">假设我在谷歌上搜索“什么是精确和召回？”不到一分钟，我就有大约1560万个结果。</p><p id="8367" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">假设在这1560万个结果中，与我的问题相关的链接大约有200万个。假设还有大约600多万个相关但没有被谷歌返回的结果，对于这样的系统，我们可以说它的精度是2M/1560万，召回率是2M/8万。</p><p id="733e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这意味着谷歌的算法<em class="mn">检索</em> e所有<strong class="ke jg"> <em class="mn">相关</em> <em class="mn">链接</em> </strong>的概率是0.25 ( <em class="mn">召回</em>)，所有<strong class="ke jg"> <em class="mn">检索到的链接</em> </strong> <em class="mn">是</em> <em class="mn">相关</em>的概率是0.13 ( <em class="mn">精度</em>)。</p><p id="f6be" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">思考<em class="mn">精度和回忆</em>的另一种方式是这样的:</p><blockquote class="mo"><p id="f6a8" class="mp mq jf bd mr ms mt mu mv mw mx kz dk translated">如果有人让你列出你去年圣诞节收到的5件礼物的名字，但你记不清这5件礼物的名字，所以你随机猜了7次。在你记得的7个名字中，有5个被正确回忆起来，而2个是你生日时收到的礼物。即使你有100%的召回率(5/5)，你的准确率也只有71.4% (5/7)。</p></blockquote><p id="119d" class="pw-post-body-paragraph kc kd jf ke b kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz ij bi translated">现在，我已经让您对精确和回忆有了初步的了解，让我们再深入一点。</p><h1 id="734a" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">第一类和第二类错误</h1><p id="bded" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">谈精度和回忆而不提<a class="ae la" href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors" rel="noopener ugc nofollow" target="_blank"><em class="mn">I型&amp; II型错误</em> </a> <em class="mn">就像叙述穆罕默德·阿里的历史而跳过“拳击”——我</em></p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nj"><img src="../Images/470a7f704165d04c11eed83e3753e159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sl69uil53XpBmsI4."/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">ouch! that punch was precise :) — source <a class="ae la" href="https://www.google.com/url?sa=i&amp;rct=j&amp;q=&amp;esrc=s&amp;source=images&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwj3sobt6bfRAhXJO1AKHcCOBroQjRwIBw&amp;url=http%3A%2F%2Fpiximus.net%2Fcelebrities%2Fmohammed-ali&amp;psig=AFQjCNFQ37PwjWLZUlG0zV7MrIoH5XGvsg&amp;ust=1484146264449681" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><h2 id="7737" class="no lc jf bd ld np nq dn lh nr ns dp ll kn nt nu lp kr nv nw lt kv nx ny lx nz bi translated">第一类错误</h2><p id="441b" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">这是一个<strong class="ke jg">真</strong> <em class="mn">零假设(Ho)的<strong class="ke jg">不正确拒绝</strong>。</em></p><blockquote class="mo"><p id="0ddd" class="mp mq jf bd mr ms mt mu mv mw mx kz dk translated"><strong class="ak"> <em class="oa">零假设是一个默认为真的陈述，除非被证明是相反的。</em>T15】</strong></p></blockquote><p id="d14e" class="pw-post-body-paragraph kc kd jf ke b kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz ij bi translated">I型错误导致<strong class="ke jg">假阳性</strong> <em class="mn"> </em> (FP) <em class="mn">。</em>例如，当一个文件被搜索引擎返回为“相关”时，结果却是“不相关”。</p><p id="7d3a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">一个例子是，实际上并没有发生火灾，但火警却响了。这种错误等同于“相信谎言”或“虚惊一场”。</p><h2 id="eac8" class="no lc jf bd ld np nq dn lh nr ns dp ll kn nt nu lp kr nv nw lt kv nx ny lx nz bi translated">第二类错误</h2><p id="d1af" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">这是一个<strong class="ke jg">假</strong> <em class="mn">零假设(Ho)的<strong class="ke jg">不正确保留</strong>。</em></p><p id="0b39" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这相当于系统忽略了可能没有检索到相关文档的可能性。</p><p id="0afa" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这种错误会导致<strong class="ke jg">假阴性</strong> (FN)。<em class="mn"> </em>即没有检索到本应检索到的相关文档。</p><p id="0511" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这种情况的一个例子是发生了火灾，但火警没有响。这种错误等同于“不相信真理”或“失误”。</p><p id="1d70" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">考虑下表:</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ob"><img src="../Images/ea2c45a837a6663ff9602fed467509f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tlb10JMKRjyS3cDg4f_0-g.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Table 1.0 (confusion matrix)</figcaption></figure><p id="391b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">误报和漏报分别是精确度和召回率的两个独特特征。</p><figure class="nk nl nm nn gt is gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/e0ebd37332ccbecae065bf6ca43cf896.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/0*svgFn5Epn-R4HX5i.jpg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Source <a class="ae la" href="http://faxo.com/pregnant-or-not-false-positive-vs-false-negative-70351" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="0ac1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">减少一个意味着增加另一个</p><blockquote class="mo"><p id="8f33" class="mp mq jf bd mr ms mt mu mv mw mx kz dk translated">P α 1/R</p></blockquote><h1 id="62a6" class="lb lc jf bd ld le lf lg lh li lj lk ll lm od lo lp lq oe ls lt lu of lw lx ly bi translated">一些数学公式</h1><p id="95a5" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在分类任务中，</p><pre class="nk nl nm nn gt og oh oi oj aw ok bi"><span id="a1e2" class="no lc jf oh b gy ol om l on oo">Precision P = TP/(TP+ FP)</span></pre><p id="3fdd" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">即{真阳性(正确检索的文档)数)}/{(检索的文档总数)}</p><pre class="nk nl nm nn gt og oh oi oj aw ok bi"><span id="2ac2" class="no lc jf oh b gy ol om l on oo">Recall R = TP/(TP + FN)</span></pre><p id="eb69" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">即{真阳性(正确检索的文档)数)}/{(检索的相关文档总数)}</p><p id="9f01" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">从Google搜索的例子来看，<strong class="ke jg"> perfect Precision </strong>得分为1.0意味着搜索引擎检索到的每个结果都是相关的(但没有说明是否检索到了所有相关的文档)</p><p id="393f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">而<strong class="ke jg">完美回忆</strong>得分为1.0意味着所有相关文档都从搜索引擎中检索到了(但没有说明检索到的结果中有多少是不相关的)。</p><p id="95ce" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这不是一个非此即彼的问题，因为就一个问题作出的决定会自动影响另一个问题。因此，对于每个系统，通常都有一个基准，它被认为是“可接受的”,而不会失去太多的特性。</p><blockquote class="mo"><p id="9a9d" class="mp mq jf bd mr ms mt mu mv mw mx kz dk translated">对于能够实现最大精确度(无假阳性)和最大召回率(无假阴性)的任何系统，需要没有类型I和类型II错误。</p></blockquote><p id="4a01" class="pw-post-body-paragraph kc kd jf ke b kf my kh ki kj mz kl km kn na kp kq kr nb kt ku kv nc kx ky kz ij bi translated">精确度和召回分数不是孤立讨论的。取而代之的是，将一个度量的值与另一个度量的固定水平进行比较(例如，召回水平为0.75的精度)，或者将两者合并为一个度量。</p><p id="889b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">结合了精确度和召回率的度量的例子是<strong class="ke jg"> <em class="mn"> F-measure </em> </strong></p><pre class="nk nl nm nn gt og oh oi oj aw ok bi"><span id="f236" class="no lc jf oh b gy ol om l on oo">F = 2 * ((Precision * Recall)/(Precision + Recall))</span></pre><p id="bfe9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个指标通常被称为<strong class="ke jg"> F1得分</strong>，它是精确度和召回率接近时的平均值。这是调和平均数。</p><p id="a6a0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">其他相关指标有<strong class="ke jg">准确度</strong>、<strong class="ke jg">混淆矩阵</strong>和<strong class="ke jg">列联表</strong>。</p><p id="1598" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">继续探索吧！</p><p id="af93" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="mn">感谢</em><a class="op oq ep" href="https://medium.com/u/db00622f19c5?source=post_page-----166ddb257c7b--------------------------------" rel="noopener" target="_blank"><em class="mn">Pelumi</em></a><em class="mn">和</em><a class="op oq ep" href="https://medium.com/u/6adf4944f581?source=post_page-----166ddb257c7b--------------------------------" rel="noopener" target="_blank"><em class="mn">Hamza</em></a><em class="mn">阅读本稿。</em></p><p id="eac2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">相关链接</p><ol class=""><li id="24c7" class="or os jf ke b kf kg kj kk kn ot kr ou kv ov kz ow ox oy oz bi translated"><a class="ae la" href="https://en.wikipedia.org/wiki/Null_hypothesis" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Null_hypothesis</a></li><li id="faa6" class="or os jf ke b kf pa kj pb kn pc kr pd kv pe kz ow ox oy oz bi translated"><a class="ae la" href="https://en.wikipedia.org/wiki/Precision_and_recall#F-measure" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Precision _ and _ recall # F-measure</a></li><li id="8911" class="or os jf ke b kf pa kj pb kn pc kr pd kv pe kz ow ox oy oz bi translated"><a class="ae la" href="https://en.wikipedia.org/wiki/Accuracy_and_precision#In_binary_classification" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/Accuracy _ and _ precision # In _ binary _ class ification</a></li><li id="44a8" class="or os jf ke b kf pa kj pb kn pc kr pd kv pe kz ow ox oy oz bi translated"><a class="ae la" href="https://en.wikipedia.org/wiki/Confusion_matrix" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Confusion_matrix</a></li><li id="4e8c" class="or os jf ke b kf pa kj pb kn pc kr pd kv pe kz ow ox oy oz bi translated"><a class="ae la" href="https://en.wikipedia.org/wiki/Contingency_table" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Contingency_table</a></li></ol></div></div>    
</body>
</html>