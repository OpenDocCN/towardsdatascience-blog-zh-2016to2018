<html>
<head>
<title>Correcting your spelling error via 2 distance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过两个距离纠正你的拼写错误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/correcting-your-spelling-error-with-4-operations-50bcfd519bb8?source=collection_archive---------13-----------------------#2018-11-10">https://towardsdatascience.com/correcting-your-spelling-error-with-4-operations-50bcfd519bb8?source=collection_archive---------13-----------------------#2018-11-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/1166842258fdd386ec38f42092f29e28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FgCnZ89xHvBMfpHf"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">“red pencil on top of mathematical quiz paper” by <a class="ae kf" href="https://unsplash.com/@chrisliverani?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Chris Liverani</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="02b9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在处理文本时，我们可能需要处理不正确的文本。尽管我们仍然可以使用<a class="ae kf" rel="noopener" target="_blank" href="/besides-word-embedding-why-you-need-to-know-character-embedding-6096a34a3b10">字符嵌入</a>和<a class="ae kf" rel="noopener" target="_blank" href="/3-silver-bullets-of-word-embedding-in-nlp-10fa8f50cc5a">单词嵌入</a>来计算类似的向量。它对看不见的数据和词汇表之外的东西很有用(OOV)。不过如果能纠正错别字就更好了。</p><p id="d320" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">错别字可以在几种情况下产生。如果您使用光学字符识别(OCR)，OCR 输出的后处理步骤是非常关键的部分，因为 OCR 引擎会引入一些错误，这些错误可能是由图像质量差和 OCR 引擎错误引起的。另一个错别字来源于人类。当你在聊天机器人项目工作，输入来自人类，它必须包括错别字。</p><p id="c6f3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了获得更好的结果，最好是尽早纠正错别字。看完这篇帖子，你会明白:</p><ul class=""><li id="a628" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">拼写纠正器</li><li id="3639" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">履行</li><li id="3f92" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">拿走</li></ul><h1 id="8f71" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">拼写纠正器</h1><p id="8b6a" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">Norvig 在 2007 年实现了<a class="ae kf" href="https://norvig.com/spell-correct.html" rel="noopener ugc nofollow" target="_blank">一个非常简单但是惊人的库</a>来纠正拼写错误。通过不同的方式计算可能的候选校正，并从中找到最可能的单词。有两个阶段来寻找可能的候选词。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/b237ef96dc603baf009ecc62ae6e4dc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zdjzWOlmCNbgbUON"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">“brown rail train” by <a class="ae kf" href="https://unsplash.com/@jplenio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Johannes Plenio</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b1f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，当原始词和候选词之间的编辑距离为 1 时，使用 4 种不同的方法生成新词。不同于<a class="ae kf" rel="noopener" target="_blank" href="/measure-distance-between-2-words-by-simple-calculation-a97cf4993305"> Levenshtein 距离</a>，它认为:</p><ul class=""><li id="4ec2" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">删除:删除一个字母</li><li id="ce45" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">换位:交换两个相邻的字母</li><li id="0953" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">替换:把一个字母换成另一个</li><li id="4a0e" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">插入:添加一个字母</li></ul><p id="9adc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">以“edward”为例，“edwar”、“edwadr”、“edwadd”、“edwward”分别是“删除”、“换位”、“替换”、“插入”的例子。显然，将会产生大量的无效单词。因此，它会按给定的词汇过滤掉(它在库中称为“已知词”)。为了扩大潜在的候选，算法再次重复这个步骤，但是编辑距离是 2。</p><p id="1cd4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第二部分是根据概率从可能的候选者中选择候选者。例如,“Edward”在给定字典中的出现次数是 2%,概率是 0.02。概率最高的词将从潜在候选词中选出。</p><h1 id="7780" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">履行</h1><p id="915c" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">为了方便拼写检查，需要语料库。为了便于演示，我简单地使用了 sklearn 库中的数据集，没有进行预处理。您应该使用特定领域的数据集来为您的数据构建更好的语料库。</p><p id="5089" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="na">建立语料库</em></p><pre class="mw mx my mz gt nb nc nd ne aw nf bi"><span id="8a35" class="ng lt it nc b gy nh ni l nj nk">from collections import Counter<br/>from sklearn.datasets import fetch_20newsgroups<br/>import re</span><span id="36d3" class="ng lt it nc b gy nl ni l nj nk">corpus = []<br/>for line in fetch_20newsgroups().data:<br/>    line = line.replace('\n', ' ').replace('\t', ' ').lower()<br/>    line = re.sub('[^a-z ]', ' ', line)<br/>    tokens = line.split(' ')<br/>    tokens = [token for token in tokens if len(token) &gt; 0]<br/>    corpus.extend(tokens)</span><span id="9809" class="ng lt it nc b gy nl ni l nj nk">corpus = Counter(corpus)</span></pre><p id="2930" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="na">校正</em></p><pre class="mw mx my mz gt nb nc nd ne aw nf bi"><span id="1be9" class="ng lt it nc b gy nh ni l nj nk">spell_corrector = SpellCorrector(dictionary=corpus)<br/>spell_corrector.correction('edwar')</span></pre><p id="068f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="na">输出为</em></p><pre class="mw mx my mz gt nb nc nd ne aw nf bi"><span id="fd41" class="ng lt it nc b gy nh ni l nj nk">edward</span></pre><h1 id="06a5" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">拿走</h1><p id="4524" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">要访问所有代码，你可以访问我的 github repo。</p><ul class=""><li id="4644" class="le lf it ki b kj kk kn ko kr lg kv lh kz li ld lj lk ll lm bi translated">拼写校正器<strong class="ki iu">不考虑上下文</strong>，而仅仅考虑拼写。然而，鉴于它是在 11 年前(2007 年)推出的。这是一个神奇的工具。</li><li id="a880" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">从作者编码来看，预处理结果应该只保留英文字符和小写字母。换句话说，<strong class="ki iu">特殊字符和数字要去掉</strong>。</li><li id="3193" class="le lf it ki b kj ln kn lo kr lp kv lq kz lr ld lj lk ll lm bi translated">性能(就速度而言)非常快。</li></ul><h1 id="9ab6" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">关于我</h1><p id="49f6" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">我是湾区的数据科学家。专注于数据科学、人工智能，尤其是 NLP 和平台相关领域的最新发展。你可以通过<a class="ae kf" href="http://medium.com/@makcedward/" rel="noopener">媒体博客</a>、<a class="ae kf" href="https://www.linkedin.com/in/edwardma1026" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae kf" href="https://github.com/makcedward" rel="noopener ugc nofollow" target="_blank"> Github </a>联系我。</p><h1 id="ee43" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">参考</h1><p id="148c" class="pw-post-body-paragraph kg kh it ki b kj mq kl km kn mr kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated"><a class="ae kf" href="https://norvig.com/spell-correct.html" rel="noopener ugc nofollow" target="_blank">拼写校正器</a></p></div></div>    
</body>
</html>