<html>
<head>
<title>My First Step For Deep Learning Adventure With Udacity And Coursera</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我与 Udacity 和 Coursera 进行深度学习冒险的第一步</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/my-first-step-for-deep-learning-adventure-with-udacity-and-coursera-ee135042ac1e?source=collection_archive---------8-----------------------#2017-08-24">https://towardsdatascience.com/my-first-step-for-deep-learning-adventure-with-udacity-and-coursera-ee135042ac1e?source=collection_archive---------8-----------------------#2017-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/></div><div class="ab cl jn jo hu jp" role="separator"><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js jt"/><span class="jq bw bk jr js"/></div><div class="ij ik il im in"><p id="0f4f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><a class="ae ks" href="https://www.slideshare.net/ExtractConf" rel="noopener ugc nofollow" target="_blank">为什么是深度学习——吴恩达</a>，他对为什么深度学习正在兴起的解释可以用下图来总结。</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi kt"><img src="../Images/29bba10e83b7e11a246a3cd8eb8044b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KB0hpPua2iVbliycqw2YuQ.png"/></div></div></figure><p id="ee0b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在报名参加来自<a class="ae ks" href="https://www.udacity.com/course/deep-learning-nanodegree-foundation--nd101" rel="noopener ugc nofollow" target="_blank"> Udacity </a>和<a class="ae ks" href="https://www.coursera.org/specializations/deep-learning" rel="noopener ugc nofollow" target="_blank"> Coursera </a>的在线深度学习课程之前，我决定在家里构建自己的 GPU 实例。Udacity 向亚马逊 AWS 提供 100 美元信用来剥离 GPU 实例，而 Coursera 没有。在花费之前拥有用于训练模型的内部 GPU 实例总是好的💰在云上。我用的 GPU 是<a class="ae ks" href="https://www.nvidia.com/en-us/geforce/products/10series/geforce-gtx-1070/" rel="noopener ugc nofollow" target="_blank">英伟达 GTX 1070 </a></p><p id="cb71" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我把这些部件<a class="ae ks" href="https://pcpartpicker.com/list/Dwcpcc" rel="noopener ugc nofollow" target="_blank">用于我自己的 CPU 实例，下面是结果。</a></p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi lf"><img src="../Images/c899894c71ae477fe7e4a73f4cf90f62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x3VSWi5OeH2iW_G68tuYlA.jpeg"/></div></div></figure><p id="61d3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">花费大部分时间💸在 GPU 上而不是 CPU 上。</p><p id="43a5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我正在使用<a class="ae ks" href="https://xubuntu.org/" rel="noopener ugc nofollow" target="_blank"> Xbuntu </a> <a class="ae ks" href="https://xubuntu.org/getxubuntu/" rel="noopener ugc nofollow" target="_blank"> 17.04 </a>但它可能太前沿了，但我猜尝试更多最新的内核没有坏处。</p><p id="d155" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在设置以下内容之前，我做了标准的路由器设置来启用我的 gpu 实例的 SSH 和 https，并使用<a class="ae ks" href="https://letsencrypt.org/getting-started/" rel="noopener ugc nofollow" target="_blank"> letsencrypt </a>通过 SSL 证书保护它。除此之外，我使用 NGINX 作为网络服务器。</p><h1 id="6361" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">日常活动的 SSH 设置</h1><ol class=""><li id="bf5f" class="me mf iq jw b jx mg kb mh kf mi kj mj kn mk kr ml mm mn mo bi translated">安装 ssh 服务器</li></ol><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="2f13" class="mu lh iq mq b gy mv mw l mx my">sudo apt-get install openssh-server</span></pre><p id="ea4b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2.配置无密码登录</p><p id="df83" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在本地 PC 上生成一个 SSH 密钥，在这个上有一个来自数字海洋的优秀的<a class="ae ks" href="https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets" rel="noopener ugc nofollow" target="_blank">教程</a></p><p id="d061" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">完成后，我们需要通过以下方式将我们的公钥添加到我们的登录名中</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="81ca" class="mu lh iq mq b gy mv mw l mx my">cat ~/.ssh/id_rsa.pub | ssh [login]@[your.ip.address.here] "cat &gt;&gt; ~/.ssh/authorized_keys"</span></pre><p id="dbf0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后编辑/etc/ssh/sshd_config，这将强制只使用密钥登录，从而更加安全</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="1702" class="mu lh iq mq b gy mv mw l mx my"># To disable tunneled clear text passwords, change to no here!<br/>#PasswordAuthentication yes<br/>#PermitEmptyPasswords no<br/>PasswordAuthentication no</span></pre><p id="e175" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">除此之外，我们还需要在/etc/ssh/sshd_config 中添加 X11Forwarding，如果我们希望在本地显示 X11，稍后会用到它</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="d016" class="mu lh iq mq b gy mv mw l mx my">Match User [login]<br/>        X11Forwarding yes<br/>        AllowTcpForwarding yes<br/>        X11DisplayOffset 10</span></pre><p id="b5c8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">重启 SSH 服务器</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="fe0b" class="mu lh iq mq b gy mv mw l mx my">sudo systemctl restart sshd</span></pre><p id="7a47" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，我们可以不用输入密码就可以登录，这对于稍后为 VNC 创建 SSH 隧道的下一个设置非常重要</p><h1 id="3cd1" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">运行长期运行流程的 VNC 设置</h1><p id="dc30" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mz kh ki kj na kl km kn nb kp kq kr ij bi translated">Digital Ocean 有一个关于使用 xfce4 设置 VNC 的极好的教程,这就是为什么我选择使用 Xbuntu 发行版，它没有额外的软件包。这就是我们可以进行长期训练的环境</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi nc"><img src="../Images/763226bc3471be9f0b762210cf14269d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ldOkwuZQ4C1jpVGdOVztw.png"/></div></div></figure><h1 id="0300" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">Anaconda 设置准备编码环境</h1><p id="45b1" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mz kh ki kj na kl km kn nb kp kq kr ij bi translated">在我们安装 anaconda 之前，我们需要在我们的服务器上安装 nvidia 驱动程序、CUDA 和 cuDNN。这个来自<a class="ae ks" href="https://github.com/floydhub/dl-setup" rel="noopener ugc nofollow" target="_blank"> floydhub </a>的指南非常有用，但仍然适用于 Xbuntu 17.04 版本。一旦一切就绪，我们就可以使用命令进行验证</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="4c74" class="mu lh iq mq b gy mv mw l mx my">nvidia-smi</span></pre><p id="9bc5" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">它应该看起来像这样</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/26db7be03b23920344af9b8fbafbcfac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*0xHEbm-p2A9Uik_oy_3kTw.png"/></div></figure><p id="872f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Udacity 对建立<a class="ae ks" href="https://www.continuum.io/downloads" rel="noopener ugc nofollow" target="_blank">蟒蛇</a>环境有很好的介绍。我发现在培训/开发期间维护 tensorflow gpu 和 tensorflow cpu 环境进行比较非常有用</p><h1 id="e9ac" class="lg lh iq bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">用于监控 GPU 的 Zabbix 设置</h1><p id="278c" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mz kh ki kj na kl km kn nb kp kq kr ij bi translated">我正在使用<a class="ae ks" href="https://www.zabbix.com/" rel="noopener ugc nofollow" target="_blank"> zabbix </a>来监控 GPU，并为此使用了优秀的数字海洋<a class="ae ks" href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-zabbix-to-securely-monitor-remote-servers-on-ubuntu-16-04" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="1f7b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">一旦 zabbix 被相应地安装和配置，我们就可以为 zabbix 获得 Nvidia 模板。有了它，我们可以在利用率方面(温度、风扇和处理)密切关注我们 GPU</p><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div role="button" tabindex="0" class="kz la di lb bf lc"><div class="gh gi ne"><img src="../Images/c72b403955c5e622896680240148ba66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrMX1B-xeRTqlVTDfN7_Pg.png"/></div></div></figure><p id="e580" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">最后，使用来自 Udacity 简介的<a class="ae ks" href="https://github.com/lengstrom/fast-style-transfer" rel="noopener ugc nofollow" target="_blank"> style-transfer </a>和以下命令比较了 GPU 和 CPU 的一些统计数据:-</p><pre class="ku kv kw kx gt mp mq mr ms aw mt bi"><span id="f3ef" class="mu lh iq mq b gy mv mw l mx my">time python evaluate.py — checkpoint ./rain-princess.ckpt — in-path lesu-0596.jpg — out-path lesu-0596-style.jpg</span></pre><figure class="ku kv kw kx gt ky gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/72e4022ff1d2165284cf06d6a9503cb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*hwva16rSEbo3eXpxecsBvQ.png"/></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk">GPU vs CPU</figcaption></figure><p id="25af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我的图像分辨率是 4242 × 2828，大约是 7.9MB 的文件大小，有趣的是看到<a class="ae ks" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> tensorflow </a> CPU 与 GPU 相比有一个核心转储。我还注意到有一个巨大的速度提升，我猜这就是深度学习所依赖的，用 GPU 进行实验和获得反馈的速度！关于内部部署与云比较的更多详细信息<a class="ae ks" href="https://medium.com/towards-data-science/on-premise-diy-vs-cloud-gpu-d5280320d53d" rel="noopener">请点击此处</a></p></div></div>    
</body>
</html>