<html>
<head>
<title>Image Processing Class #3 — Point Operation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像处理等级#3 —点操作</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/image-processing-class-egbe443-3-point-operation-477ad38334f5?source=collection_archive---------14-----------------------#2018-12-04">https://towardsdatascience.com/image-processing-class-egbe443-3-point-operation-477ad38334f5?source=collection_archive---------14-----------------------#2018-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a87e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章是为了总结我在医学图像处理课上(EGBE443)学到的经验。</p><p id="aa08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这篇文章是关于基本的图像处理。如果你是这个领域的新手，你可以点击下面的链接阅读我的第一篇文章。:)</p><div class="km kn gp gr ko kp"><a rel="noopener follow" target="_blank" href="/image-processing-class-egbe443-0-1-image-aquisition-7e80cc89de84"><div class="kq ab fo"><div class="kr ab ks cl cj kt"><h2 class="bd ir gy z fp ku fr fs kv fu fw ip bi translated">图像处理类(EGBE443) #0.1 —图像采集</h2><div class="kw l"><h3 class="bd b gy z fp ku fr fs kv fu fw dk translated">大家好！我叫皮查亚·西普克汉姆。我是玛希隆生物医学工程系四年级学生…</h3></div><div class="kx l"><p class="bd b dl z fp ku fr fs kv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ky l"><div class="kz l la lb lc ky ld le kp"/></div></div></a></div></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><p id="361c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi lm translated">有时，相机拍出的照片质量可能很差。它们是当时可怕光线的结果。因此，图像处理中提高图像质量的一个基本方法就是点运算。</p><h2 id="c89b" class="lv lw iq bd lx ly lz dn ma mb mc dp md jy me mf mg kc mh mi mj kg mk ml mm mn bi translated">概述</h2><ul class=""><li id="a16c" class="mo mp iq jp b jq mq ju mr jy ms kc mt kg mu kk mv mw mx my bi translated">点运算</li><li id="6d84" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">自动对比度调整</li><li id="ea2e" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">改进的自动对比度</li><li id="bf64" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">直方图均衡</li><li id="8a8e" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated">直方图规定化</li></ul><h1 id="3cbd" class="ne lw iq bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated"><strong class="ak">什么是点操作？</strong></h1><p id="e253" class="pw-post-body-paragraph jn jo iq jp b jq mq js jt ju mr jw jx jy nv ka kb kc nw ke kf kg nx ki kj kk ij bi lm translated">点操作是在不改变图像的大小、几何形状和局部结构的情况下修改像素值。新的像素值仅取决于先前的值。它们由函数 f(a)映射</p><p id="a10c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果函数 f()不依赖于坐标，则称之为"<em class="kl">全局</em>或"<em class="kl">齐次</em>"运算。另一种叫做<em class="kl">非齐次</em>点运算，如果依赖于坐标的话。非均匀点操作用于补偿图像采集期间的不均匀光照。</p><p id="eba4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同质操作的常见示例包括:</p><ul class=""><li id="b2c9" class="mo mp iq jp b jq jr ju jv jy ny kc nz kg oa kk mv mw mx my bi translated"><strong class="jp ir">修改对比度和亮度</strong></li><li id="a9b3" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><strong class="jp ir">通过夹紧限制结果</strong></li><li id="59fc" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><strong class="jp ir">反转图像</strong></li><li id="9b4b" class="mo mp iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><strong class="jp ir">阈值操作</strong></li></ul></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><p id="5114" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">点操作的实现对直方图的影响。提高亮度会将直方图向右移动，提高图像的对比度会扩展直方图。这些点操作通过包含常数的映射函数来映射强度，该常数是图像内容，例如最高强度和最低强度。</p><h1 id="1523" class="ne lw iq bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated">自动对比度调整</h1><p id="911c" class="pw-post-body-paragraph jn jo iq jp b jq mq js jt ju mr jw jx jy nv ka kb kc nw ke kf kg nx ki kj kk ij bi translated">自动对比度调整是将图像中的最低强度和最高强度分别映射到全强度范围的最小和最大强度的方法(对于 8 位灰度图像，全范围为 0–255)。自动对比度调整的映射函数定义为</p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi ob"><img src="../Images/f681648b0e26696c54b8a6430a63c3ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nGV_CqLmfeVPTWNfi0BMA.png"/></div></div></figure><p id="3bac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从等式中，a 最小值、a 最大值、a 低值和 a 高值分别是范围内的最小值强度、最大值强度、最低强度和最高强度。在 8 位图像的情况下，最小值=0，最大值=255，因此映射函数定义为</p><figure class="oc od oe of gt og gh gi paragraph-image"><div class="gh gi om"><img src="../Images/6bcc8ceb2a305951896c03d90ed4d391.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*zp0IrgXF6ZyHW5h6VwqIaQ.png"/></div></figure><h1 id="c6b0" class="ne lw iq bd lx nf ng nh ma ni nj nk md nl nm nn mg no np nq mj nr ns nt mm nu bi translated">修改自动对比度</h1><p id="d9e4" class="pw-post-body-paragraph jn jo iq jp b jq mq js jt ju mr jw jx jy nv ka kb kc nw ke kf kg nx ki kj kk ij bi translated">最高强度和最低强度可能是图像的噪声，我们通过使用分位数使图像的强度饱和来排除这些噪声。它可以通过下面的等式计算出来。</p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi on"><img src="../Images/ce82b345fef73ad98687278725dd42a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kM9gMPGsGSkawxPXroMDCw.png"/></div></div></figure><p id="1417" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">映射方程定义为</p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi oo"><img src="../Images/3d2fec567f3286753c92bdf99a086a51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*owpTrP9c621BmpqDnWQuwg.png"/></div></div></figure></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="d3b7" class="ne lw iq bd lx nf op nh ma ni oq nk md nl or nn mg no os nq mj nr ot nt mm nu bi translated"><strong class="ak">直方图均衡化</strong></h1><p id="b995" class="pw-post-body-paragraph jn jo iq jp b jq mq js jt ju mr jw jx jy nv ka kb kc nw ke kf kg nx ki kj kk ij bi translated">执行此任务是为了使两幅图像之间的差异更易于比较并在印刷出版物中使用。其原理是将图像直方图映射成近似均匀分布。映射函数定义为:</p><figure class="oc od oe of gt og gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/7f476ae333853166ed54903a06a48b9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*jhqyJG1YoIx6gGQKLbfEXA.png"/></div></figure><p id="f629" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">其中 H(a)是像素值 a 的累积直方图，K 是最大强度值，MN 是最近的累积强度。</p><p id="4f83" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以使用 OpenCV 模块将其应用到您的 python 代码中</p><pre class="oc od oe of gt ov ow ox oy aw oz bi"><span id="eeb3" class="lv lw iq ow b gy pa pb l pc pd">equ = cv2.equalizeHist(img)</span></pre><p id="9d1b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是直方图均衡化的结果。</p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pe"><img src="../Images/6dfe684b5cc4636803f0e00033e579da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RBJH2dEl55k0GnlDr5Gl6w.png"/></div></div></figure></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><h1 id="d65e" class="ne lw iq bd lx nf op nh ma ni oq nk md nl or nn mg no os nq mj nr ot nt mm nu bi translated">直方图规定化</h1><p id="17db" class="pw-post-body-paragraph jn jo iq jp b jq mq js jt ju mr jw jx jy nv ka kb kc nw ke kf kg nx ki kj kk ij bi translated">该任务类似于直方图均衡化，但是该过程的目的是将直方图的分布函数映射到参考分布。为了独立于图像大小，图像强度需要归一化到范围 0-1。归一化直方图被解释为随机过程的概率密度函数。其中 p(i)是像素值 I 的概率，h(i)是所有强度值的总和。所以所有概率函数的和等于 1。</p><figure class="oc od oe of gt og gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/42d928ce4a69e15e7a474e6b39b50ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*6b2kwr-cJl9j2SmA1H3xAg.png"/></div></figure><p id="91a5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">H(i)定义为累积直方图，H(i)的统计对应部分是离散分布函数 P()。这也称为累积分布函数(cdf)。</p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pg"><img src="../Images/f4f2a68e0a21aa6d6649f8204acaf765.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NPj-4ET1gGiWY2l7ePfDrQ.png"/></div></div></figure><p id="8d0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">直方图规定化原理</strong></p><figure class="oc od oe of gt og gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi ph"><img src="../Images/11790567ce357f1bad92a7df36e92373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pf_d_uPGAjKMcLE9EllnWw.png"/></div></div></figure><p id="fbcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如图所示，我们需要将图像 A 的 pdf 映射到参考图像 r。我们获得新的像素值 A ’,如下所示</p><figure class="oc od oe of gt og gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/ad314b2ae0f37ab54e8ea4927ca216e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*v5w08mToduprMoB1sK1KVw.png"/></div></figure><p id="dd60" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，映射函数定义为</p><figure class="oc od oe of gt og gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/3d4bf775667a1af52fe0181ebe150b35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*JRPLLmPMkDAV5ps2ioDQMg.png"/></div></figure><p id="1fb9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">确保参考图像 R 的 pdf 是可逆的(具有 b =[0，1]的现有值)。</p></div><div class="ab cl lf lg hu lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ij ik il im in"><p id="62c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">然而，修改图像的方法不仅仅是点操作，还有另一种方法，叫做</em> <strong class="jp ir"> <em class="kl">【滤镜】</em> </strong> <em class="kl">。我将在下一章向你介绍更多的信息。回头见！</em></p><p id="2ebf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在，下一章出版了。你可以点击下面的链接阅读。:D</p><div class="km kn gp gr ko kp"><a href="https://medium.com/@ptchaya.p/image-processing-class-egbe443-4-filters-aa1037676130" rel="noopener follow" target="_blank"><div class="kq ab fo"><div class="kr ab ks cl cj kt"><h2 class="bd ir gy z fp ku fr fs kv fu fw ip bi translated">图像处理类(EGBE443) #4 —过滤器</h2><div class="kw l"><h3 class="bd b gy z fp ku fr fs kv fu fw dk translated">这篇文章是为了总结我在医学图像处理课上(EGBE443)学到的经验。</h3></div><div class="kx l"><p class="bd b dl z fp ku fr fs kv fu fw dk translated">medium.com</p></div></div><div class="ky l"><div class="pk l la lb lc ky ld le kp"/></div></div></a></div></div></div>    
</body>
</html>