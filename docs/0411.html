<html>
<head>
<title>NLP for the LGBTQIA+ community: A Primer on Natural Language Processing Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向LGBTQIA+社区的NLP:自然语言处理入门第1部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/nlp-for-the-lgbtqia-community-a-primer-on-natural-language-processing-part-1-7f0ffd1bb54d?source=collection_archive---------0-----------------------#2017-04-29">https://towardsdatascience.com/nlp-for-the-lgbtqia-community-a-primer-on-natural-language-processing-part-1-7f0ffd1bb54d?source=collection_archive---------0-----------------------#2017-04-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0a5c76b544f2f9e91f132f3e27347779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TgdywT3GOpw_zxTlK47VYw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">What do we want? Trans rights! When do we want them? NOW!</figcaption></figure><h1 id="5f2d" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">跨性别群体的担忧</h1><p id="8548" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我将坦率地直接切入正题:当涉及到每天在世界上导航时，跨性别群体面临着不可逾越的挑战。<strong class="lc ir">2016年有27名变性妇女<em class="ly"> </em> </strong>被谋杀，2017年<strong class="lc ir">有9名变性妇女</strong>被谋杀(这个数字大概会)。这些妇女大多是有色人种。</p><p id="c136" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">国家跨性别平等中心在最近的一份报告中显示了非常明显的统计数据。27%的变性人。<strong class="lc ir"> 27% </strong>的跨性别者报告生活贫困(年收入2万美元)。<strong class="lc ir"> 14% </strong>报告失业(是总人口的两倍)，绝大多数人报告存在某种职业歧视(无论是被拒绝升职还是因跨性别被解雇)。</p><p id="b4a5" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">在我们的刑事司法系统中，变性人面临着严重的歧视。<strong class="lc ir"> 22% </strong>曾报告被警察骚扰。<strong class="lc ir"> 16% </strong>曾被监禁的受访者报告过监狱看守的严重性骚扰。我们甚至没有多少变性人仅仅因为表达他们的身份而被监禁的数字。</p><p id="5312" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">跨性别群体在健康和获得健康方面存在巨大差异。<strong class="lc ir"> 41% </strong>的跨性别者报告曾试图自杀，<strong class="lc ir"> 19% </strong>报告曾被医务人员拒绝提供医疗帮助，<strong class="lc ir"> 28% </strong>报告因受到歧视威胁而推迟护理。</p><p id="dce1" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我为什么关心这些问题？<strong class="lc ir">我是一名变性女性</strong>，一直在思考我们当前社会对我生计的攻击。但此外，我很荣幸拥有高等学位和专业技能。我有责任将这些技能运用到工作中。</p><h1 id="075f" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">获取跨社区相关数据。</h1><p id="d7ca" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我在以前的一篇文章中提到过，很难找到与同性恋问题相关的数据，至少那些公开的数据是如此。这需要一些创新思维。Reddit实际上是一个数据宝库，尽管人们可能不会这么想。我们通常认为Reddit是猫图片和愚蠢迷因的来源。在我发现自己身份的旅程中，我在reddit上找到了我经常使用的支持论坛。这些论坛提供了一个独特的数据集，以更好地了解变性人的关注。</p><p id="0b49" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我一直在使用<strong class="lc ir">自然语言处理</strong>方法挖掘这些数据，并决定一石二鸟也是值得的:1)通过自然语言处理和机器学习提供对围绕跨性别群体的关注的见解，2)做一个关于自然语言处理基础的教程。</p><h1 id="80c8" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">什么是自然语言处理(NLP)？</h1><p id="a76c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">根据Algorithmia 的说法，NLP是“计算机以一种聪明而有用的方式来分析、理解人类语言并从中获取意义的一种方式。”我用一个很傻的句子，取自sub-Reddit<a class="ae me" href="http://www.reddit.com/r/startledcats" rel="noopener ugc nofollow" target="_blank">/r/startled cats</a>作为例子。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d9120bbc23f9a6bd5991ea33f88d4511.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*wDWHQ7GgelAgdFdsnJxwBg.jpeg"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">“Can I haz bag?” I needed to offset the gloomy trans stats with sillier cats.</figcaption></figure><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="bb12" class="mp kd iq ml b gy mq mr l ms mt">I do yoga with cats. Cats are magnetically drawn to a human engaged in awkward positions. The will place themselves where they can be most inconvenient.</span></pre><p id="117a" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我们如何用一种有意义的方式将这些词量化？我们甚至不要正确理解这句话的意思。首先，我们需要对文本进行标记。这意味着将文本拆分成如下内容:</p><p id="3d08" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated"><code class="fe mu mv mw ml b">['I', 'do', 'yoga', 'with', 'cats']</code></p><p id="e576" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">也许我们需要确定这个句子的语法。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="8dbb" class="mp kd iq ml b gy mq mr l ms mt">[(‘I’, ‘PRP’), (‘do’, ‘VBP’), (‘yoga’, ‘RB’), (‘with’, ‘IN’), (‘cats’, ‘NNS’)</span></pre><p id="9de6" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">其中PRP是人称代词，VBP是现在时动词，rb是副词，IN是介词，NNS是复数名词。当您读入更多的文本数据时，它会变得更加复杂。</p><p id="f1e2" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">假设您想用这些单词标记进行某种文本分类。如何把文字当做特征？<code class="fe mu mv mw ml b">with</code>和<code class="fe mu mv mw ml b">do</code>这两个词有关联吗？在我们的例子中，我们如何对待单词<code class="fe mu mv mw ml b">cat</code>和<code class="fe mu mv mw ml b">cats</code>？我们是把它们当成一个词，两个词，还是要看上下文？</p><p id="4f12" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">让我们思考一下单词的意思。计算机如何从下面的句子中提取意思:</p><p id="a397" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated"><code class="fe mu mv mw ml b">I went by the river bank yesterday.</code></p><p id="eb50" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated"><code class="fe mu mv mw ml b">I went and robbed a bank yesterday.</code></p><p id="dc42" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我们如何着手确定单词token <code class="fe mu mv mw ml b">bank</code>的含义？</p><p id="f69e" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我希望这能让你更好地理解我们在日常生活中经常看到的自然语言处理的应用。语言很复杂！我们甚至还没有触及亚马逊Alexa和谷歌Home等产品中的信号处理。</p><h1 id="f0f2" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">NLP管道，一目了然。</h1><p id="7515" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">我在<a class="ae me" href="http://www.insighthealthdata.com" rel="noopener ugc nofollow" target="_blank"> Insight </a>中学到了相当多的NLP，我只想说:与典型的数据挖掘相比，挖掘文本数据并不是一个真正透明的过程。典型的数据集，即使是杂乱的，也会通过SQL数据库来到你面前。csv文件，JSON格式的数据等。许多文本数据不支持。那么，我们如何对文本数据进行分析呢？(顺便说一下，我使用的当前数据集存储在SQLite数据库中)。</p><p id="eb8b" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">首先，您需要适当的库。我使用Python包<code class="fe mu mv mw ml b">nltk</code> ( <a class="ae me" href="http://www.nltk.org" rel="noopener ugc nofollow" target="_blank">自然语言工具包</a>)作为我的面包和黄油，但是像<code class="fe mu mv mw ml b">spaCy</code> (www.spacy.io)这样的新包可以做很多和<code class="fe mu mv mw ml b">nltk</code>一样的事情。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/af918a71405208692fc9430a1f92de63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NI5XCAMmEihX_TvZGDAPAQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">The most basic NLP pipeline.</figcaption></figure><p id="bc9e" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">管道通常遵循上述格式。首先从数据源读入数据。然后标记并删除停用词。标记化将句子<code class="fe mu mv mw ml b">'I do yoga with cats'</code>放入一个数组<code class="fe mu mv mw ml b">['I', 'do', 'yoga' ,'with', 'cats'].</code>中</p><p id="5728" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">“停用词”是低信息词，对你正在分析的文本没有什么帮助。<code class="fe mu mv mw ml b">nltk</code>有一个常用停用词库，但我通常也会定义自己的停用词集。删除停用词时，您的文本可能如下所示:`<code class="fe mu mv mw ml b">['I', 'yoga' ,'cats']</code>。删除停用词的方法没有对错之分，这取决于您正在处理的文本数据。</p><p id="1b9b" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">现在我们对文本进行“词干化”或“词汇化”。单词可以有许多屈折变化。我们举个例子<code class="fe mu mv mw ml b">startle</code>。可以有<code class="fe mu mv mw ml b">startled</code>或者<code class="fe mu mv mw ml b">startling</code>。为了便于分析，您可能只想将令牌简化为<code class="fe mu mv mw ml b">startl</code>。词条简化包括将一个单词简化成它的常见形式，即词条。例如，标记<code class="fe mu mv mw ml b">go</code>、<code class="fe mu mv mw ml b">going</code>、<code class="fe mu mv mw ml b">gone</code>和<code class="fe mu mv mw ml b">went</code>具有相同的基础形式<code class="fe mu mv mw ml b">go</code>。</p><p id="180d" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">从那里，我们以某种方式对文本进行矢量化(我将在接下来的另一篇博客文章中介绍)。这只是意味着每个令牌都以某种方式用数字表示。它们可以被表示为原始频率。存在更复杂的矢量化，可以表示与主题相关的单词或者它们如何与其他单词相关联(例如，潜在语义分析、Word2Vec单词嵌入模型)。</p><h1 id="49aa" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated"><strong class="ak">将这些方法应用于来自Reddit的转基因数据</strong></h1><p id="0e16" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">好了，现在是我想吃的肉。我将分享一些代码片段，但我的大部分代码你可以在相关的<a class="ae me" href="https://github.com/mjtat/Trans-NLP-Project" rel="noopener ugc nofollow" target="_blank"> github repo </a>中看到。</p><p id="ed96" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">为了这个分析，我从reddit /r/asktransgender子网站上收集了大约2万条评论。具体来说，我利用谷歌的云平台(<a class="ae me" href="https://www.google.com/aclk?sa=l&amp;ai=DChcSEwj2pN-cm8rTAhXRi7MKHSfsBAIYABAAGgJxbg&amp;sig=AOD64_1_YxiMtmHTWYC_jnVGCPJxfiHDXA&amp;q=&amp;ved=0ahUKEwjlpdicm8rTAhXCKCYKHTiFDRsQ0QwIJw&amp;adurl=" rel="noopener ugc nofollow" target="_blank">谷歌大查询</a>)来检索评论。谷歌有大量的当前和以前年份的reddit评论语料库(文本数据集合)，这是一个不太难获取reddit数据的来源。</p><p id="0fed" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我所有的Reddit数据都存储在SQLite数据库中(顺便说一句，这个数据库比我以前的Postgres数据库更容易建立。下次再发)。最初，我查询了数据，并将其读入熊猫数据框。文本数据可能不可靠，你将不得不不断地从<a class="ae me" href="https://en.wikipedia.org/wiki/UTF-8" rel="noopener ugc nofollow" target="_blank"> UTF-8 </a>文本格式中解码和重新编码它们。</p><p id="ed33" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">以下代码采用一个数据帧。在您指定的列标题中，它会将文本转换为字符串格式，将所有文本设置为小写，并最终解码文本。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="168e" class="mp kd iq ml b gy mq mr l ms mt">def decode(column_title):<br/>    dataframe = self.dataframe<br/>    dataframe[column_title] = dataframe[column_title].astype(str)<br/>    dataframe[column_title] = dataframe[column_title].str.lower()<br/>    dataframe[column_title] =   dataframe[column_title].str.decode('UTF-8', errors='strict')<br/>    return dataframe</span></pre><p id="be8d" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">在接下来的代码片段中，我定义了要删除的停用词。有一个预建的字典，但是我也添加了一些随机的ASCII字符来删除。您也可以使用正则表达式来删除这些符号。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="79fc" class="mp kd iq ml b gy mq mr l ms mt">def defineStopwords(words = None):<br/>    stop_words = stopwords.words('english')<br/>    etc_stop = ['.', ',', '?', '!', '\'',  ':', '\"', '{', '}', ';', '%', '[',  ']', '(', ')', '-', '\'s', '\'ve', '...', '\'ll', '`', '``', '"n\'t"', '"\'m"', "''", '--', '&amp;']<br/>   if words is not None: <br/>       stop_words = stop_words + etc_stop + words<br/>        <br/>       else:<br/>           stop_words = stop_words + etc_stop<br/>            <br/>   return stop_words</span></pre><p id="7e66" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">这个片段中有很多内容，但它本质上实现了我的NLP管道。我做一些重新编码和解码，标记我的语料库中的每个文档(在<code class="fe mu mv mw ml b">nltk</code>中使用<code class="fe mu mv mw ml b">RegexTokenizer</code>，并使用列表理解<code class="fe mu mv mw ml b">i for i in temp if i not in stopwords</code>删除停用词。然后我让记号符号化。该函数返回单个标记以及二元模型的大列表。</p><p id="9dc0" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">二元模型是词对而不是单个记号。有时我们对二元模型感兴趣，因为它们添加了更多关于常见共现词的信息(例如，<code class="fe mu mv mw ml b">panic attack</code>)。</p><p id="b25d" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我们将这些记号和二元模型添加到空列表中。现在我们准备做一些基本的可视化！</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="be2d" class="mp kd iq ml b gy mq mr l ms mt">def wordTokens(df_column, words = None, encode = True):<br/>        <br/>    df = self.dataframe<br/>    df = self.decode(df_column)<br/>    corpus = df[df_column].tolist()</span><span id="2139" class="mp kd iq ml b gy my mr l ms mt">    singletons = []<br/>    bigrams = []<br/>               <br/>    stopwords = self.defineStopwords()<br/>        <br/>    for post in corpus:<br/>       temp = post.lower()<br/>       if encode == True:<br/>           temp = post.encode('ascii', 'ignore').decode('ascii')<br/>       else:<br/>           continue<br/>            <br/>       print temp<br/>       temp = temp.encode('utf-8').translate(None, string.punctuation)<br/>       tokenizer = RegexpTokenizer(r'\w+')<br/>       temp = tokenizer.tokenize(temp)<br/>       stopped_tokens = [i for i in temp if not i in stopwords]<br/>       lemmatized_tokens = [nltk.WordNetLemmatizer().lemmatize(i) for i in stopped_tokens]<br/>       bigram = nltk.bigrams(lemmatized_tokens)<br/>       bigram = list(bigram)<br/>       singletons.append(lemmatized_tokens)<br/>       bigrams.append(bigram)<br/>            <br/>       print '\n Successfully cleaned and tokenized abstracts.'<br/>            <br/>    return singletons, bigrams</span></pre><h1 id="3b63" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">我的/r/ask跨性别语料库的频率计数</h1><p id="af2a" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">作为一名数据科学家，您应该做的第一件事是进行一些探索性分析。在自然语言处理中，你可以先看一下词频，以便更好地了解你正在看的东西。这就是我对单个单词和二元模型所做的。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="4979" class="mp kd iq ml b gy mq mr l ms mt">token_corpus = []<br/>for doc in tokens:<br/>    for token in doc:<br/>        token_corpus.append(token)</span></pre><p id="aa6d" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">单个令牌和二元模型被组织成嵌入到一个更大列表中的列表。我想得到一个<strong class="lc ir">单个</strong>记号列表，所以我简单地遍历我的原始语料库并创建一个新的。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="1780" class="mp kd iq ml b gy mq mr l ms mt">fdist = nltk.FreqDist(token_corpus)<br/>words = []<br/>freq = []<br/>for word, frequency in fdist.most_common(100):<br/>    words.append(word)<br/>    freq.append(frequency)</span></pre><p id="b8b2" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我调用<code class="fe mu mv mw ml b">nltk.FreqDist</code>来生成我的频率分布。从那里，我使用我的<code class="fe mu mv mw ml b">fdist</code>对象(这是一个字典)，并创建两个单词和频率列表。最后，我使用这些列表来可视化我在<code class="fe mu mv mw ml b">seaborn</code>的频率分布。</p><p id="a510" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">下图显示了前75个单个令牌和二元模型。</p><p id="b62f" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated"><strong class="lc ir">个人代币</strong></p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/ab731dd0a1e6e4888e3fa2bc8d1aa9d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ukPUB1Gwmzg6pLNy1P46Q.png"/></div></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="c432" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated"><strong class="lc ir">二元模型</strong></p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/a2715761360d6aa0dc6658a6fcbc1889.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NQS-B3SbaYzRwFFZrZ5COA.png"/></div></div></figure></div><div class="ab cl na nb hu nc" role="separator"><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf ng"/><span class="nd bw bk ne nf"/></div><div class="ij ik il im in"><p id="b0a1" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我想指出，二元模型的频率产生了一些有趣的见解。在我们的文本中，我们看到了一些性别身份的不确定性，这并不奇怪(至少对我来说，作为一个跨性别的同性恋者),因为/r/asktransgender是一个支持社区。人们经常提到“性别认同”和“性别焦虑”。我们还观察到诸如“开始hrt”的标记。HRT代表“激素替代疗法”。在我们的社区，获取荷尔蒙是一件大事，有很多人问这个问题也不足为奇(至少对我来说)。我们也看到像“我很担心”这样的标记，这可能表明个人对过渡有某种焦虑。</p><h1 id="52a0" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">词对搭配</h1><p id="559c" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated"><a class="ae me" href="http://www.nltk.org/howto/collocations.html" rel="noopener ugc nofollow" target="_blank">搭配</a>是相互之间有很强关联的词对，我们可以用统计学来确定某个词对是否有超出随机几率的显著的相互关联。例如，在我们的语料库中<code class="fe mu mv mw ml b">gender identity</code>和<code class="fe mu mv mw ml b">gender dysphoria</code>是可以相互关联的。</p><p id="3950" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">简而言之，我们可以使用<a class="ae me" href="https://en.wikipedia.org/wiki/Pointwise_mutual_information" rel="noopener ugc nofollow" target="_blank">逐点互信息统计</a>来计算重要的搭配。这方面的方程式如下:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/caa0ec17a30f50b036995dc02ae16f06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*inFjccsOYVl3zjgaXdoLhw.png"/></div></div></figure><p id="0451" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">其中PMI等于给定word-x的word-y的概率的对数除以word-y的概率，<code class="fe mu mv mw ml b">nltk</code>具有搭配功能，从我们的语料库中导出PMI得分。也有其他方法可以实现这一点(例如，卡方检验、学生t检验和对数似然比检验)。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="45dd" class="mp kd iq ml b gy mq mr l ms mt">bigram_measures = BigramAssocMeasures()<br/>finder = BigramCollocationFinder.from_words(token_corpus)<br/>finder.apply_freq_filter(20)<br/>finder.nbest(bigram_measures.pmi, 15)</span></pre><p id="71d2" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">上面的代码获取一个语料库，应用一个频率过滤器(只查找出现20次以上的搭配)，并找到15个最佳搭配。这些搭配列举如下:</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="a2b7" class="mp kd iq ml b gy mq mr l ms mt">('roller', 'coaster'),<br/> ('vice', 'versa'),<br/> ('san', 'francisco'),<br/> ('bart', 'van'),<br/> ('howard', 'brown'),<br/> ('penile', 'inversion'),<br/> ('caitlyn', 'jenner'),<br/> ('rib', 'cage'),<br/> ('north', 'carolina'),<br/> ('cyproterone', 'acetate'),<br/> ('adam', 'apple'),<br/> ('van', 'de'),<br/> ('brow', 'ridge'),<br/> ('coping', u'mechanism'),<br/> ('planned', 'parenthood')</span></pre><p id="2c4e" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">所以我们看到一些有趣的事情。还是那句话，很多医学上的东西。阴茎倒置是性别确认手术中使用的一种技术。霍华德·布朗是芝加哥的一家LGBTQ诊所。醋酸环丙孕酮是一种用于阻断睾酮的药物。我们也看到渗透社会意识的事情，比如凯特琳·詹娜和北卡罗来纳(<a class="ae me" href="https://en.wikipedia.org/wiki/Public_Facilities_Privacy_%26_Security_Act" rel="noopener ugc nofollow" target="_blank">由于歧视性的HB2法案</a>)。还列出了人们可能希望生活的地方(旧金山)，以及其他可以获得激素替代疗法的地方(计划生育)。</p><p id="a9a2" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我还使用对数似然比测试探索了搭配。简而言之，<a class="ae me" href="https://en.wikipedia.org/wiki/Likelihood-ratio_test" rel="noopener ugc nofollow" target="_blank">对数似然比检验</a>是:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/950a80caf323c115f3fe2e6c8cc0a3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:718/format:webp/1*PbpcyAtbj2s0hsuM5Rca4w.png"/></div></figure><p id="cdf7" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">对数似然比测试以下内容。假设1 (H1):单词1的出现独立于单词2的先前出现。假设命题2 (H2):单词2的出现依赖于单词1之前的出现。因此，对数等于H1和H2的可能性。对数似然检验给了我们一些更合理的搭配。</p><pre class="mg mh mi mj gt mk ml mm mn aw mo bi"><span id="0cd5" class="mp kd iq ml b gy mq mr l ms mt"> ('feel', 'like'),<br/> ('dont', 'know'),<br/> ('dont', 'want'),<br/> ('anyone', 'else'),<br/> ('year', 'old'),<br/> ('im', 'sure'),<br/> ('even', 'though'),<br/> ('month', 'ago'),<br/> ('gender', 'identity'),<br/> ('year', 'ago'),<br/> ('trans', 'woman'),<br/> ('high', 'school'),<br/> ('facial', 'hair'),<br/> ('trans', 'people'),<br/> ('informed', 'consent')</span></pre><p id="d1e9" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">我们看到有一些非常常见的搭配(例如，“感觉像”、“不知道”)。有些搭配为质疑性别认同的个人提供了一个共同关注的视角。像“其他任何人”这样的搭配表示一种陈述，如“其他任何人<em class="ly">和</em>经历过……”，或者“知情同意”表示一个问题，如“其他任何人<em class="ly">和</em>知道x区有一家<em class="ly">知情同意</em>诊所可以获取激素吗？”</p><p id="d0c5" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">简单的文本语料库分析产生的线索可以帮助我们理解跨性别群体的密切关注。</p><h1 id="373b" class="kc kd iq bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz bi translated">结论和后续步骤</h1><p id="23ad" class="pw-post-body-paragraph la lb iq lc b ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ij bi translated">这些仅仅是分析这个数据集的初步步骤，但是到目前为止我们看到了一些有趣的数据模式。当挖掘这个数据集时，我一直在问自己的问题围绕着最常见的话题是什么，以及我们如何从关联的单词中推导出单词的含义，以深入数据？我们能否在文档分类框架中使用这些文本数据来预测精神痛苦或医疗需求？第2部分将涵盖其中的一些主题，敬请关注！</p><p id="85f0" class="pw-post-body-paragraph la lb iq lc b ld lz lf lg lh ma lj lk ll mb ln lo lp mc lr ls lt md lv lw lx ij bi translated">米歇尔是波士顿的LGBTQ活动家和数据科学家。你可以在 <a class="ae me" href="https://www.linkedin.com/in/michelle-tat/" rel="noopener ugc nofollow" target="_blank"> <em class="ly"> LinkedIn </em> </a> <em class="ly">或者她的</em> <a class="ae me" href="http://mjtat.github.io" rel="noopener ugc nofollow" target="_blank"> <em class="ly">个人网站</em> </a> <em class="ly">上找到更多关于她的信息。</em></p></div></div>    
</body>
</html>