<html>
<head>
<title>Causal inference 101: difference-in-differences</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">因果推理101:差异中的差异</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/causal-inference-101-difference-in-differences-1fbbb0f55e85?source=collection_archive---------3-----------------------#2018-04-24">https://towardsdatascience.com/causal-inference-101-difference-in-differences-1fbbb0f55e85?source=collection_archive---------3-----------------------#2018-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="03c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">案例研究:谁为强制分娩保险买单？</p><p id="f0a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在今天的公共财政III讲座@斯坦福上，Petra教授介绍了一种最广泛使用的因果推理技术:差异中的差异(diff-in-diff)。为了让我们的讨论不那么枯燥，她在强制福利的背景下激发了对这种酷技术的需求。</p><h1 id="67d5" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak">问题</strong></h1><p id="45e6" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">当政府强制雇主提供福利时，谁真正买单？是雇主吗？还是员工以降薪的形式间接买单？</p><p id="c552" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这次演讲中，佩尔松教授定量地回答了这个问题，使用了一种叫做“T2”的酷技术。</p><p id="f28e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了使我们的讨论更容易理解，我们把重点放在一个案例研究上:分娩的强制医疗保险。这项分析是由T4的乔纳森·格鲁伯于1994年首次进行的，他是麻省理工学院的教授，同时也是NBER国家经济研究局医疗保健项目的负责人。迄今为止，<a class="ae lo" href="https://economics.mit.edu/files/6484" rel="noopener ugc nofollow" target="_blank"> <em class="lp">强制性福利的发生率</em> </a> <em class="lp"> </em>仍然是医疗保健经济学中最有影响力的论文之一。截至2018年4月24日，被其他1148篇学术论文引用。</p></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="0a8d" class="kl km iq bd kn ko lx kq kr ks ly ku kv kw lz ky kz la ma lc ld le mb lg lh li bi translated">时间表:强制性分娩保健覆盖面</h1><p id="76f0" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">理解时间线对于确定因果关系非常重要:</p><ul class=""><li id="1147" class="mc md iq jp b jq jr ju jv jy me kc mf kg mg kk mh mi mj mk bi translated">1978年以前:分娩的医疗保险有限。</li><li id="242a" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><strong class="jp ir">1975–1979:</strong>一些州通过了法律，强制规定分娩的医疗保险。</li><li id="d21b" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><strong class="jp ir">从1978年开始:</strong>联邦立法要求所有州的分娩医疗保险覆盖范围。</li></ul></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="bf88" class="kl km iq bd kn ko lx kq kr ks ly ku kv kw lz ky kz la ma lc ld le mb lg lh li bi translated">询问数据:女性是否通过减薪间接为福利买单？</h1><h1 id="8088" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第一次尝试</h1><p id="d7a7" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated"><strong class="jp ir">第一步是比较年轻已婚女性的工资，任务前后:</strong></p><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/fc56e5a02a978135a68d66ad64516111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*I4lNrIDTD14KbAYB8t0I5g.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Numbers in cells: log hourly wages. Numbers in parenthesis: standard deviation</figcaption></figure><p id="f2bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们看到，强制令颁布后，女性的实际工资下降了3.4%。这种影响在统计学上是显著的。</p><p id="d3ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们能否得出结论，女性通过减薪3.4%间接支付了薪酬？</p><p id="7bc7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还没有！为了让3.4%成为真实的影响，我们需要假设，在此期间，强制令是唯一可能影响工资的因素。但事实可能并非如此。</p><h1 id="96bc" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第二次尝试</h1><p id="23db" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">如果在这一转变过程中，整个国家陷入衰退，那该怎么办？那么无论如何，所有年轻已婚女性的实际工资都会被削减。</p><p id="85bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了解决这个问题，我们来看看居住在尚未通过该法案的州的年轻已婚女性的变化。关键假设是:尚未通过授权的州提供了一个很好的反事实。这有助于我们理解，如果他们的州没有通过这项法令，年轻已婚女性的工资会发生什么。在学术术语中，这被称为“<strong class="jp ir">平行趋势假设</strong>”。你无法测试这一假设，但你可以通过绘制预趋势图来看看它有多大可能成立——年轻已婚女性的实际工资在有和没有强制规定的州是否平行变化。</p><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/ffbcdce76d689c0c3897fbfed140c7e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*TbWndVBexZLteHCZCNTxfw.png"/></div></figure><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/9d4e978836371bc3a0c391448f7983a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*vyFinyAi2PgxXBru3zn_1g.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Source: Columbia University Population Health Methods, and Gruber (1994)</figcaption></figure><p id="4250" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在还没有通过这项法令的州，年轻已婚女性的实际工资实际上增长了2.8%！所以在那些通过了强制令的州，年轻、已婚女性的实际工资变化是-3.4% -2.8% = -6.2%。<strong class="jp ir">这个-6.2%的估计是“不同中的不同”估计。</strong></p><p id="4c6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但是我们还没有结束。</p><h1 id="734c" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated">第三次是一种魅力</h1><p id="6a5c" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">但是如果平行趋势假设不成立呢？例如，可以想象，有一些X因素与分娩保险的强制规定在同一时期生效。那么实际工资的6.2%的变化可能归因于这个X因素，而不是分娩保险的强制规定！</p><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/566344a61c80b82252f86afd31211b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*RcgnCGjKJ5P42_Ou-gTu8g.png"/></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Source: Quick Meme</figcaption></figure><p id="bee7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这似乎是一个不可能解决的批评。但我们并没有完蛋。</p><h1 id="9825" class="kl km iq bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li bi translated"><strong class="ak"> Triple-diff来救援！</strong></h1><p id="2e8c" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">为了检验这种可能性，让我们对未受分娩保险影响的人群——男性——重复差异中的差异分析。</p><p id="7a8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个想法是说，在这段时间里，上述X因素会影响到每个人；但是分娩保险的要求只会影响年轻的已婚妇女。如果男性的diff-in-diff估计值为-6.2%，那么我们应该把实际工资的所有变化都归因于这些X因素，而不是生育指令。</p><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/3bd4a100bb12f0bbb91a97042a6dcbc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*rG7P2M-QFqSYiQu_4aOWAg.png"/></div></figure><p id="d80a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">幸运的是，男性的差异-差异估计值为-0.8%，在统计上微不足道。但是为了完整起见，我们仍然会计算三重差异估计值= (-6.2%) - (-0.8%) =-5.4%！</p></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="6ab3" class="kl km iq bd kn ko lx kq kr ks ly ku kv kw lz ky kz la ma lc ld le mb lg lh li bi translated">总结和总结课</h1><ul class=""><li id="bdce" class="mc md iq jp b jq lj ju lk jy ng kc nh kg ni kk mh mi mj mk bi translated">平均而言，年轻已婚妇女的实际工资下降了5.4%，以应对分娩保险的要求。</li><li id="9b5c" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">这到底是不是一个有益的改变？只有个人能对此负责。对一些人来说，这可能不是一个大的下降。但是如果你是一个不打算要很多孩子的年轻女性，你可能不会那么高兴。</li><li id="27bb" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated">这个结果防弹吗？当然不是。但是任何替代解释的门槛现在都非常高。任何其他解释都需要找出一个X因素，这个因素使得年轻已婚女性的工资在一个州的分娩令通过后立即下降5.4%，但在任何其他时间段或任何其他人群中都没有。</li><li id="38f9" class="mc md iq jp b jq ml ju mm jy mn kc mo kg mp kk mh mi mj mk bi translated"><strong class="jp ir">外卖教训:</strong>当试图确定一个事件的因果关系时，仅仅比较前后是不够的。通过巧妙的去意。你可以保护自己不被低估或高估因果关系。记住，关联！=因果关系！</li></ul></div><div class="ab cl lq lr hu ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="ij ik il im in"><h1 id="9fb4" class="kl km iq bd kn ko lx kq kr ks ly ku kv kw lz ky kz la ma lc ld le mb lg lh li bi translated"><strong class="ak">附录:回归规范</strong></h1><p id="8ec3" class="pw-post-body-paragraph jn jo iq jp b jq lj js jt ju lk jw jx jy ll ka kb kc lm ke kf kg ln ki kj kk ij bi translated">如果您想自己实现这种回归，下面是回归规范。如果你发现我的推理有任何错误，请不要犹豫给我留言！</p><figure class="mr ms mt mu gt mv gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/884818c1434d772bb4917b227fa8007c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*PDJkSF_u0Sw5YBTMa0rZ_g.png"/></div></figure><p id="0f55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">直到下次:)</p></div></div>    
</body>
</html>