<html>
<head>
<title>Build your own self driving (toy) car</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">打造你自己的自动驾驶(玩具)汽车</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-your-own-self-driving-toy-car-ad00a6804b53?source=collection_archive---------4-----------------------#2017-07-17">https://towardsdatascience.com/build-your-own-self-driving-toy-car-ad00a6804b53?source=collection_archive---------4-----------------------#2017-07-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="0656" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有兴趣建造自己的自动驾驶(玩具)汽车，并在此过程中学习一些人工智能概念，你应该留下来通读。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/126818670cafbdfa342b1e98b2a68d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fjtxEbMSJSxru9JMYYAiDQ.jpeg"/></div></div></figure><h1 id="444b" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">简短介绍</h1><p id="d9fd" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">随着数据和计算能力的不断增加，深度学习的应用正在扰乱当今的许多行业。它的新战场之一是机器人技术。深度学习正在改变机器人在<a class="ae ma" href="https://arxiv.org/pdf/1612.07139.pdf" rel="noopener ugc nofollow" target="_blank">感知和控制</a>领域的格局，这是自动驾驶汽车及其更广泛部署取得成功的关键。</p><p id="2568" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">深度学习工具的最新进展(<a class="ae ma" href="https://www.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> TensorFlow </a>、<a class="ae ma" href="https://keras.io/" rel="noopener ugc nofollow" target="_blank"> Keras </a>等)。)和廉价计算平台的可访问性(<a class="ae ma" href="https://www.raspberrypi.org/" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi </a>)使得机器人和人工智能的实验变得更加容易(而且有趣！)对于学术界和大型科技公司以外的人来说。</p><h1 id="b1c7" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">目标</h1><p id="97af" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">我们将从<a class="ae ma" href="https://www.udacity.com/drive" rel="noopener ugc nofollow" target="_blank"> Udacity 自动驾驶汽车纳米度</a>课程中获取我的<a class="ae ma" href="https://medium.com/towards-data-science/using-deep-learning-to-clone-driving-behavior-51f4c9593a57" rel="noopener">行为克隆</a>项目中描述的深度神经网络，并使用机器人操作系统(<a class="ae ma" href="http://www.ros.org/" rel="noopener ugc nofollow" target="_blank"> ROS </a>)作为中间件在远程控制(RC)赛车上运行它。最终目标是让机器人能够自主完成赛道:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="mb mc l"/></div></figure><p id="712c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这只是这一领域许多近期项目中的一个，如果你在网上搜索的话，还有很多这样的项目。甚至还有比赛(最著名的一次在美国奥克兰举行)，人们和这些机器人赛跑，试图打破人类最好的时间。</p><p id="59ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的项目可能与其他项目不同的是，它使用 ROS 作为软件栈和金属之间的连接层。</p><p id="9d3c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个项目是一个很好的例子，展示了深度学习如何用于端到端地训练汽车自动驾驶，并使用人工智能解决机器人的感知和控制挑战。</p><h1 id="6568" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">我如何建立一个？</h1><p id="384c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">让我们首先来看一下硬件，以便让您入门:</p><ol class=""><li id="2041" class="md me iq jp b jq jr ju jv jy mf kc mg kg mh kk mi mj mk ml bi translated"><a class="ae ma" href="https://www.amazon.com/2-4Ghz-Exceed-RC-Magnet-Electric/dp/9269803775/ref=wl_mb_wl_huc_mrai_2_dp" rel="noopener ugc nofollow" target="_blank">遥控车</a></li><li id="fb21" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae ma" href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b/" rel="noopener ugc nofollow" target="_blank">树莓派 3 </a></li><li id="7d70" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae ma" href="https://www.raspberrypi.org/products/camera-module-v2/" rel="noopener ugc nofollow" target="_blank">树莓派相机</a></li><li id="86dd" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae ma" href="https://www.kiwi-electronics.nl/magnetische-lens-voor-raspberry-pi-groothoek?lang=en" rel="noopener ugc nofollow" target="_blank">广角镜头</a></li><li id="ac56" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae ma" href="https://www.amazon.com/SunFounder-PCA9685-Channel-Arduino-Raspberry/dp/B014KTSMLA/ref=sr_1_1?s=electronics&amp;ie=UTF8&amp;qid=1492275083&amp;sr=1-1&amp;keywords=servo+driver" rel="noopener ugc nofollow" target="_blank">伺服驱动器</a></li><li id="9ca7" class="md me iq jp b jq mm ju mn jy mo kc mp kg mq kk mi mj mk ml bi translated"><a class="ae ma" href="https://github.com/bdjukic/selfdriving-robot-car/tree/master/3d_print_model" rel="noopener ugc nofollow" target="_blank"> 3D 打印支架</a></li></ol><p id="982a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于我的硬件构建是基于<a class="ae ma" href="http://www.donkeycar.com/" rel="noopener ugc nofollow" target="_blank">驴车</a>，你可以在这里获得关于硬件组装<a class="ae ma" href="https://docs.google.com/document/d/11IPqZcDcLTd2mtYaR5ONpDxFgL9Y1nMNTDvEarST8Wk/edit" rel="noopener ugc nofollow" target="_blank">的更详细说明。你会注意到，当谈到选择你的遥控车有很多选择。在这个项目的第一次迭代中，我选择了</a><a class="ae ma" href="https://www.amazon.com/Elegoo-Four-wheel-Ultrasonic-Intelligent-Educational/dp/B01DPH0SWY" rel="noopener ugc nofollow" target="_blank"> Elegoo 机器人汽车套件</a>，结果证明这不是一个好主意，因为该套件没有用于控制转向角度的专用伺服系统。这使得对你的神经网络建模以及之后与自动驾驶仪的集成变得更加困难。有了<a class="ae ma" href="https://www.amazon.com/2-4Ghz-Exceed-RC-Magnet-Electric/dp/9269803775/ref=wl_mb_wl_huc_mrai_2_dp" rel="noopener ugc nofollow" target="_blank">磁铁</a>，你可以更好的控制遥控车。</p><h1 id="6db4" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">软件呢？</h1><p id="8aa0" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">如果你很急，你也可以从<a class="ae ma" href="https://github.com/wroscoe/donkey" rel="noopener ugc nofollow" target="_blank">驴车</a>拿软件栈。我走了另一条路，试图通过观察驴车项目并从我以前的 Udacity 项目中吸取经验来自己构建大脑。我喜欢理查德·费曼在这个话题上的一句名言:</p><blockquote class="mr"><p id="f65f" class="ms mt iq bd mu mv mw mx my mz na kk dk translated">我无法创造的东西，我不明白。知道如何解决每一个已经解决的问题。</p></blockquote><p id="2616" class="pw-post-body-paragraph jn jo iq jp b jq nb js jt ju nc jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">正如我已经提到的，我决定选择机器人操作系统(ROS)作为基于深度学习的自动驾驶仪和硬件之间的中间件。这是一个陡峭的学习曲线，但就该项目的完整代码库的大小而言，它最终完全得到了回报。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/9409656985bcf145b6dd1137b9dfa769.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*sweeRl-Kfdnswkjwex2i6w.png"/></div></figure><p id="9a9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ROS 提供了强大的发布者/订阅者模型，对每个组件(摄像机、转向和油门控制、操纵杆等)的分布式节点支持。).它还具有强大的调试和日志记录功能。如果你是 ROS 新手，我强烈推荐<a class="ae ma" href="https://www.amazon.com/ROS-Robotic-Projects-Lentin-Joseph/dp/1783554711" rel="noopener ugc nofollow" target="_blank">这本书</a>，它通过有趣的项目教你基础知识。</p><p id="297e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的例子中，我在车上运行了摄像机和执行器(转向和油门)节点。操纵杆、自动驾驶和训练节点正在我的台式机上运行。推理(神经网络预测)是计算密集型，所以必须将它从 Raspberry Pi 转移到更强大的机器上。</p><p id="57f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">记住，你需要<a class="ae ma" href="https://ubuntu-mate.org/raspberry-pi/" rel="noopener ugc nofollow" target="_blank"> Ubuntu Mate </a>发行版才能在你的 Raspberry Pi 上运行 ROS。这里还有一个<a class="ae ma" href="http://ubiquityrobotics.com/blog/2016/01/24/Raspberry-Pi-Cam.html" rel="noopener ugc nofollow" target="_blank">链接</a>用于 ROS 节点摄像头支持。</p><h1 id="a0a7" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated"><strong class="ak">AI 呢？</strong></h1><p id="1b1c" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">汽车的自动驾驶基于现在著名的 NVIDIA 的<a class="ae ma" href="https://arxiv.org/pdf/1604.07316.pdf" rel="noopener ugc nofollow" target="_blank">论文</a>，该论文使用<a class="ae ma" href="https://en.wikipedia.org/wiki/Convolutional_neural_network" rel="noopener ugc nofollow" target="_blank">卷积神经网络</a> (CNN)来预测汽车的转向角度，仅基于安装在汽车前面的摄像头的图像输入。你可以在我之前的<a class="ae ma" href="https://medium.com/towards-data-science/using-deep-learning-to-clone-driving-behavior-51f4c9593a57" rel="noopener">文章</a>中读到更多关于这个话题的内容。我最近偶然发现了这篇<a class="ae ma" href="http://cs231n.stanford.edu/reports/2017/pdfs/626.pdf" rel="noopener ugc nofollow" target="_blank">论文</a>，这篇论文探索了针对同一问题的一些其他深度神经网络架构。你应该去看看！</p><p id="c332" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">与我之前的 Udacity 项目相比，我必须为 CNN 做的一项调整是引入宁滨数据。在以下情况下，您应该考虑使用它:</p><blockquote class="mr"><p id="76af" class="ms mt iq bd mu mv mw mx my mz na kk dk translated">一列连续数字有太多的唯一值，无法有效地建模，因此您可以自动或手动将这些值分配给组，以创建一组较小的离散范围。</p></blockquote><p id="266c" class="pw-post-body-paragraph jn jo iq jp b jq nb js jt ju nc jw jx jy nd ka kb kc ne ke kf kg nf ki kj kk ij bi translated">在这种情况下，连续数字列是来自操纵杆的汽车转向角度。我发现这个修改改进了我的模型预测。另一方面，油门目前是固定的，这也是我想使用预测方法的事情。</p><h1 id="7147" class="kx ky iq bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">结论</h1><p id="7daa" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">参与这个项目是了解 ROS 的一个很好的方式(好处和挑战)。事实证明，ROS 被几家自主汽车/小型巴士公司用作原型平台和/或投入生产。</p><p id="6c08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，当你把你的神经网络从模拟器中拿出来放在一辆“真正的”汽车上时，在硬件上工作可以揭示一些问题。</p><p id="b69d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您在自己的机器人车上运行 ROS 节点所需的所有代码都可以在我的项目报告中找到，同时还有助手脚本:</p><div class="nh ni gp gr nj nk"><a href="https://github.com/bdjukic/selfdriving-robot-car" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">自动驾驶机器人汽车</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">自动驾驶机器人汽车基于 Raspberry Pi 和 Arduino 的机器人汽车，能够基于深度…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">github.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kv nk"/></div></div></a></div><p id="a606" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你住在柏林，请务必参加即将于 7 月 29 日举行的机器人比赛:</p><div class="nh ni gp gr nj nk"><a href="https://www.meetup.com/Berlin-Self-Driving-Cars-Autonomous-Mobility/events/238595677/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">柏林比赛日-黑客/比赛机器人</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">加入我们在海拉风险投资公司举办的柏林自动驾驶汽车和自动驾驶活动的黑客/比赛日。种族…</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">www.meetup.com</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kv nk"/></div></div></a></div></div></div>    
</body>
</html>