<html>
<head>
<title>Datmo: the Open Source tool for tracking and reproducible Machine Learning experiments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Datmo:用于跟踪和可重复机器学习实验的开源工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/datmo-the-open-source-tool-for-tracking-and-reproducible-machine-learning-experiments-ce1936188e0c?source=collection_archive---------9-----------------------#2018-09-06">https://towardsdatascience.com/datmo-the-open-source-tool-for-tracking-and-reproducible-machine-learning-experiments-ce1936188e0c?source=collection_archive---------9-----------------------#2018-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/72f92e1693a3bd67dbe7b0554fef1017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*3bKFg-zZo0djrZLIsWfxqA.jpeg"/></div></figure><p id="b235" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">由于数据科学家在研究生院和工作中经常训练模型，我们在模型构建过程中面临许多挑战。特别是，这些是我们认为最大的问题:</p><ol class=""><li id="b948" class="ks kt iq jw b jx jy kb kc kf ku kj kv kn kw kr kx ky kz la bi translated">管理库:我们大多数人都面临着安装运行代码所需的神奇的软件包排列的问题。有时候把 CUDA 升级到 9.2 就是 TensorFlow 1.9 破了。对于其他人来说，这是解决 PyTorch，CuDNN 和 GPU 驱动程序的魔方。用于构建机器学习模型的不断发展的框架和工具越来越多，它们都是独立开发的——简而言之，管理它们的交互是一个巨大的痛苦。</li><li id="b012" class="ks kt iq jw b jx lb kb lc kf ld kj le kn lf kr kx ky kz la bi translated"><strong class="jw ir">管理实验</strong>:三次运行前测试精度较高，但我忘记了我使用了什么超参数配置，会发生什么情况？或者试图从最近一批运行中记住哪个版本的预处理产生了最好的模型？需要记录实验以及环境、代码和数据，以及其他实验元数据的例子数不胜数，但是它们在现状中是分离的。</li></ol><p id="e934" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这个问题最近在社区中引起了广泛关注，这是谷歌的皮特·沃顿的<a class="ae lg" href="https://petewarden.com/2018/03/19/the-machine-learning-reproducibility-crisis/" rel="noopener ugc nofollow" target="_blank">博客</a>。</p><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi lh"><img src="../Images/ee8bcc1ddff870830aa356fb0246eff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wk6norjG9EgRuuDrmRFqSQ.png"/></div></div></figure><blockquote class="lq"><p id="168b" class="lr ls iq bd lt lu lv lw lx ly lz kr dk translated">我们的解决方案:</p></blockquote><p id="0ab7" class="pw-post-body-paragraph ju jv iq jw b jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr ij bi translated">这些问题让我们头疼了无数次，在和朋友聊过之后，我们知道我们并不孤单。我们想要的东西不仅能在实验过程中跟踪配置和结果，还能让数据科学家通过重新运行来重现任何实验！</p><p id="a13c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们最初将它构建为一个内部解决方案，用于跟踪我们的实验，使它们具有可重复性，并且易于设置环境。当我们开始扩展它时，我们努力开发一种工具，它有一个开放简单的接口，可以与我们已经在做的机器学习的方式无缝集成；相对于框架来说是通用的，但是功能强大，提供了完全的可复制性。基本上，我们可以给我们的朋友一些东西，这样他们可以在命令行上用几个命令运行他们的实验，并且仍然可靠地重复它们。</p><p id="3c43" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在我们自己构建和使用它之后，我们决定将其作为一个名为<a class="ae lg" href="https://github.com/datmo/datmo" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir"> <em class="mf"> datmo </em> </strong> </a>的开源工具提供。</p><p id="aa5d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下面是<a class="ae lg" href="https://github.com/datmo/datmo" rel="noopener ugc nofollow" target="_blank"><strong class="jw ir"><em class="mf">datmo</em></strong></a>的工作原理！</p><p id="5202" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在初始项目设置之后，只需要一个命令来运行实验，最后再用另一个命令来分析结果！</p><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mg"><img src="../Images/6614cf1e91f2b4d549deacf0e00d5fe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvLoYOCLHkgF6IxqZ8tpuw.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk">Running an experiment with datmo</figcaption></figure><p id="8671" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这看起来不错，但是当我们有多个实验时会发生什么呢？<strong class="jw ir"> <em class="mf"> datmo </em> </strong>在这里得到了更多的使用，因为我们可以使用它来比较和分析结果，并在稍后的时间点重新运行先前的实验。下面是如何使用<strong class="jw ir"> <em class="mf"> datmo </em> </strong>来实现这一点！</p><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi mg"><img src="../Images/655d7a00471c5bfce9de049769a93993.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-5SKNQIVUqADdM7TQkEguQ.png"/></div></div><figcaption class="mh mi gj gh gi mj mk bd b be z dk">Rerunning a previous experiment with datmo</figcaption></figure><p id="d3fe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在，让我们用这个例子来弄脏我们的手。有了<strong class="jw ir"> <em class="mf"> datmo </em> </strong>，我们消除了复杂性，同时提供了一种快速启动一切的方法。</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><blockquote class="lq"><p id="e288" class="lr ls iq bd lt lu ms mt mu mv mw kr dk translated">快速入门:</p></blockquote><p id="a2e7" class="pw-post-body-paragraph ju jv iq jw b jx ma jz ka kb mb kd ke kf mc kh ki kj md kl km kn me kp kq kr ij bi translated">对于这个例子，我们将展示来自经典<a class="ae lg" href="https://en.wikipedia.org/wiki/Iris_flower_data_set" rel="noopener ugc nofollow" target="_blank"> Fisher Iris 数据集</a>的一个简单分类器的训练</p><p id="e018" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir"> 0。预先请求:</strong></p><blockquote class="mx my mz"><p id="38ba" class="ju jv mf jw b jx jy jz ka kb kc kd ke na kg kh ki nb kk kl km nc ko kp kq kr ij bi translated">让我们首先确保我们有 datmo 的先决条件。Docker 是主要的先决条件，所以让我们确保 docker 已经安装(并且正在运行！)才开始。你可以在这里找到基于你的 OS 的说明:<a class="ae lg" href="https://docs.docker.com/docker-for-mac/install/#install-and-run-docker-for-mac" rel="noopener ugc nofollow" target="_blank"> MacOS </a>，<a class="ae lg" href="https://docs.docker.com/docker-for-windows/install/" rel="noopener ugc nofollow" target="_blank"> Windows </a>，<a class="ae lg" href="https://docs.docker.com/install/linux/docker-ce/ubuntu/#uninstall-old-versions" rel="noopener ugc nofollow" target="_blank"> Ubuntu </a>。</p></blockquote><p id="acae" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，我们可以使用以下命令从您的终端安装<strong class="jw ir"> <em class="mf"> datmo </em> </strong>:</p><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="6b04" class="ni nj iq ne b gy nk nl l nm nn">$ pip install datmo</span></pre><h2 id="5a41" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">1.克隆这个 GitHub <a class="ae lg" href="https://github.com/shabazpatel/quick-start.git" rel="noopener ugc nofollow" target="_blank">项目</a>，</h2><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="8773" class="ni nj iq ne b gy nk nl l nm nn">$ git clone <a class="ae lg" href="https://github.com/shabazpatel/quick-start.git" rel="noopener ugc nofollow" target="_blank">https://github.com/shabazpatel/quick-start.git</a></span></pre><h2 id="7d96" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">2.在您的项目中，使用 CLI 初始化 datmo 客户端</h2><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="fb66" class="ni nj iq ne b gy nk nl l nm nn">$ cd quick-start<br/>$ datmo init</span></pre><p id="abd2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然后，响应以下提示:</p><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="dfa4" class="ni nj iq ne b gy nk nl l nm nn">Enter name: (up to you!)</span><span id="1232" class="ni nj iq ne b gy of nl l nm nn">Enter description: (up to you!)</span></pre><p id="8ea1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">接下来，将询问您是否想要设置您的环境。</p><p id="14d2" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">选择<code class="fe og oh oi ne b">y</code>并在出现提示时依次选择以下选项:</p><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="574b" class="ni nj iq ne b gy nk nl l nm nn">Please select one of the above environment type: <strong class="ne ir">cpu</strong></span><span id="4a9f" class="ni nj iq ne b gy of nl l nm nn">Please select one of the above environments: <strong class="ne ir">data-analytics</strong></span><span id="2ab2" class="ni nj iq ne b gy of nl l nm nn">Please select one of the above environment language: <strong class="ne ir">py27</strong></span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi oj"><img src="../Images/3447898ac64d43665a46b70e511ff70d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ILYOUeybh3cPRuyER3jhhw.png"/></div></div></figure><h2 id="ef41" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">3.现在，使用下面的命令运行您的第一个实验，</h2><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="a2a2" class="ni nj iq ne b gy nk nl l nm nn">$ datmo run ‘python script.py’</span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ok"><img src="../Images/eb1bc162829b3c53cd223d70b9157c68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*La3pAfzFwvj7Wv5lf_WeVw.png"/></div></div></figure><p id="29cb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们看看所有运行的列表，</p><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="30e0" class="ni nj iq ne b gy nk nl l nm nn">$ datmo ls</span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ol"><img src="../Images/ee25a864bea77bb5516093583f126982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UuiwiHS9lnGjE-raFh3Sdw.png"/></div></div></figure><h2 id="3b2d" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">4.现在让我们修改新一轮的脚本，</h2><p id="4be2" class="pw-post-body-paragraph ju jv iq jw b jx om jz ka kb on kd ke kf oo kh ki kj op kl km kn oq kp kq kr ij bi translated">我们将更改<code class="fe og oh oi ne b">script.py</code>文件。让我们取消脚本中下面一行的注释，并删除另一个配置字典，</p><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="be5a" class="ni nj iq ne b gy nk nl l nm nn"># config = { "solver": "liblinear", "penalty": "l1" }</span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi or"><img src="../Images/fccce19c08f0efe830eabdd47e3f14b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQel7Z6jEjLGFaA0HROjIQ.png"/></div></div></figure><h2 id="470f" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">5.现在我们已经更新了脚本中的环境和配置，让我们运行另一个实验，</h2><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="bfd9" class="ni nj iq ne b gy nk nl l nm nn">$ datmo run ‘python script.py’</span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi os"><img src="../Images/d87a00d7082bb6bd12f6df04421a2762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YD_vSUQKHyTtDgRheyd--w.png"/></div></div></figure><h2 id="f3ec" class="ni nj iq bd no np nq dn nr ns nt dp nu kf nv nw nx kj ny nz oa kn ob oc od oe bi translated">6.一旦完成，我们现在将有两个实验跟踪，能够在任何机器上重新运行</h2><pre class="li lj lk ll gt nd ne nf ng aw nh bi"><span id="d995" class="ni nj iq ne b gy nk nl l nm nn">Check for the previous runs with:<br/>$ datmo ls</span><span id="ee72" class="ni nj iq ne b gy of nl l nm nn">Select the earlier run-id to rerun the first experiment<br/>$ datmo rerun &lt;run-id&gt;</span></pre><figure class="li lj lk ll gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lm ln di lo bf lp"><div class="gh gi ot"><img src="../Images/b299e9396a85e5b1cb4f99b5cdf111d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-UeX8zRytmfGTZ_zik_S2w.png"/></div></div></figure><p id="bc5a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">恭喜你，你已经成功地复制了之前的实验！</p></div><div class="ab cl ml mm hu mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="ij ik il im in"><p id="ccfb" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">以前，这一过程会浪费时间和精力，带来各种故障排除和令人头痛的问题！使用<strong class="jw ir"> datmo </strong>，我们运行实验，跟踪它们，并用 4 个命令重新运行它们。现在，您可以使用这个通用标准分享您的实验，而不必担心复制，无论是队友复制您的工作还是尝试将模型部署到生产中。这显然只是一个小样本，但是您可以出去亲自尝试其他流<a class="ae lg" href="https://datmo.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"/>，例如在 2 分钟内旋转 TensorFlow jupyter 笔记本！</p><p id="46af" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在<a class="ae lg" href="https://github.com/datmo/datmo" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查看我们，并在<a class="ae lg" href="https://twitter.com/datmoAI" rel="noopener ugc nofollow" target="_blank"> @datmoAI </a> ✌️给我们反馈</p></div></div>    
</body>
</html>