<html>
<head>
<title>Finding the favorite team in 2018 FIFA World Cup through scraping Tweets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过抓取推文找到 2018 年 FIFA 世界杯最喜欢的球队</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/estimate-the-favorite-scraping-tweets-using-python-863303384e29?source=collection_archive---------9-----------------------#2018-06-15">https://towardsdatascience.com/estimate-the-favorite-scraping-tweets-using-python-863303384e29?source=collection_archive---------9-----------------------#2018-06-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/2ce6b4f609b62d6e68005581eb0321fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6y7fhU5TD8yyri81t-oWUQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><strong class="bd jd">source</strong>: <a class="ae je" href="http://blog.cpdfootball.de/2017/12/01/fifa-world-cup-russia-2018-final-draw-conducted-in-moscow/" rel="noopener ugc nofollow" target="_blank">blog.cpdfootball.de</a></figcaption></figure><div class=""/><blockquote class="ke kf kg"><p id="ea04" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">足球运动员和数据科学家的工作展示了相同的工作-生活设置，即技能和意志的组合<strong class="kk ji"><em class="jh"/></strong>。</p></blockquote><p id="46c9" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">6 月 14 日前夕，一个备受赞誉的所有足球爱好者的宗教节日——<strong class="kk ji">2018 年 FIFA 世界杯</strong>在俄国拉开帷幕。这个月久负盛名的体育盛宴将在全球范围内庆祝，直到 7 月 15 日的大结局。</p><p id="ed3e" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">抓住这个机会，我测试了我新发现的技能，以判断在给定的比赛中两个竞争团队中谁将是最受欢迎的。</p><blockquote class="ke kf kg"><p id="ee43" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji"> <em class="jh">你将在这里学到的东西</em> </strong>:</p></blockquote><ol class=""><li id="0f3e" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf lo lp lq lr bi translated">如何从 Twitter 上抓取数据？</li><li id="af74" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf lo lp lq lr bi translated">数据挖掘</li></ol><blockquote class="ke kf kg"><p id="6761" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji">先决条件:</strong></p></blockquote><ol class=""><li id="3e4a" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf lo lp lq lr bi translated">Tweepy 库应该安装在您的计算机上。</li></ol><p id="989e" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">2.访问 Twitter。如果您还没有帐户，请创建一个帐户。</p><p id="9d51" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">抓取文本数据是自然语言处理的一个组成部分。当手头的任务是分析情绪时，Twitter 是一个非常实用的平台。</p><blockquote class="ke kf kg"><p id="e874" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji">思维过程:</strong></p></blockquote><figure class="ly lz ma mb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lx"><img src="../Images/c58a94037980e43434b91111e06d38cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KmifLlxjHP8c3PUXcMYNPw.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><strong class="bd jd">source</strong>: <a class="ae je" href="https://nocodewebscraping.com/twitter-json-examples/" rel="noopener ugc nofollow" target="_blank">www.nocodewebscraping.com</a></figcaption></figure><p id="da4c" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">这就是我们的方法——首先，我们将生成所需的凭证以利用 Twitter API，然后我们将编写 python 代码来提取实时推文，最后我们将通过选择相关的关键字来分析推文。</p><p id="fc48" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">让乐趣开始吧…</p><blockquote class="ke kf kg"><p id="3edc" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji"> <em class="jh">抓取推文的分步指南</em> </strong></p></blockquote><h2 id="04de" class="mc md jh bd me mf mg dn mh mi mj dp mk lg ml mm mn lh mo mp mq li mr ms mt mu bi translated">A.为 Twitter API 生成凭据:</h2><p id="0e89" class="pw-post-body-paragraph kh ki jh kk b kl mv kn ko kp mw kr ks lg mx kv kw lh my kz la li mz ld le lf ij bi translated"><strong class="kk ji">我</strong>。访问 https://apps.twitter.com/<strong class="kk ji"/>的<a class="ae je" href="https://apps.twitter.com/" rel="noopener ugc nofollow" target="_blank">T21，用你的 twitter 凭证登录。</a></p><p id="6a22" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated"><strong class="kk ji">二。</strong>点击<strong class="kk ji">创建新应用</strong></p><p id="9fe6" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated"><strong class="kk ji">三</strong>。输入必要的详细信息，然后点击“<strong class="kk ji">创建您的 Twitter 应用程序</strong></p><p id="9803" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated"><strong class="kk ji">四</strong>。在下一页，点击“<strong class="kk ji"> API 密钥</strong>选项卡，复制您的“API 密钥”和“<strong class="kk ji"> API 秘密</strong>”。(建议:务必在桌面上贴上这些凭证的便笺)</p><p id="891f" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated"><strong class="kk ji"> V </strong>。向下滚动点击“<strong class="kk ji">创建我的访问令牌</strong>，复制你的“访问令牌”和“<strong class="kk ji">访问令牌秘密</strong>”。</p><h2 id="d478" class="mc md jh bd me mf mg dn mh mi mj dp mk lg ml mm mn lh mo mp mq li mr ms mt mu bi translated">B.通过 Python 代码连接到 Twitter API:</h2><p id="4570" class="pw-post-body-paragraph kh ki jh kk b kl mv kn ko kp mw kr ks lg mx kv kw lh my kz la li mz ld le lf ij bi translated">下面是您需要的代码，以便连接到 Twitter 上的实时推流，并将它们下载到您的机器上。</p><ul class=""><li id="6df6" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf na lp lq lr bi translated">注意:编码时使用 Python 2.7 版本。</li></ul><figure class="ly lz ma mb gt is"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="d067" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">一旦您在命令提示符下执行代码(对于 windows 用户)，您将看到下面的数据流。</p><figure class="ly lz ma mb gt is gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/4837d194557fbdc760c6a7385ba1942f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*lB8qHUd0d4VQpeinM9X3aA.gif"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><strong class="bd jd">Live Streaming Tweets</strong></figcaption></figure><h2 id="79d6" class="mc md jh bd me mf mg dn mh mi mj dp mk lg ml mm mn lh mo mp mq li mr ms mt mu bi translated">C.分析数据:</h2><p id="54df" class="pw-post-body-paragraph kh ki jh kk b kl mv kn ko kp mw kr ks lg mx kv kw lh my kz la li mz ld le lf ij bi translated">在命令行下输入保存下载的推文。</p><blockquote class="ne"><p id="5be2" class="nf ng jh bd nh ni nj nk nl nm nn lf dk translated">python Twitter _ streaming . py &gt; Twitter _ data . txt</p></blockquote><p id="38f7" class="pw-post-body-paragraph kh ki jh kk b kl no kn ko kp np kr ks lg nq kv kw lh nr kz la li ns ld le lf ij bi translated">为了理解锦标赛揭幕战的极性方向，我定期(在 6 月 13 日和 14 日)运行该程序两天，以获得相当大且有意义的数据样本。我可以在上面提到的时间段内抓取 79，359 条大小为 450 MB 的推文。</p><figure class="ly lz ma mb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nt"><img src="../Images/dc4d1bc7e02e685989c1679c7f29f64e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fq0HQTvWpNkTeemjyK4PTg.png"/></div></div></figure><p id="47fd" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">您可以根据业务案例的需要从原始文本中提取尽可能多的见解。比如说。这是写推特的一种语言。在底部找到这个练习的 Jupyter 笔记本。</p><figure class="ly lz ma mb gt is gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/01fa927bc62b5f07444b8d038c424a4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*zhmxwVDuTalWccRj45GHjw.jpeg"/></div></figure><p id="c274" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">由于第一场比赛是在东道主俄罗斯和对手沙特阿拉伯之间，我选择了以下关键词。</p><ul class=""><li id="fdd4" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf na lp lq lr bi translated">国际足联，世界，世界杯，足球，国际足联世界杯，#FIFA2018</li><li id="8af6" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf na lp lq lr bi translated">世界杯，#WorldCup2018，#FifaWorldCup，</li><li id="4515" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf na lp lq lr bi translated">#FIFAWorldCup，RUSKSA，#RUSKSA，预测，赢，#FIFA。</li></ul><p id="dbca" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">为了估计这两个帖子中哪一个是最受欢迎的，用#RUS、#KSA 和#鲁斯卡作为目标推文，并分离结果。</p><figure class="ly lz ma mb gt is gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/dbff210c68f97b38bff6a0e0e28fcdb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*r32-3LdCFLXC7FNm9x-NzA.jpeg"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><strong class="bd jd">Final Outcome</strong></figcaption></figure><p id="b26f" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">令人惊讶是，比赛结果也与公众情绪一致。当俄罗斯人痛击平庸的沙特人时！</p><blockquote class="ne"><p id="27b8" class="nf ng jh bd nh ni nj nk nl nm nn lf dk translated">俄罗斯 5 比 0 沙特阿拉伯</p><p id="455b" class="nf ng jh bd nh ni nj nk nl nm nn lf dk translated">多么片面的事情啊！</p></blockquote><p id="73dc" class="pw-post-body-paragraph kh ki jh kk b kl no kn ko kp np kr ks lg nq kv kw lh nr kz la li ns ld le lf ij bi translated">你还在等什么，还有 63 场比赛要打。玩得开心！！下面是参加本届世界杯的球队的信息图。<a class="ae je" href="https://www.fifa.com/worldcup/matches/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk ji">在这里</strong> </a>你可以找到所有比赛的赛程。</p><figure class="ly lz ma mb gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nw"><img src="../Images/187156662265225f66231586d89fc9ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uIXAC4VyDh2-tlkRu6dC3g.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk"><strong class="bd jd">FIFA WC 2018 Qualified Teams</strong> . source: <a class="ae je" href="https://www.ivacy.com/blog/watch-fifa-world-cup-2018-online-free/" rel="noopener ugc nofollow" target="_blank">www.Ivacy.com</a></figcaption></figure><blockquote class="ke kf kg"><p id="0438" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji">朱庇特笔记本</strong>:</p></blockquote><figure class="ly lz ma mb gt is"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="a28f" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">希望你喜欢这篇文章。所以，释放你的爱和情感吧，这将根据你点击拍手图标的次数来估算。<strong class="kk ji"># seeyou next time #直到那时</strong><strong class="kk ji"># KeepLearningNewThings</strong></p><blockquote class="ke kf kg"><p id="b9cf" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji">参考文献</strong>:</p></blockquote><ol class=""><li id="1719" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf lo lp lq lr bi translated"><a class="ae je" href="http://docs.tweepy.org/en/v3.5.0/" rel="noopener ugc nofollow" target="_blank">十二页文档</a></li><li id="3982" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf lo lp lq lr bi translated"><a class="ae je" href="https://www.youtube.com/watch?time_continue=7&amp;v=bmdM-sezWGg" rel="noopener ugc nofollow" target="_blank"> Twitter 流媒体 API — Python &amp;代码！</a></li></ol><blockquote class="ke kf kg"><p id="746b" class="kh ki kj kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><strong class="kk ji">更多阅读:</strong></p></blockquote><p id="fdfb" class="pw-post-body-paragraph kh ki jh kk b kl km kn ko kp kq kr ks lg ku kv kw lh ky kz la li lc ld le lf ij bi translated">如果你喜欢我的文章，那就花几分钟看看我的其他博客吧-</p><ol class=""><li id="eafc" class="lj lk jh kk b kl km kp kq lg ll lh lm li ln lf lo lp lq lr bi translated"><a class="ae je" rel="noopener" target="_blank" href="/exploratory-data-analysis-8fc1cb20fd15"> <strong class="kk ji">什么是探索性数据分析？</strong> </a></li><li id="710a" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf lo lp lq lr bi translated"><a class="ae je" rel="noopener" target="_blank" href="/k-means-clustering-identifying-f-r-i-e-n-d-s-in-the-world-of-strangers-695537505d"> <strong class="kk ji"> K 表示聚类:在陌生人的世界里识别 F . r . I . e . n . d . s</strong></a></li><li id="f5f3" class="lj lk jh kk b kl ls kp lt lg lu lh lv li lw lf lo lp lq lr bi translated"><a class="ae je" rel="noopener" target="_blank" href="/decision-tree-data-scientists-magic-bullet-for-hamletian-dilemma-411e0121ba1e"> <strong class="kk ji">决策树—数据科学家破解哈姆雷特困境的灵丹妙药</strong> </a></li></ol></div></div>    
</body>
</html>