<html>
<head>
<title>Beyond Accuracy: Precision and Recall</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">超越准确性:精确度和召回率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/beyond-accuracy-precision-and-recall-3da06bea9f6c?source=collection_archive---------0-----------------------#2018-03-03">https://towardsdatascience.com/beyond-accuracy-precision-and-recall-3da06bea9f6c?source=collection_archive---------0-----------------------#2018-03-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/bdfb410c0dda329b23f033f531a2f900.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1q1g_6kRbXUrGNnI."/></div></div></figure><div class=""/><p id="5739" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">为分类任务选择正确的指标</strong></p><p id="5008" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你会相信一个声称完全在大脑中创造了一个模型的人以超过 99%的准确率识别试图登机的恐怖分子吗？嗯，这里有一个模型:简单地给每个从美国机场起飞的人贴上非恐怖分子的标签。鉴于<a class="ae kw" href="https://www.rita.dot.gov/bts/press_releases/bts018_16" rel="noopener ugc nofollow" target="_blank">每年平均有 8 亿乘客乘坐美国航班</a>以及【2000 年至 2017 年有 19 名(已确认)恐怖分子登上美国航班，这个模型达到了惊人的 99.9999999%的准确率！这听起来可能令人印象深刻，但我怀疑美国国土安全部不会很快打电话购买这种型号。虽然这个解决方案具有近乎完美的准确性，但这个问题是一个准确性显然不是一个足够的度量标准的问题！</p><p id="d359" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">恐怖分子检测任务是一个<a class="ae kw" href="https://www.analyticsvidhya.com/blog/2017/03/imbalanced-classification-problem/" rel="noopener ugc nofollow" target="_blank">不平衡分类问题</a>:我们需要识别两类——恐怖分子和非恐怖分子——其中一类代表绝大多数数据点。当疾病在公众中的发病率非常低时，另一个不平衡的分类问题出现在疾病检测中。在这两种情况下，积极阶层——疾病或恐怖分子——在数量上远远超过了消极阶层。这些类型的问题是数据科学中相当常见的情况，即准确性不是评估模型性能的好方法。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="7c44" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">凭直觉，我们知道在恐怖分子检测问题中宣布所有数据点为阴性是没有帮助的，相反，我们应该专注于识别阳性病例。我们的直觉告诉我们应该最大化的指标在统计学中被称为<a class="ae kw" href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener ugc nofollow" target="_blank"><strong class="ka jc"/></a>，或者模型在数据集中找到所有相关案例的能力。召回的精确定义是真阳性的数量除以真阳性的数量加上假阴性的数量。真阳性是被模型分类为阳性但实际上是阳性的数据点(意味着它们是正确的)，假阴性是被模型识别为阴性但实际上是阳性的数据点(不正确的)。在恐怖主义案例中，真正的阳性是被正确识别的恐怖分子，而假阴性是被模型标记为<em class="le">而不是</em>恐怖分子的个体，而<em class="le">实际上是</em>恐怖分子。召回可以被认为是模型在数据集中找到所有感兴趣的数据点的能力。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lf"><img src="../Images/7ae036168a2ad95670e4acf65bf791e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gscG4JdjnyU5QkqNDqBg_w.png"/></div></div></figure><p id="3888" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">你可能会注意到这个等式的一些东西:如果我们把所有人都贴上恐怖分子的标签，那么我们的召回率就会达到 1.0！我们有一个完美的分类器，对吗？不完全是。与数据科学中的大多数概念一样，我们在选择最大化的指标时会有一个权衡。在召回率的例子中，当我们增加召回率时，我们降低了精确度。同样，我们凭直觉知道，将 100%的乘客贴上恐怖分子标签的模型可能没有用，因为那样我们就不得不禁止每个人乘坐飞机。统计学为我们提供了表达直觉的词汇:这种新模型会遭受低<a class="ae kw" href="https://en.wikipedia.org/wiki/Precision_and_recall" rel="noopener ugc nofollow" target="_blank"><strong class="ka jc"/></a>精度，或者分类模型仅识别相关数据点的能力。</p><p id="00ef" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">精确度被定义为真阳性的数量除以真阳性的数量加上假阳性的数量。假阳性是模型错误地标记为阳性而实际上是阴性的情况，或者在我们的示例中，模型归类为恐怖分子的个人不是恐怖分子。回忆表达了在数据集中找到所有相关实例的能力，而精确表达了我们的模型所说的相关数据点实际上是相关的数据点的比例。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lk"><img src="../Images/129de754b24cff4a5ea735ab8b04d114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FKXzF6DYSP2mV4HUBftRgg.png"/></div></div></figure><p id="f0bc" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，我们可以看到，我们的第一个模型将所有人都标记为<em class="le">而不是</em>恐怖分子，这不是很有用。虽然它有近乎完美的准确性，但它的精确度和召回率都是 0，因为没有真正的阳性结果！假设我们稍微修改一下模型，将一个人正确地识别为恐怖分子。现在，我们的精度将是 1.0(没有假阳性)，但我们的召回率将非常低，因为我们仍然会有许多假阴性。如果我们走向另一个极端，将所有乘客归类为恐怖分子，我们将有 1.0 的召回——我们将抓住每一个恐怖分子——但我们的精确度将非常低，我们将拘留许多无辜的个人。换句话说，当我们提高精确度时，我们降低回忆，反之亦然。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ll"><img src="../Images/d202190436fbf97fb014c810eee09525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XEO3pwAee7tBT_D1.png"/></div></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">The Precision-Recall Trade-off (<a class="ae kw" href="http://computingengineering.asmedigitalcollection.asme.org/article.aspx?articleid=2610217" rel="noopener ugc nofollow" target="_blank">Source</a>)</figcaption></figure><h1 id="9849" class="lq lr jb bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">结合精确度和召回率</h1><p id="01fe" class="pw-post-body-paragraph jy jz jb ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">在某些情况下，我们可能知道我们希望以牺牲其他指标为代价来最大化召回率或精确度。例如，在对患者进行后续检查的初步疾病筛查中，我们可能希望召回率接近 1.0——我们希望找到所有实际患病的患者——如果后续检查的成本不显著，我们可以接受较低的精确度。然而，在我们想要找到精确度和召回率的最佳结合的情况下，我们可以使用所谓的<a class="ae kw" href="https://en.wikipedia.org/wiki/F1_score" rel="noopener ugc nofollow" target="_blank"> F1 分数</a>来组合这两个指标。</p><p id="2104" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">F1 分数是精确度和召回率的调和平均值，在下面的等式中考虑了这两个指标:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/2f260ddc7f32bdd82cd5fad7daea11f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*UJxVqLnbSj42eRhasKeLOA.png"/></div></figure><p id="e5f5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们使用<a class="ae kw" href="https://stackoverflow.com/questions/26355942/why-is-the-f-measure-a-harmonic-mean-and-not-an-arithmetic-mean-of-the-precision" rel="noopener ugc nofollow" target="_blank">调和平均值而不是简单平均值，因为它会惩罚极值</a>。精度为 1.0、召回率为 0.0 的分类器的简单平均值为 0.5，但 f 1 值为 0。F1 分数对这两个指标赋予了同等的权重，并且是一般 Fβ指标的一个具体示例，其中β可以调整为对召回率或精确度赋予更大的权重。(还有其他衡量精度和召回率的指标，如<a class="ae kw" href="https://en.wikipedia.org/wiki/Fowlkes%E2%80%93Mallows_index" rel="noopener ugc nofollow" target="_blank">精度和召回率的几何平均值</a>，但 F1 分数是最常用的。)如果我们想要创建一个具有召回率和精确度的最佳平衡的平衡分类模型，那么我们尝试最大化 F1 分数。</p><h1 id="ce9e" class="lq lr jb bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">可视化精度和回忆</h1><p id="728f" class="pw-post-body-paragraph jy jz jb ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">我已经向您抛出了几个新术语，我们将通过一个示例来展示它们在实践中的用法。在我们到达那里之前，我们需要简要地谈论一下用于显示精确度和召回率的两个概念。</p><p id="5d18" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先是<a class="ae kw" href="http://www.dataschool.io/simple-guide-to-confusion-matrix-terminology/" rel="noopener ugc nofollow" target="_blank">混淆矩阵</a>，它有助于在给定模型预测标签的情况下快速计算精确度和召回率。二元分类的混淆矩阵显示了四种不同的结果:真阳性、假阳性、真阴性和假阴性。实际值构成列，预测值(标签)构成行。行和列的交叉点显示了四种结果中的一种。例如，如果我们预测一个数据点是正的，但它实际上是负的，这是一个假阳性。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mu"><img src="../Images/7c8e1354e0b155fd50a64b42d0c37f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CPnO_bcdbE8FXTejQiV2dg.png"/></div></div></figure><p id="d93e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">从混淆矩阵到召回率和精确度需要找到矩阵中各自的值并应用以下等式:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/57f64cc833a6c9f204be0f49dab50593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6NkN_LINs2erxgVJ9rkpUA.png"/></div></div></figure><p id="9fa8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">显示分类模型性能的另一个主要可视化技术是<a class="ae kw" href="http://scikit-learn.org/stable/auto_examples/model_selection/plot_roc.html" rel="noopener ugc nofollow" target="_blank">接收机工作特性(ROC)曲线</a>。不要让复杂的名字把你吓跑了！这个想法相对简单:ROC 曲线显示了当我们改变模型中识别阳性的阈值时，召回率与准确率的关系是如何变化的。阈值代表一个值，高于该值的数据点被认为是正类。如果我们有一个识别疾病的模型，我们的模型可能会为每个患者输出一个介于 0 和 1 之间的分数，我们可以在此范围内设置一个阈值，用于将患者标记为患有疾病(阳性标记)。通过改变阈值，我们可以尝试达到正确的精确度和召回率的平衡。</p><p id="0616" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">ROC 曲线在 y 轴上绘出了真阳性率，在 x 轴上绘出了假阳性率。真阳性率(TPR)是召回率，假阳性率(FPR)是虚警的概率。这两者都可以从混淆矩阵中计算出来:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/82bbe354eb338487ec49928bca326cd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uh9YUp632ktSd75bZDeB0Q.png"/></div></div></figure><p id="e8f7" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">典型的 ROC 曲线如下所示:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/d16a238468bcb26e9ac574b2c0c4a8ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/0*2iHR8dFXev5GWo_f.png"/></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Receiver Operating Characteristic Curve (<a class="ae kw" href="http://www.statisticshowto.com/c-statistic/" rel="noopener ugc nofollow" target="_blank">Source</a>)</figcaption></figure><p id="03c3" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">黑色斜线表示随机分类器，红色和蓝色曲线表示两种不同的分类模型。对于一个给定的模型，我们只能停留在一条曲线上，但我们可以通过调整我们对阳性病例进行分类的阈值来沿着曲线移动。通常，当我们降低阈值时，我们沿着曲线向右上方移动。阈值为 1.0 时，我们将位于图表的左下方，因为我们没有将数据点识别为阳性，导致没有<em class="le">真阳性</em>和<em class="le">假阳性</em> (TPR = FPR = 0)。随着阈值的降低，我们将更多的数据点识别为阳性，导致更多的真阳性，但也导致更多的假阳性(TPR 和 FPR 增加)。最终，在阈值为 0.0 时，我们将所有数据点识别为阳性，并发现我们位于 ROC 曲线的右上角(TPR = FPR = 1.0)。</p><p id="0730" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，我们可以通过计算曲线(AUC) 下的总<a class="ae kw" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve" rel="noopener ugc nofollow" target="_blank">面积来量化模型的 ROC 曲线，这是一个介于 0 和 1 之间的度量，数字越大表示分类性能越好。在上图中，蓝色曲线的 AUC 将大于红色曲线，这意味着蓝色模型在实现精确度和召回率的混合方面更好。随机分类器(黑线)获得的 AUC 为 0.5。</a></p><h1 id="29f6" class="lq lr jb bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">概述</h1><p id="747e" class="pw-post-body-paragraph jy jz jb ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">我们已经讨论了几个术语，没有一个术语本身很难，但是加在一起可能会有点让人不知所措！让我们快速回顾一下，然后通过一个例子来巩固我们学到的新观点。</p><p id="1cf2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">二元分类的四种结果</strong></p><ul class=""><li id="ca12" class="my mz jb ka b kb kc kf kg kj na kn nb kr nc kv nd ne nf ng bi translated"><strong class="ka jc">真阳性:</strong>标记为阳性的数据点实际上是阳性的</li><li id="984d" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">假阳性:</strong>标记为阳性的数据点实际上是阴性的</li><li id="8fd9" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">真阴性:</strong>标记为阴性但实际上是阴性的数据点</li><li id="8903" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">假阴性:</strong>标记为阴性但实际为阳性的数据点</li></ul><p id="da70" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">召回率和精确度指标</strong></p><ul class=""><li id="a79d" class="my mz jb ka b kb kc kf kg kj na kn nb kr nc kv nd ne nf ng bi translated"><strong class="ka jc">回忆:</strong>分类模型识别所有相关实例的能力</li><li id="d3b3" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">精度:</strong>分类模型只返回相关实例的能力</li><li id="b385" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc"> F1 得分:</strong>使用调和平均值结合召回率和精确度的单一指标</li></ul><p id="3652" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">可视化回忆和精确</p><ul class=""><li id="556c" class="my mz jb ka b kb kc kf kg kj na kn nb kr nc kv nd ne nf ng bi translated"><strong class="ka jc">混淆矩阵:</strong>显示来自分类问题的实际和预测标签</li><li id="ff4c" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">受试者工作特征(ROC)曲线:</strong>绘制真阳性率(TPR)对假阳性率(FPR)的曲线，作为模型的阳性分类阈值的函数</li><li id="8f81" class="my mz jb ka b kb nh kf ni kj nj kn nk kr nl kv nd ne nf ng bi translated"><strong class="ka jc">曲线下面积(AUC): </strong>根据 ROC 曲线下面积计算分类模型整体性能的指标</li></ul><h1 id="a9f0" class="lq lr jb bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">示例应用程序</h1><p id="62d4" class="pw-post-body-paragraph jy jz jb ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">我们的任务是对 100 名患者进行诊断，这些患者中有 50%的人患有某种疾病。我们将假设一个黑盒模型，在这个模型中，我们输入关于患者的信息，并得到一个介于 0 和 1 之间的分数。我们可以改变将患者标记为阳性(患有疾病)的阈值，以最大化分类器的性能。我们将从 0.0 到 1.0 以 0.1 的增量评估阈值，在每一步计算精确度、召回率、F1 和 ROC 曲线上的位置。以下是每个阈值的分类结果:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nm"><img src="../Images/9fa8f5560c4ed6b5d8a15bdaed30e254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3SjX3LaLUfJ3Yf7xU1QhmA.png"/></div></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Outcome of model at each threshold</figcaption></figure><p id="00ad" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们将在阈值为 0.5 的情况下对召回率、精确度、真阳性率和假阳性率进行一次样本计算。首先我们制作混淆矩阵:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nn"><img src="../Images/d3c018fe9f45de9f072f625b658cbe94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdLd_wAhNfJKH49NSfq72Q.png"/></div></div><figcaption class="lm ln gj gh gi lo lp bd b be z dk">Confusion Matrix for Threshold of 0.5</figcaption></figure><p id="87d9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以使用矩阵中的数字来计算召回率、精确度和 F1 分数:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi no"><img src="../Images/d1c616b2d73fa27cfc9f1ad52fcf82ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XQOYd2mheHyVVR9H-ENtIQ.png"/></div></div></figure><p id="3340" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，我们计算真阳性和假阳性率，以找到 ROC 曲线的 y 和 x 坐标。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi np"><img src="../Images/ef07cf6028f212ee45d187d0acf3da9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HzWxvbikCtiB-QtFb48WoQ.png"/></div></div></figure><p id="72e4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了制作完整的 ROC 曲线，我们在每个阈值进行这个过程。正如您可能认为的那样，这非常繁琐，所以我们没有用手工来做，而是用 Python 这样的语言来做！任何人都可以在 GitHub 上看到带有计算的 Jupyter 笔记本。最终的 ROC 曲线如下所示，阈值高于点。</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/ded022a5315f3edc39bb5995cb23f31c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*ZAH33g5FD9xYZRadgmqWVw.png"/></div></figure><p id="211c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这里，我们可以看到所有的概念走到了一起！阈值为 1.0 时，我们没有将患者归类为患有该疾病，因此召回率和精确度为 0.0。随着阈值的降低，回忆会增加，因为我们识别出更多患有该疾病的患者。然而，随着我们回忆的增加，我们的精确度会降低，因为除了增加<em class="le">真</em>阳性，我们也会增加<em class="le">假</em>阳性。阈值为 0.0 时，我们的回忆是完美的——我们找到了所有患有该疾病的患者——但我们的精确度很低，因为我们有许多假阳性。我们可以通过改变阈值来沿着给定模型的曲线移动，并选择使 F1 分数最大化的阈值。为了改变整个曲线，我们需要建立一个不同的模型。</p><p id="8ef5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每个阈值的最终模型统计如下:</p><figure class="lg lh li lj gt is gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/c620193fd0c800b0a4180ead2d9cacc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*TESjAFBurN7RVXyb5KDOxg.png"/></div></figure><p id="4639" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">基于 F1 分数，总体最佳模型出现在阈值 0.5 处。如果我们想在更大程度上强调精确性或回忆性，我们可以选择在这些度量上表现最好的相应模型。</p><h1 id="e11e" class="lq lr jb bd ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn bi translated">结论</h1><p id="1b15" class="pw-post-body-paragraph jy jz jb ka b kb mo kd ke kf mp kh ki kj mq kl km kn mr kp kq kr ms kt ku kv ij bi translated">我们倾向于使用准确性，因为每个人都知道它意味着什么，而不是因为它是完成任务的最佳工具！虽然更适合的度量标准，如召回率和精确度，可能看起来很陌生，但我们已经有了一个直观的感觉，为什么它们更适合一些问题，如不平衡的分类任务。统计学为我们提供了计算这些度量的正式定义和方程式。<a class="ae kw" href="https://www.datacamp.com/community/podcast/data-science-astronomy" rel="noopener ugc nofollow" target="_blank">数据科学</a>是关于了解用于某项工作的正确工具，在开发分类模型时，我们通常需要超越准确性。了解了召回率、精确度、F1 和 ROC 曲线后，我们可以评估分类模型，并对任何只吹捧模型准确性的人持怀疑态度，特别是对于不平衡的问题。正如我们所看到的，准确性并不能对几个关键问题提供有用的评估，但是现在我们知道如何使用更智能的指标了！</p><p id="48d9" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一如既往，我欢迎建设性的批评、反馈和讨论。可以通过 Twitter <a class="ae kw" href="https://twitter.com/koehrsen_will" rel="noopener ugc nofollow" target="_blank"> @koehrsen_will </a>找到我。</p></div></div>    
</body>
</html>