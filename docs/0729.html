<html>
<head>
<title>Data Cleaning 101</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据清理101</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-cleaning-101-948d22a92e4?source=collection_archive---------1-----------------------#2017-06-14">https://towardsdatascience.com/data-cleaning-101-948d22a92e4?source=collection_archive---------1-----------------------#2017-06-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="5bfd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">早在12月份，我就宣布我将离开劳联-产联，去参加大会学习。我的领导要求我做几件事:我写的几个脚本的文档，创建一个包含我所有重要文件的文件夹，将管理员凭据转移给其他员工，等等。我唯一不能给他们的是如何有效清理数据的指南。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/130ba6d38b0ad005f39897444448c093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CcyhrT8OdcChYrrfVhmEeQ.jpeg"/></div></div></figure><p id="a743" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我的上一份工作中，数据清理是一项非常重要的技能，因为我们会从各种政府机构和客户IT商店获取数据。我总是愿意花更多的时间来确保数据是干净的，而不是与客户进行困难的(但在使用建模的大数据环境中是不可避免的)对话，以了解为什么某些记录会丢失。</p><p id="442c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我给我的前雇主这个指南的困难是你的方法取决于你拥有的数据和你的最终目标。尽管困难重重，但这是我对如何清理数据的指导方针的最好尝试。</p><p id="55ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你现在看到的有意义吗？</p><p id="ba89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看一下数据。如果这是一个大型数据集，看一看前20行、后20行和一个20行随机样本。下面是你应该问自己的问题，用项目符号表示。相应的示例用双星号**表示。</p><ul class=""><li id="2e6e" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">我看到的有意义吗？</li><li id="d472" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">数据与列标签匹配吗？</li></ul><p id="a55a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**姓名栏中是否有姓名，地址栏中是否有地址，电话号码栏中是否有电话号码？还是各列有不同的数据？</p><ul class=""><li id="7f2b" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">数据是否遵守其领域的适当规则？</li></ul><p id="e244" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**一个名字中的字符是只有字母(Brendan)还是有数字在里面(B4rendan)？</p><p id="b0f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**电话号码的数字部分是10位数字(5558675309)还是不是(675309)？</p><ul class=""><li id="bb12" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">计算数字数据的汇总统计数据。它们有意义吗？</li></ul><p id="168a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**如果你处理的是经过的时间数据，最小值是负数(- 10秒)？</p><p id="924c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">**如果你在处理蓝领工人的年度工资数据，最大值(100万美元)是否有些奇怪？</p><ul class=""><li id="b61c" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">看看有多少值是nulls？空值的数量可以接受吗？哪里有空值，有什么模式吗？</li><li id="f7c4" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">有重复的吗，可以吗？</li></ul><p id="eb4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">如果您有足够的信息，请更正数值</strong></p><p id="0c11" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你对数据的问题进行了评估，就要考虑你想如何修正它。一些修正可能是显而易见的。如果name列的值是B4rendan，则该值很可能是Brendan。</p><p id="cffc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，有些修正可能并不明显。假设你有一个超过50万人的数据集，其中一个人的名字是梅尔特。你可能会认为这是一个错别字，实际上应该说伯特。如果您事先知道这是一个错误(即您知道记录属于谁)，您可以进行更改。但是，除非你对自己的假设有足够的信心，否则你可能不应该修改，否则你可能会造成一个错别字，而不是纠正一个。</p><p id="5f6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">试着看看数据问题中是否有逻辑，并对其进行更正。比方说，如果您的系统只接受仅包含数字字符的电话号码，但您的数据集包含格式为so (555)867-5309的电话号码，您可以使用Excel/Python对所有括号和破折号进行查找和替换。</p><p id="dd8b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果可以，使用相同的逻辑为空数值填充数据。但是，如果没有条件逻辑，您可以通过其他方式填写数据。一种常见的方法是使用列的平均值或中值来填充空值，这很容易，但可能会影响该列中数据的分布。还有更复杂但在统计学上有效的方法来填充数据，比如<a class="ae ll" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3074241/" rel="noopener ugc nofollow" target="_blank">老鼠</a>。您还应该考虑创建一个元数据列，指示哪些值是估算的，哪些值是有机的。不管使用何种统计方法，如果某一列有大量缺失数据，最好在分析中放弃使用它。</p><p id="c752" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">使用有意义的工具</strong></p><p id="9dfd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">思考实现目标所需的工具可以节省你重复这个过程的时间。每种工具都有利弊，下面是我的经验法则:</p><p id="edda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">何时可以使用Excel:</p><ul class=""><li id="47e4" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">你只有不到一百万条记录</li><li id="0315" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">你需要轻松快捷地完成这项工作</li><li id="1f11" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">清理数据有一个逻辑模式，使用Excel函数清理很容易</li><li id="74cf" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">清理数据的逻辑模式很难定义，您需要手动清理数据</li></ul><p id="ed3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您可能使用Python或其他脚本语言时:</p><ul class=""><li id="5ef4" class="kx ky iq jp b jq jr ju jv jy kz kc la kg lb kk lc ld le lf bi translated">你需要记录你的过程</li><li id="3fa0" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">你打算重复做这项工作</li><li id="31cd" class="kx ky iq jp b jq lg ju lh jy li kc lj kg lk kk lc ld le lf bi translated">清理数据有一个逻辑模式，但是很难用Excel函数实现</li></ul><p id="fa2f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这也取决于你更喜欢哪种工具。当我开始学习编程时，当我需要清理数据时，我非常依赖Excel。当我开始处理更大的数据集并且必须将我的过程常规化时，我转向了Python。</p><p id="d07c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">与源头沟通</strong></p><p id="db41" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有一次，当我度假回来时，我的同事们对来自马里兰州选举委员会的一个数据集有疑问。他们需要数据集中每条记录的县，但州政府只给了我们每个县的代码，而且他们与FIPS人口普查局的代码不匹配。所以我打电话给产生该数据集的政府机构，结果发现代码是按字母顺序排列的县。阿勒格尼是01，安妮·阿伦德尔是02，巴尔的摩市(独立城市)是03，以此类推。</p><p id="981b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不要害怕拿起电话或发电子邮件给数据的来源。如果您是数据源的客户，尤其如此，因为您有权获得清晰的信息。从长远来看，这种交流可以减少很多心痛。</p><p id="fb80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是我清理数据的方法，但绝对不是唯一的方法。我鼓励任何人在评论区张贴他们清理数据的技巧和诀窍。</p></div></div>    
</body>
</html>