<html>
<head>
<title>DFL &gt; DNF &gt; DNS?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DFL &gt; DNF &gt; DNS？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dfl-dnf-dns-60969b9e995d?source=collection_archive---------1-----------------------#2017-10-08">https://towardsdatascience.com/dfl-dnf-dns-60969b9e995d?source=collection_archive---------1-----------------------#2017-10-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="034d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">去年，我按下了人生的暂停键，搬到了西雅图，当时是暂时的。我参加了enlight数据科学沉浸式项目，并在接下来的3个月里努力工作，尽情玩耍。</p><p id="0a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我对“玩”有一种扭曲的看法。我喜欢跑步。你可能会说，这不奇怪…</p><p id="f48f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯，我喜欢在小径上跑步…在小径上跑很远，一口气跑100英里远(在那个距离上，我是8投5中)。我渴望有一天能一口气跑200英里。它让我能够测试可能的界限，探索自我的深度。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/cc2913a30370ac729c286b8db594e1b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVqlNOTg64q2Y9xmwLYorQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Mile 60 of 2016 Rocky Raccoon 100 Miler. Joy displayed may be related to the fauxhawk?</figcaption></figure><p id="c785" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很自然地，当它来到我的顶点项目时，我想要融入我对(愚蠢的)长距离越野跑和数据科学的热爱。我只是需要正确的“业务问题”…</p><p id="4e2f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">围绕着极端分子有一个共同的咒语:</p><blockquote class="lb"><p id="b145" class="lc ld iq bd le lf lg lh li lj lk kk dk translated">DFL &gt; DNF &gt; DNS</p></blockquote><blockquote class="ll lm ln"><p id="33c2" class="jn jo lo jp b jq lp js jt ju lq jw jx lr ls ka kb lt lu ke kf lv lw ki kj kk ij bi translated">"死在最后，总比没有完成好，总比没有开始好."</p></blockquote><h1 id="7f4b" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">这对赛事总监来说意味着什么？</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mv"><img src="../Images/4ecc654d73df77dca4d4f22464a2917f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jU9aMJFV4U6noGsK."/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Monte Carlo Simulation for 2017 Western States Endurance Run Lottery, I had 9.6% odds of entry.</figcaption></figure><p id="f3a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好吧，信不信由你，很多比赛很快就卖光了！知名度较高的已经上了彩票系统。三年多来，我一直试图参加西部各州的耐力赛。</p><p id="f66d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">了解有多少人不会出现，对于赛事总监来说是很重要的，以判断需要多长时间做一份等待名单，或者一般情况下允许多少人参加比赛。</p><p id="99c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我可以讲述一个神奇的故事，我是如何根据人们以前的表现对他们进行分类，以映射他们开始100英里的倾向。</p><p id="6d3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">人类行为是最难建模的主题之一。</p><p id="cd7a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">见鬼，我们还没有掌握股票市场的建模。</p><p id="b8de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">试图确定一个特定的超跑者是否会出现在刘李120的起跑线上几乎是不可能的，比如一个35岁的男性，他的表现略高于平均水平，已经参加了15场比赛。</p><p id="dfc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我相信这可以归结为:</p><ol class=""><li id="ed36" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">如果有办法，超跑者将开始一场比赛。相对而言，很少有人在大型100英里比赛中使用域名系统。<strong class="jp ir"> <em class="lo">即使训练不足或者受伤，他们也会首发，但是DNF到时候</em> </strong>。(同样，DFL &gt; DNF &gt; DNS)</li><li id="4994" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">根据有限的人口统计数据，预测生活环境极其困难。我不知道每个人靠什么谋生，也不知道他们的家庭结构是什么样子。<strong class="jp ir"> <em class="lo">未开始的最常见原因是由于最后一分钟的工作或家庭义务，这在我的模型中没有考虑。</em>T9】</strong></li></ol><p id="9803" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">但并不意味着我没有尝试过。在这个项目中，我非常努力地对个人跑步者进行分类，并取得了一些成功。我还想模拟对赛事总监的财务影响，将结果放入可操作的环境中。</p><h1 id="abad" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">方法:</h1><p id="059a" class="pw-post-body-paragraph jn jo iq jp b jq nk js jt ju nl jw jx jy nm ka kb kc nn ke kf kg no ki kj kk ij bi translated">如果你不是一个数据人员，如果你愿意，请继续阅读，但这是我要花几分钟时间进行技术分析的地方。对于数据爱好者，这里有一些细节…</p><p id="0438" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">技术栈</strong> — Python (pandas，scikitlearn，matplotlib，Flask)，AWS，Javascript/Ajax，Django</p><p id="f19f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> Webscraping </strong> —从ultrasignup.com收集39场比赛和&gt; 10，000名运动员成绩的Python脚本。结果是json格式的文件，我将其解析成pandas数据帧。</p><p id="0129" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数据清理/特征工程</strong>——有一次在Python中，我清理了数据，做了一些特征工程。其中一些功能有效(以前的域名数)，一些功能相关性很小(年龄组)。总的来说，我的模型有12个特征，包括比赛特征(季节，它卖完了吗，等等。)和个人特征(ultrasignup运动员排名、性别、年龄等。).</p><p id="9a4c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">建模</strong> —在这种状态下，我实现了三个不同的模型，一个简单的逻辑回归、一个随机森林和一个来自Python的scikitlearn包的梯度增强分类器。我试图使用网格搜索方法优化每个参数。</p><p id="16d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">结果</strong> —正如预测的那样，梯度增强分类器产生了本研究的最佳预测。根据我的测试/训练划分，我使用10倍交叉验证获得了大约0.67-0.70的AUC分数。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/b57b62757c41309aed52093e48d4e60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFRJmkH4Uqsz9bA5JklYXQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Results from test data split</figcaption></figure><p id="9e05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，由于DNS类别的高度不均衡性，AUC分数具有误导性。在任何给定的种族域名系统中只有约5%。由于比赛只有100-250名参赛者，这就造成了一种情况，你可以得到很好的分数(很难不去猜测95%的参赛者中的大多数)，但仍然会错误地分类那些实际上是DNS的参赛者。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi np"><img src="../Images/d16ddb3e628a2068fdc388eb202b431b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gE03ssjQ5Xki2cpvYIFBDA.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">It performed pretty well, but still only modeled a profit equivalent to a single race entry.</figcaption></figure><p id="ea10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我用这个模型来看看它在我用来训练模型的比赛之外是否有预测能力。再一次，由于职业的平衡，我看起来有很好的结果，通过使用这个模型，我可以节省大约250美元。这相当于平均100英里比赛的一次报名费。</p><blockquote class="lb"><p id="464c" class="lc ld iq bd le lf lg lh li lj lk kk dk translated">因此，如果我不能可靠地预测某人是否会出现在起跑线上，并且对赛事总监来说成本节约是最小的，<strong class="ak"> <em class="nq">我能预测运动员是否会完成比赛吗？</em>T13】</strong></p></blockquote><h1 id="a6c8" class="lx ly iq bd lz ma mb mc md me mf mg mh mi nr mk ml mm ns mo mp mq nt ms mt mu bi translated">预测DNF氏症</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/ae75d4c61288db9f9771062ed98cc8e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*I-tO_KGbWk8idmZEt0CAAQ.jpeg"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">I DNF’d this race…wonder why? Not shown, second fracture in tibia.</figcaption></figure><p id="e1d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大多数(如果不是全部的话)超跑者想知道他们完成比赛的实际机会。在确定我们的现实机会时，我们会查看DNF每年关于我们感兴趣的比赛的统计数据。许多100英里赛跑只有不到50%的参与者跑完全程。 </p><h1 id="b336" class="lx ly iq bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated"><strong class="ak">DNFs的原因多种多样，包括:</strong></h1><ol class=""><li id="1177" class="mw mx iq jp b jq nk ju nl jy nv kc nw kg nx kk nb nc nd ne bi translated">受伤——无论是在比赛中还是在比赛过程中，我左边的受伤发生在比赛的第5英里</li><li id="5469" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">训练不足——很多时候人们不得不提前一年报名参加比赛。你永远不知道在比赛日之前的几个月里你的时间表会是怎样的，所以这导致生活妨碍了训练。</li><li id="d125" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">分界点——一些比赛有激进的中间分界点。由于各种各样的情况(天气、营养等)。)跑步者可能错过这些中间的一个终点，并被迫退出比赛。</li></ol><p id="9c5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我发现社区对预测他们是否能完成一场比赛的兴趣比赛事总监优化他们的赛事后勤更大。</p><p id="3334" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，我做了任何好奇的超跑者都会做的事情，我使用我已经准备好的数据，创建了一个预测模型，用于完成模型中训练的一场比赛！</p><p id="aafd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，梯度增强分类器在我运行的模型中表现最好。</p><p id="6945" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的DNF模型的AUC得分为0.64，低于我的DNS模型的0.67–0.70。然而，我认为这是一个很好的结果，原因有二:</p><ol class=""><li id="fc2c" class="mw mx iq jp b jq jr ju jv jy my kc mz kg na kk nb nc nd ne bi translated">它的表现好于50/50，这是人们所希望的(我没有屏住呼吸)</li><li id="67b7" class="mw mx iq jp b jq nf ju ng jy nh kc ni kg nj kk nb nc nd ne bi translated">与DNS模型相比，它在预测谁能完成<strong class="jp ir"> <em class="lo">和</em> </strong>方面做得更好</li></ol><p id="6dac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另外，它给了我一个很好的借口来制作一个有趣的webapp！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ny"><img src="../Images/5a26cd05fa88c394f8c9181e2f25f25c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lHTEaFt533Nt3ljL."/></div></div></figure><p id="3bc2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于我用来训练模型的比赛，我能够将模型集成到webapp中，以计算完成比赛的条件概率，只要训练得当。除了种族特有的特征之外，我使用每个年龄和性别的平均表现来输入模型。</p><p id="f91a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为此，我需要学习一点Javascript/Ajax(使用Django)来将webapp集成到我的AWS托管模型中。</p><p id="026f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总之，这是一个有趣的2周激情项目，圆满结束了我在镀锌的时间。我展示了我从业务问题开始，构建我的建模方法并在终端产品中部署结果的能力。</p><p id="ef63" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在掷骰子看看我是否能在11月完成我的下一个100英里跑，里约德尔拉戈…</p><p id="fb5c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果我有先见之明，用我的DNF模型训练这场比赛…</p><p id="d045" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也许是时候做更多的网络搜集了！</p><p id="f628" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">阅读我在Galvanize的经历:<a class="ae nz" href="https://medium.com/towards-data-science/galvanizing-my-skills-a4b4d1175cb4" rel="noopener">https://medium . com/forward-data-science/galvanizing-my-skills-a4b4d 1175 cb4</a></p><p id="51b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关于我的项目的更多细节，请访问我的Github回购:<a class="ae nz" href="https://github.com/ophiolite/ultrasignup" rel="noopener ugc nofollow" target="_blank">https://github.com/ophiolite/ultrasignup</a></p><p id="8d73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要使用webapp，请访问:<a class="ae nz" href="http://endurostew.com/" rel="noopener ugc nofollow" target="_blank">http://endurostew.com/</a></p></div></div>    
</body>
</html>