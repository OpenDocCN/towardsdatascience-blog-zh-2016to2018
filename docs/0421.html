<html>
<head>
<title>Tracking a self-driving car with high precision</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">高精度跟踪自动驾驶汽车</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/helping-a-self-driving-car-localize-itself-88705f419e4a?source=collection_archive---------2-----------------------#2017-05-01">https://towardsdatascience.com/helping-a-self-driving-car-localize-itself-88705f419e4a?source=collection_archive---------2-----------------------#2017-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b00b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">第六章:用数据做酷事！</em></p><p id="30b2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">定位</em>，或者知道“我在哪里”对于自动驾驶汽车来说至关重要。每时每刻它都需要知道自己在世界的哪个角落。当我们开车时，我们使用GPS和地图应用程序来知道我们的车在哪里。但是GPS的精度是1-3米，有时更高。这不适用于自动驾驶汽车，因为这是车道的宽度。汽车可能偏离车道，这是很危险的。自动驾驶汽车需要更高的精度——小于10厘米。在这里，我们将讨论一种称为粒子过滤器的技术，它可以用来帮助汽车在地图中定位自己。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/b5e6d5cf18a5be7d568fb61e2349d1fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jujGvB_S9lQGtioc_Zbbw.png"/></div></div></figure><p id="9a62" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我实现了一个粒子过滤器，可以跟踪一辆平均x误差和y误差小于0.07的汽车。我已经用C++分享了我的<a class="ae ky" href="https://github.com/priya-dwivedi/CarND-Kidnapped-Vehicle-Project" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> GitHub </strong> </a>的链接和完整代码。</p><p id="07d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个视频，展示了粒子过滤器在模拟环境中跟踪汽车的过程。圆形点是地图上的地标，绿线是从汽车到这些地标的激光传感器。蓝色圆圈是追踪汽车的最近的粒子。请注意粒子与实际汽车的轨迹有多接近。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="kz la l"/></div></figure><p id="8426" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">粒子过滤器是如何工作的。首先，我们有一张世界地图。该地图具有地标，可以是房屋、建筑物、灯柱等。我们知道这些地标在地图上的位置</p><ol class=""><li id="2427" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated">我们用随机放置在地图周围的N个粒子初始化我们的地图。把这些微粒想象成汽车可能的位置。开始时，我们不知道汽车在地图上的位置，所以所有粒子被赋予相同的权重，这意味着它们有相同的概率来表示汽车的真实位置</li><li id="1d4b" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">在每个时间步，汽车移动。我们的传感器告诉我们汽车行驶的速度和角度。我们将每个粒子移动与汽车相同的距离和方向。这被称为<strong class="jp ir">预测</strong>步骤</li><li id="cdd7" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">现在进入<strong class="jp ir">测量</strong>步骤。使用激光雷达，我们测量汽车到地图上已知地标的距离。</li></ol><p id="59f8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">激光雷达使用激光进行测量，并生成周围世界的点云，为汽车提供相当准确的x位置和y位置值。然而，激光雷达在恶劣的天气条件下或传感器变脏时不是很准确。</p><p id="19ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是激光雷达点云的图像</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/4d85efd9cb024c52eef7ff6e7b4a93a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*FYZx7k6_sYyDrdUemoqHMg.jpeg"/></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">LIDAR point cloud</figcaption></figure><p id="bca5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在到了关键的一步。对于每个粒子，我们计算该粒子和地图中已知地标之间的距离。我们比较这个距离与来自汽车的激光雷达测量值的接近程度，并使用它来分配粒子的权重。更接近实际汽车的粒子将被赋予更高的权重。</p><p id="b2df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">应用激光雷达测量时需要注意几个实际问题:</p><p id="c34c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">I)数据关联-多个激光雷达测量可以与每个地标相关联。如果是这种情况，我们使用最近邻选择距离地标最近的激光雷达读数作为激光雷达读数，如下图所示</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi lu"><img src="../Images/e082c450d78bc103d6457a30ab3e63c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*608wiPu4oZ5IKIbzGMApNA.png"/></div></div><figcaption class="lq lr gj gh gi ls lt bd b be z dk">Data Association</figcaption></figure><p id="2bd9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">ii)变换-当从汽车上进行激光雷达测量时，它们的x和y位置将参考汽车，这被称为汽车的局部坐标。这些需要通过考虑汽车/粒子的位置来转换成全局“地图”坐标</p><p id="5a0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.我们对粒子进行重新采样，使得具有较高权重的粒子(因此更有可能接近汽车的真实位置)被挑选出来，而具有较低权重的粒子被丢弃。</p><p id="3f10" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我们回到步骤2，重复这个过程。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/e8c8f4a4e0e17bca34d2b3b59a8fc20d.png" data-original-src="https://miro.medium.com/v2/resize:fit:914/format:webp/1*4Gb9dPAE7n-waW-BkM763g.png"/></div></figure><p id="56cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这项技术可以很快帮助我们定位汽车。</p><p id="fee1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有个有趣的问题？—我们如何将这项技术用于行驶在城市A和城市B之间的真正自动驾驶汽车？粒子滤波器假设我们有一张世界地图，上面有许多地标的已知位置。我们如何确定数百个地标的位置并将其输入汽车？</p><p id="799c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谷歌汽车使用的一种方法是将汽车摄像头的图像与谷歌地图街景的图像进行匹配。这被用来生成地标和定位汽车。一些供应商也在用这些信息制作详细的世界地图</p><p id="0064" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，建立我的第一个粒子过滤器并用它来定位是一次很棒的经历。</p><p id="711e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">PS:我住在多伦多，我希望将职业生涯转向深度学习。如果你喜欢我的帖子，并能把我联系到任何人，我将不胜感激:)。我的电子邮件是priya.toronto3@gmail.com</p><p id="b13a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">其他著述</strong>:【https://medium.com/@priya.dwivedi/】T2</p><p id="38c2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">参考文献:</strong></p><p id="375a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ky" href="https://www.udacity.com/" rel="noopener ugc nofollow" target="_blank"> Udacity </a>无人驾驶汽车Nano Degree——我感谢Udacity和巴斯蒂安·特龙给我机会成为他们新的无人驾驶汽车项目的一部分。这是一次非常有趣的旅程。我使用的大部分代码都是在课堂讲课中建议的。这里的图片和视频参考也在讲座中分享</p></div></div>    
</body>
</html>