<html>
<head>
<title>Pandas DataFrame: A lightweight Intro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫数据框架:轻量级介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pandas-dataframe-a-lightweight-intro-680e3a212b96?source=collection_archive---------1-----------------------#2018-09-07">https://towardsdatascience.com/pandas-dataframe-a-lightweight-intro-680e3a212b96?source=collection_archive---------1-----------------------#2018-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c6782ca899ea9e644e8047d8c016be64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b_h_wRY1xawYcmTwbgbS7w.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Introduction to Pandas → The Pandas DataFrame by @DakshHub</figcaption></figure><div class=""/><blockquote class="kc"><p id="77e7" class="kd ke jf bd kf kg kh ki kj kk kl km dk translated">Pandas 是一个开源的、BSD 许可的库，为 Python 编程语言提供了高性能、易于使用的数据结构和数据分析工具。</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="670b" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">Pandas 提供的数据结构有两种不同的类型</p><ol class=""><li id="4981" class="lr ls jf kw b kx ky lb lc lf lt lj lu ln lv km lw lx ly lz bi translated"><strong class="kw jg"> <em class="ma">熊猫数据帧&amp; </em> </strong></li><li id="f4c9" class="lr ls jf kw b kx mb lb mc lf md lj me ln mf km lw lx ly lz bi translated"><strong class="kw jg"> <em class="ma">熊猫系列</em> </strong></li></ol><p id="67ed" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">我们将在本帖中查看<strong class="kw jg"> <em class="ma">熊猫数据帧</em> </strong>。</p><blockquote class="mg mh mi"><p id="d889" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">学习熊猫(包括官方文档)的总趋势是先进入<strong class="kw jg">熊猫系列</strong>，再进入<strong class="kw jg">熊猫数据框</strong>。然而，在使用熊猫很长时间后，我确信我们应该从熊猫数据框架开始。一旦我们熟悉了<strong class="kw jg">熊猫数据框架，熊猫系列</strong>背后的概念和基本原理就会变得清晰易懂。</p></blockquote></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="568a" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">什么是数据帧？</h2><p id="5d6d" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">这是技术定义的样子</p><blockquote class="mg mh mi"><p id="b249" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">Pandas DataFrame 是一个带有潜在不同类型列的二维标签数据结构。</p></blockquote><p id="9dd1" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">你应该这样理解它</p><blockquote class="mg mh mi"><p id="2400" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">Pandas DataFrame 只不过是一个通过 Python 编程语言在内存中表示的 excel 表格</p></blockquote><p id="d7ac" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">所以，<strong class="kw jg"> <em class="ma">熊猫数据框</em> </strong>类似于 excel 表格，看起来是这样的</p><figure class="nl nm nn no gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/1b36c5990b6aac4ea79c2b4e66219d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*btF47oH4wu-DMi6CGQeyhg.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">A Panda DataFrame ( An In-Memory representation of Excel Sheet)</figcaption></figure><p id="b335" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">就像 excel 一样，<strong class="kw jg"><em class="ma">Pandas data frame</em></strong>提供了各种功能来分析、更改和从给定的数据集中提取有价值的信息。</p><h2 id="4f3b" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">如何创建熊猫数据框架？</h2><p id="768c" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">在现实世界中，通过从持久存储中加载数据集，包括但不限于 excel、csv 和 MySQL 数据库，将创建一个<strong class="kw jg"><em class="ma">Panda data frame</em></strong>。</p><blockquote class="kc"><p id="8b7c" class="kd ke jf bd kf kg np nq nr ns nt km dk translated">然而，为了帮助你更好地理解它，我将在这里使用 Python 数据结构(字典和列表)。</p></blockquote><p id="fa92" class="pw-post-body-paragraph ku kv jf kw b kx nu kz la lb nv ld le lf nw lh li lj nx ll lm ln ny lp lq km ij bi translated">如上面的 excel 表格所示，如果我们将列名视为<strong class="kw jg"> <em class="ma">【键】</em> </strong>，并将该列下的项目列表视为<strong class="kw jg"> <em class="ma">【值】</em> </strong>，我们可以轻松地使用 python 字典来表示相同的</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="dbaf" class="mm mn jf oa b gy oe of l og oh">my_dict = { <br/>     'name' : ["a", "b", "c", "d", "e","f", "g"],<br/>     'age' : [20,27, 35, 55, 18, 21, 35],<br/>     'designation': ["VP", "CEO", "CFO", "VP", "VP", "CEO", "MD"]<br/>}</span></pre><p id="757f" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">我们可以从这个字典中创建一个<strong class="kw jg"> <em class="ma">熊猫数据帧</em> </strong>作为</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="4104" class="mm mn jf oa b gy oe of l og oh">import Pandas as pd</span><span id="d8eb" class="mm mn jf oa b gy oi of l og oh">df = pd.DataFrame(my_dict)</span></pre><p id="4d25" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">生成的数据框架应该类似于我们在上面的 excel 表格中看到的</p><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/02d32f2744fa565e326f4689fe03b3e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*jC2xK69ivey3Kba60Peeuw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Result of -&gt; df = pd.DataFrame(my_dict)</figcaption></figure><blockquote class="mg mh mi"><p id="c227" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">有可能这些列没有按照字典中定义的顺序排列，因为 python 将字典实现为 hash，并且不保证保留顺序。</p></blockquote><h2 id="e9eb" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">行索引→</h2><blockquote class="mg mh mi"><p id="3022" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">由于我们没有向<strong class="kw jg">数据帧</strong>提供任何行索引值，它会自动生成一个序列(0…6)作为行索引。</p></blockquote><p id="880d" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">为了提供我们自己的行索引，我们需要将<code class="fe ok ol om oa b">DataFrame(...)</code>函数中的<code class="fe ok ol om oa b">index</code>参数作为</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="bded" class="mm mn jf oa b gy oe of l og oh">df = pd.DataFrame(my_dict, index=[1,2,3,4,5,6,7])</span></pre><p id="3080" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">索引不需要一直是数字，我们也可以通过字符串作为索引。例如</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="6b21" class="mm mn jf oa b gy oe of l og oh">df = pd.DataFrame(<br/>     my_dict, <br/>     index=["First", "Second", "Third", "Fourth", "Fifth", "Sixth", "Seventh"]<br/>)</span></pre><p id="430c" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">正如您可能已经猜到的那样，索引本质上是<strong class="kw jg"><em class="ma"/></strong>，这意味着我们也可以使用<strong class="kw jg"> <em class="ma"> NumPy 数组</em> </strong>作为索引。</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="b2f7" class="mm mn jf oa b gy oe of l og oh">np_arr = np.array([10,20,30,40,50,60,70])<br/>df = pd.DataFrame(my_dict, index=np_arr)</span></pre></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="bc30" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">熊猫数据框的列</h2><p id="01ab" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">与 python 列表或字典不同，就像<strong class="kw jg"><em class="ma">NumPy</em></strong>,<strong class="kw jg"><em class="ma">data frame</em></strong>的一列将始终是同一类型。</p><p id="e514" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">我们可以使用类似字典的语法或者使用 DataFrame <code class="fe ok ol om oa b">.</code>添加列名来检查列的数据类型</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="fc5a" class="mm mn jf oa b gy oe of l og oh">df['age'].dtype    # Dict Like Syntax</span><span id="b7f8" class="mm mn jf oa b gy oi of l og oh">df.age.dtype       # DataFrame.ColumnName<br/>df.name.dtype      # DataFrame.ColumnName</span></pre><p id="a3be" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">如果我们想检查<strong class="kw jg"><em class="ma"/></strong>数据框内所有列的数据类型，我们将使用<strong class="kw jg"> <em class="ma">数据框</em> </strong>的<code class="fe ok ol om oa b">dtypes</code>函数作为</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="ebef" class="mm mn jf oa b gy oe of l og oh">df.dtypes      </span></pre><p id="cd33" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">它将所有列的类型显示为</p><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi on"><img src="../Images/dcd057bef8a21d96086c5be3b2b47632.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*fOzi96Pix546jYvoQGlNGA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Displaying Types of all Columns</figcaption></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="4b48" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">查看数据帧的数据</h2><p id="d065" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">在任何时间点，<strong class="kw jg"> <em class="ma">熊猫数据帧</em> </strong>将包含数百(如果不是数千)行数据。我们只能在任何时间点选择性地查看它们。</p><blockquote class="mg mh mi"><p id="8f02" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">为了有选择地查看行，我们可以使用<strong class="kw jg"> <em class="jf"> head(…)和 tail(…) </em> </strong>函数，这些函数默认给出前五行或后五行(如果没有提供输入)，否则从顶部或底部显示具体的行数</p></blockquote><p id="2f87" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">下面是它显示内容的方式</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="d460" class="mm mn jf oa b gy oe of l og oh">df.head()   # Displays 1st Five Rows</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/bb9f96157c305ba4926a3eba0aa0591a.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*MlSUnh-65LN7WY2UB8YTfQ.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.head()</figcaption></figure><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="8da7" class="mm mn jf oa b gy oe of l og oh">df.tail()    # Displays last Five Rows</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi op"><img src="../Images/1063c4105430f42e6c4d798c9b2c2cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*twpcUUpni2aW-7HYsv5T2g.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.tail()</figcaption></figure><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="98fa" class="mm mn jf oa b gy oe of l og oh">df.head(2)   # Displays 1st two Rows</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/bae1f748a24618e4b1747fb3c48c09f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*nqebS55kj6tOYiiq7GCRyg.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.head(2)</figcaption></figure><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="4349" class="mm mn jf oa b gy oe of l og oh">df.tail(7)     # Displays last 7 Rows</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi or"><img src="../Images/1863c4a13120dd2db3844d51969c95ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*oHqLp3P_Ksspzym8pugpXQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.tail(7)</figcaption></figure><p id="0878" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">这都是关于数据的，但是，如果我们想看到行索引和列名呢？<strong class="kw jg"> <em class="ma">熊猫数据框</em> </strong>提供了查看它们的特定功能</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="a84c" class="mm mn jf oa b gy oe of l og oh">df.index     # For Row Indexes</span><span id="6599" class="mm mn jf oa b gy oi of l og oh">df.columns   # For Columns</span></pre><h2 id="c825" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">熊猫数据框架列助手函数</h2><p id="0577" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated"><strong class="kw jg"><em class="ma">Pandas data frame</em></strong>提供了各种列助手函数，对于从列中提取有价值的信息非常有用。其中一些是</p><p id="2702" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated"><code class="fe ok ol om oa b">unique</code> →通过删除重复项来提供列中的唯一元素。例如</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="45fb" class="mm mn jf oa b gy oe of l og oh">df.designation.unique()</span></pre><p id="0fbe" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated"><code class="fe ok ol om oa b">mean</code> →提供该列中所有项目的平均值。例如</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="f14e" class="mm mn jf oa b gy oe of l og oh">df.age.mean()</span></pre></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="3b03" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">使用列作为行索引</h2><p id="9254" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">大多数情况下，给定的数据集已经包含一个行索引。在那些情况下，我们不需要<strong class="kw jg"><em class="ma">Pandas data frame</em></strong>来生成单独的行索引。</p><blockquote class="kc"><p id="5dc6" class="kd ke jf bd kf kg np nq nr ns nt km dk translated">这不仅是一个冗余信息，而且占用了不必要的内存。</p></blockquote><p id="82bd" class="pw-post-body-paragraph ku kv jf kw b kx nu kz la lb nv ld le lf nw lh li lj nx ll lm ln ny lp lq km ij bi translated">Pandas DataFrame 允许将任何现有列或一组列设置为行索引。下面是如何使用前面创建的<strong class="kw jg"> <em class="ma">熊猫</em></strong><strong class="kw jg"><em class="ma">data frame</em></strong>的列(使用字典<code class="fe ok ol om oa b">my_dict</code></p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="c952" class="mm mn jf oa b gy oe of l og oh">df = pd.DataFrame(my_dict)</span><span id="9664" class="mm mn jf oa b gy oi of l og oh">df.set_index("name")</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi os"><img src="../Images/2854d72184a4902f83daf93a5ef252b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*VF_GQi_lw4vGoBEyARlvHA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.set_index(“name”)</figcaption></figure><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="901f" class="mm mn jf oa b gy oe of l og oh">df.set_index("age")</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/f60acfb4d4212fed8aaa39a876391aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*pZ5UW5jFhlNMFhGL-y9fnQ.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.set_index(“age”)</figcaption></figure><p id="a595" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">我们可以通过传递一个列表将多个列设置为索引</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="b581" class="mm mn jf oa b gy oe of l og oh">df.set_index(["name","age"])</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/057ddd97082862097387f5042565ae90.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*J-c3CcEDNNaIi2E-tjgqIw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df.set_index([“name”,”age”])</figcaption></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="234c" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">在数据框架中加载选择的列</h2><p id="babe" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">任何数据分析活动都需要数据清理，我们很可能会得出结论，从需要分析的数据集中排除一些列。</p><blockquote class="kc"><p id="c926" class="kd ke jf bd kf kg np nq nr ns nt km dk translated">这不仅节省了内存，而且有助于分析感兴趣的数据</p></blockquote><p id="1640" class="pw-post-body-paragraph ku kv jf kw b kx nu kz la lb nv ld le lf nw lh li lj nx ll lm ln ny lp lq km ij bi translated">我们将使用相同的字典来加载<strong class="kw jg"><em class="ma">Pandas DataFrame</em></strong>，但是这次我们将指定将成为 data frame 一部分的列</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="fe08" class="mm mn jf oa b gy oe of l og oh">df = pd.DataFrame(my_dict, columns=["name", "age"])</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/4754e2036ab330965490116c7fc70737.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*tCw96jIjLQZ8pHoxjrwqjg.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df = pd.DataFrame(my_dict, columns=[“name”, “age”])</figcaption></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="c956" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">从数据帧中删除行和列</h2><p id="8acd" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated"><strong class="kw jg"> <em class="ma">熊猫 DataFrame </em> </strong>提供了多种删除行和列的方式。选择一个而不是另一个并没有功能上的损失。你可以使用任何你觉得舒服的语法。</p><p id="25dd" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated"><strong class="kw jg"> <em class="ma">使用字典语法→要删除一列，我们就用</em> </strong> <code class="fe ok ol om oa b"><strong class="kw jg"><em class="ma">del</em></strong></code> <strong class="kw jg"> <em class="ma">作为</em> </strong></p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="7946" class="mm mn jf oa b gy oe of l og oh">del df['name']</span></pre><p id="61f5" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated"><strong class="kw jg"> <em class="ma">使用</em> </strong> <code class="fe ok ol om oa b"><strong class="kw jg"><em class="ma">Drop</em></strong></code> <strong class="kw jg"> <em class="ma">功能→允许我们删除列以及行</em> </strong></p><p id="45f6" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">我们是删除行还是列由<code class="fe ok ol om oa b">drop</code>函数中的第二个参数决定。</p><blockquote class="mg mh mi"><p id="4e4c" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">函数<code class="fe ok ol om oa b">drop(...)</code>中的第二个参数<strong class="kw jg">“1”</strong>表示删除“列”，而<strong class="kw jg">“0”</strong>表示删除“行”</p></blockquote><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="902b" class="mm mn jf oa b gy oe of l og oh"># Delete Column "age"</span><span id="042e" class="mm mn jf oa b gy oi of l og oh">df.drop('age',1)</span><span id="f89d" class="mm mn jf oa b gy oi of l og oh"># Delete the Row with Index "3"</span><span id="ffaf" class="mm mn jf oa b gy oi of l og oh">df.drop(3,0)</span></pre><blockquote class="mg mh mi"><p id="5415" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">我们也可以通过在<code class="fe ok ol om oa b">drop(...)</code>函数中传递列表来删除多行和多列</p></blockquote><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="048d" class="mm mn jf oa b gy oe of l og oh"># Delete Columns "name" &amp; "age"</span><span id="1bd6" class="mm mn jf oa b gy oi of l og oh">df.drop(['name','age'],1)</span><span id="4e70" class="mm mn jf oa b gy oi of l og oh"># Delete Rows with index "2","3", &amp; "4"</span><span id="dcdc" class="mm mn jf oa b gy oi of l og oh">df.drop([2,3,4],0)</span></pre><p id="ceab" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">注意:行索引不是索引号，而是包含该值的行</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="8925" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">从列表中创建熊猫数据帧</h2><p id="a275" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">如果我们得到一个没有任何列的数据集呢？</p><p id="4c55" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">嗯，<strong class="kw jg"><em class="ma">Pandas DataFrame</em></strong>并不介意这一点，它通过为我们隐式添加行索引和列标题来生成 data frame。</p><p id="1100" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">例如，如果我们从下面的列表中创建一个数据帧</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="dd8c" class="mm mn jf oa b gy oe of l og oh">my_list = [[1,2,3,4],<br/>           [5,6,7,8],<br/>           [9,10,11,12],<br/>           [13,14,15,16],<br/>           [17,18,19,20]]</span><span id="5ae2" class="mm mn jf oa b gy oi of l og oh">df = pd.DataFrame(my_list)</span></pre><p id="d993" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">它看起来会像这样</p><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/c73afd47f45187836c51beb975fd6fc0.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*Lw6v7y6AjJILgpejWYCnAw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df = pd.DataFrame(my_list)</figcaption></figure><p id="73ed" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">如果我们不想让<strong class="kw jg"><em class="ma">Pandas data frame</em></strong>自动生成行索引和列名，我们可以将这些在<code class="fe ok ol om oa b">DataFrame</code>函数中作为</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="7a66" class="mm mn jf oa b gy oe of l og oh">df = pd.DataFrame(<br/>my_list, <br/>index = ["1-&gt;", "2-&gt;", "3-&gt;", "4-&gt;", "5-&gt;"], <br/>columns = ["A", "B", "C", "D"]<br/>)</span></pre><p id="149f" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">这是它看起来的样子</p><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/6d3809ed835a35cbc7157dce7e7dc0f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:580/format:webp/1*ahQlttCsE2O8DgvCqiew8w.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df with Row and Column Provided</figcaption></figure><p id="65af" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">应该注意的是，我们也可以从 NumPy 数组创建 Pandas 数据帧，如下所示</p><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="a912" class="mm mn jf oa b gy oe of l og oh">np_arr = np.array([[1,2,3,4],<br/>                   [5,6,7,8],<br/>                   [9,10,11,12],<br/>                   [13,15,16,16],<br/>                   [17,18,19,20]])</span><span id="8bb3" class="mm mn jf oa b gy oi of l og oh">df = pd.DataFrame(np_arr)</span></pre></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="51d3" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">数据帧上的数学运算</h2><p id="3a2c" class="pw-post-body-paragraph ku kv jf kw b kx nf kz la lb ng ld le lf nh lh li lj ni ll lm ln nj lp lq km ij bi translated">就像 Excel 表格一样，<strong class="kw jg"> <em class="ma">熊猫数据框</em> </strong>在完整的<strong class="kw jg"> <em class="ma">数据框</em> </strong>上轻松进行数学运算。</p><blockquote class="kc"><p id="abec" class="kd ke jf bd kf kg np nq nr ns nt km dk translated">在一个单独的列中完成这些操作是可能的，这就是熊猫系列出现的原因。</p></blockquote><p id="70d5" class="pw-post-body-paragraph ku kv jf kw b kx nu kz la lb nv ld le lf nw lh li lj nx ll lm ln ny lp lq km ij bi translated">我们将在下一篇文章中研究熊猫系列，让我们先看看数学运算是如何在完整的<strong class="kw jg"> <em class="ma">数据帧</em> </strong>上工作的</p><blockquote class="mg mh mi"><p id="526c" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated"><strong class="kw jg"> <em class="jf">乘法→我们可以将标量值为的数据帧与另一个数据帧</em> </strong>相乘</p></blockquote><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="304e" class="mm mn jf oa b gy oe of l og oh">df * df</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/a67ef38e17aa0acf3798d2366bd40c4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*pwbYAk7XQuk3qVdxCnQvdw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df * df</figcaption></figure><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="750a" class="mm mn jf oa b gy oe of l og oh">df * 10</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/e2820c5db376d747b951e4b4abd19654.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*If83HuYzvemmK5JdMvgcwA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df * 10 ( A Scalar Value)</figcaption></figure><blockquote class="mg mh mi"><p id="60a4" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated"><strong class="kw jg"> <em class="jf">加法/减法→与上面的乘法类似，一个数据帧可以与一个标量值或另一个数据帧</em> </strong>相加/相减</p></blockquote><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="8eed" class="mm mn jf oa b gy oe of l og oh">df + 100</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/66cded966c8949e53a3cf2689030d682.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*oHP6qEUQBYT32oOBAqNg8A.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df + 100</figcaption></figure><blockquote class="mg mh mi"><p id="9d2f" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated"><strong class="kw jg"> <em class="jf">位运算→可以进行位运算(AND( &amp;)、OR (|))等来完成数据帧</em> </strong></p></blockquote><pre class="nl nm nn no gt nz oa ob oc aw od bi"><span id="2d43" class="mm mn jf oa b gy oe of l og oh">df &amp; 0</span></pre><figure class="nl nm nn no gt is gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/4a7f4c423643eade871d82d288a53abc.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*EtGIbHXwq1TOwSWJHip5cg.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">df &amp; 0</figcaption></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h2 id="ff3a" class="mm mn jf bd mo mp mq dn mr ms mt dp mu lf mv mw mx lj my mz na ln nb nc nd ne bi translated">熊猫系列是什么？</h2><blockquote class="mg mh mi"><p id="4e6a" class="ku kv ma kw b kx ky kz la lb lc ld le mj lg lh li mk lk ll lm ml lo lp lq km ij bi translated">除了熊猫数据框架的一列之外，什么也没有的系列。</p></blockquote><blockquote class="kc"><p id="11ca" class="kd ke jf bd kf kg kh ki kj kk kl km dk translated">每当我们要处理一个以上的系列时，我们就有数据框架。T29】</p></blockquote><blockquote class="mg mh mi"><p id="036c" class="ku kv ma kw b kx nu kz la lb nv ld le mj nw lh li mk nx ll lm ml ny lp lq km ij bi translated">二者择一地</p></blockquote><blockquote class="kc"><p id="61a8" class="kd ke jf bd kf kg kh ki kj kk kl km dk translated"><strong class="ak">熊猫数据框是熊猫系列的集合</strong></p></blockquote><p id="e5c0" class="pw-post-body-paragraph ku kv jf kw b kx nu kz la lb nv ld le lf nw lh li lj nx ll lm ln ny lp lq km ij bi translated"><em class="ma">我会在下一篇文章</em>中谈论 <a class="ae pc" rel="noopener" target="_blank" href="/pandas-dataframe-a-lightweight-intro-680e3a212b96"> <em class="ma">熊猫系列</em> </a> <em class="ma"/></p><p id="33fa" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated">感谢阅读…！！！！</p><p id="c31d" class="pw-post-body-paragraph ku kv jf kw b kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq km ij bi translated"><strong class="kw jg"> <em class="ma">达克什</em> </strong></p></div></div>    
</body>
</html>