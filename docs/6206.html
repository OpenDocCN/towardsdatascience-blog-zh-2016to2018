<html>
<head>
<title>Approximating Integrals using Numpy [ Riemann / Trapeze / Simpson’s / Adaptive /Monte Carlo Integration ]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Numpy 近似积分[黎曼/梯形/辛普森/自适应/蒙特卡罗积分]</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/approximating-integrals-using-numpy-riemann-trapeze-simpsons-adaptive-monte-carlo-f37e3940985f?source=collection_archive---------12-----------------------#2018-12-01">https://towardsdatascience.com/approximating-integrals-using-numpy-riemann-trapeze-simpsons-adaptive-monte-carlo-f37e3940985f?source=collection_archive---------12-----------------------#2018-12-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/8339e8af7bad0d4ffb4aac3458611492.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/1*_6cxpte142Z6SPYSCiLGvQ.gif"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">GIf from this <a class="ae jy" href="https://giphy.com/gifs/fourier-series-HqZuL4RWgf2ms" rel="noopener ugc nofollow" target="_blank">website</a></figcaption></figure><p id="2aa4" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">积分逼近是计算机科学中非常重要的任务(甚至涉及到<a class="ae jy" href="https://arxiv.org/abs/1805.12233" rel="noopener ugc nofollow" target="_blank">神经网络</a>)。今天我想实现不同的积分近似方法。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="08ef" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">我们将要使用的功能</strong></p><div class="le lf lg lh gt ab cb"><figure class="li jr lj lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><img src="../Images/1a3e259b1ea5360db74ade4005fc23d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*skGPUo5khkYYiyd6-g5wCw.png"/></div></figure><figure class="li jr ls lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><img src="../Images/7ae0ccf52560fdcfcae56fba0b5420e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*_XNorqSZyldaZAS_GdRXmg.png"/></div></figure></div><div class="ab cb"><figure class="li jr lt lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><img src="../Images/bd45cf1802a66865994241e43aa479ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*DgRXNeKyhYjHdofI3Q-sdQ.png"/></div></figure><figure class="li jr lu lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><img src="../Images/186b445bf149d13b7e111d785dd5d2a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*nuSrAIyRgAWMIgNMQgfPOA.png"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk lv di lw lx">all of the images are from <a class="ae jy" href="https://www.wolframalpha.com/input/?i=integrate+x+from+-8+to+62" rel="noopener ugc nofollow" target="_blank">wolframalpha</a></figcaption></figure></div><p id="b10d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">总的来说，我们要近似四个不同函数的积分</p><pre class="le lf lg lh gt ly lz ma mb aw mc bi"><span id="7a07" class="md me iq lz b gy mf mg l mh mi">1. integral from -8 to 6     x dx = 1890<br/>2. integral from -10 to 120 (x^2 + 100 - x^5) dx = -497663244000<br/>3. integral from -10 to 23   sqrt(x) dx = 2/3 (23 sqrt(23) + 10 i sqrt(10))≈73.5361 + 21.0819 i<br/>4. integral from 0 to pi     x sin(x^2) dx = sin^2(π^2/2)≈0.9513</span></pre><p id="445c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如上所述，我们已经可以看到解析解的结果。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="9fb9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">近似方法</strong></p><blockquote class="mj mk ml"><p id="4e61" class="jz ka mm kb b kc kd ke kf kg kh ki kj mn kl km kn mo kp kq kr mp kt ku kv kw ij bi translated">黎曼积分</p></blockquote><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/7ce32fcc2366776b2a1e5170a68c5f5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*CWGNNAidgTEOmqZbJTviYQ.png"/></div></figure><blockquote class="mj mk ml"><p id="05a3" class="jz ka mm kb b kc kd ke kf kg kh ki kj mn kl km kn mo kp kq kr mp kt ku kv kw ij bi translated">吊架集成</p></blockquote><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mt"><img src="../Images/4c9a07cd19fcabfa6ff968c36c32f904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_Y9bAXOaFLJQ5pEDK4MYQ.png"/></div></div></figure><blockquote class="mj mk ml"><p id="dd08" class="jz ka mm kb b kc kd ke kf kg kh ki kj mn kl km kn mo kp kq kr mp kt ku kv kw ij bi translated">辛普森积分</p></blockquote><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mu"><img src="../Images/97cf7535d5785c83a18c9641ef907b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-unlcat2OQmW4P7S6xNc0Q.png"/></div></div></figure><blockquote class="mj mk ml"><p id="ac27" class="jz ka mm kb b kc kd ke kf kg kh ki kj mn kl km kn mo kp kq kr mp kt ku kv kw ij bi translated">适应性整合</p></blockquote><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mv"><img src="../Images/728471e8e694feb40a061d7d396f07fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vj7z8vpsX2YSXiIaBlXzgg.png"/></div></div></figure><blockquote class="mj mk ml"><p id="556c" class="jz ka mm kb b kc kd ke kf kg kh ki kj mn kl km kn mo kp kq kr mp kt ku kv kw ij bi translated">蒙特卡罗积分</p></blockquote><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/5c77cd88ef03ed023b7a3c7befa7f886.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*GBmod71xzBVAGxrCjoKvfw.png"/></div></figure><p id="f13c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如上所述，我们将使用五种不同的方法来估计积分。顺便提一下，在这五种方法中，有四种(除了自适应积分)有一个作为样本数的超参数。增加该值将导致更好的积分近似，</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="cb92" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">功能 1 </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mx"><img src="../Images/d90f2866c4d28359a06eeaf508421691.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NXNyg3dUNqIhp7aW.png"/></div></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi my"><img src="../Images/44ca351a6b06fe5fdba9f8de5134f860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UTQZLdsGX2B2DIC_AMvc3w.png"/></div></div></figure><p id="a773" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">自适应积分得到了最精确的积分值，其他方法要么低估了，要么高估了。(当然，随着样本数量的增加，它会变得更加精确。)</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="cd97" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">功能 2 </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi mz"><img src="../Images/d1067e98ae88231c922c261f28256f93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*9LXyqEHD-v-w9ZZn.png"/></div></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi na"><img src="../Images/ad671d8a1698d976caeaf55025e9f097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVRP_ngjLsgmOD9SkWXYaw.png"/></div></div></figure><p id="5973" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">对于这个函数，自适应积分方法低估了大量的积分值。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="adbe" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">功能 3 </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nb"><img src="../Images/34609f4404997cb6e36c13874fad9fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rSgOpjpK_ljtcTAm.png"/></div></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nc"><img src="../Images/fdca393616465deb349e9ebc30aa9314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1aM97U5Tecuda9HWCTwag.png"/></div></div></figure><p id="acbf" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">除了自适应积分法之外，对于少量数据点，其他方法总体上做得相当好。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="9b00" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">功能 4 </strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nd"><img src="../Images/3c8950b4db4e0f9b39aeacb251042a1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hDHwpT27A942uifV.png"/></div></div></figure><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi ne"><img src="../Images/04f0aea62f45e9e87195e477282c0328.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mnirssvnfzzf-j97IMoXiA.png"/></div></div></figure><p id="68f0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">有趣的是正弦函数也有类似的结果。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="6992" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">交互代码</strong></p><figure class="le lf lg lh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="lo lp di lq bf lr"><div class="gh gi nf"><img src="../Images/2ff22be6a1a0e78c965127d188492ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6dIB2UFFmAqP7iNlhtTfVg.png"/></div></div></figure><p id="83a0" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">要访问这篇文章的代码，请点击<a class="ae jy" href="https://colab.research.google.com/drive/1YJI1XaI6i50e3YDuPsxITiNuRPOjsjnh" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="5fff" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">惊人的资源</strong></p><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="ng mr l"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">Paper from this <a class="ae jy" href="http://www.maths.qmul.ac.uk/~wj/MTH5110/notes/MAS235_lecturenotes1.pdf" rel="noopener ugc nofollow" target="_blank">website</a></figcaption></figure><figure class="le lf lg lh gt jr"><div class="bz fp l di"><div class="nh mr l"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk">video from this <a class="ae jy" href="https://www.youtube.com/watch?v=WAf0rqwAvgg" rel="noopener ugc nofollow" target="_blank">website</a></figcaption></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="f4ee" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">最后的话</strong></p><p id="abd9" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">这是一次很好的回顾，也是一次很好的编程实践。当我摆弄数值时，很明显蒙特卡罗方法积分是一种强有力的方法，但它需要更多的时间来正确收敛。</p><p id="f34e" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如果发现任何错误，请发电子邮件到 jae.duk.seo@gmail.com 给我，如果你想看我所有写作的列表，请在这里查看我的网站。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="7794" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">参考</strong></p><ol class=""><li id="e3bd" class="ni nj iq kb b kc kd kg kh kk nk ko nl ks nm kw nn no np nq bi translated">(2018).maths . qmul . AC . uk . 2018 年 12 月 1 日检索，来自<a class="ae jy" href="http://www.maths.qmul.ac.uk/~wj/MTH5110/notes/MAS235_lecturenotes1.pdf" rel="noopener ugc nofollow" target="_blank">http://www . maths . qmul . AC . uk/~ wj/mth 5110/notes/MAS 235 _ lecture notes 1 . pdf</a></li><li id="2290" class="ni nj iq kb b kc nr kg ns kk nt ko nu ks nv kw nn no np nq bi translated">傅立叶系列 GIF 在 GIPHY 上查找和分享。(2018).吉菲。检索于 2018 年 12 月 1 日，来自<a class="ae jy" href="https://giphy.com/gifs/fourier-series-HqZuL4RWgf2ms" rel="noopener ugc nofollow" target="_blank">https://giphy.com/gifs/fourier-series-HqZuL4RWgf2ms</a></li><li id="754c" class="ni nj iq kb b kc nr kg ns kk nt ko nu ks nv kw nn no np nq bi translated">面向 Noobs 的 Python 蒙特卡罗集成。(2018).YouTube。检索于 2018 年 12 月 1 日，来自 https://www.youtube.com/watch?v=WAf0rqwAvgg<a class="ae jy" href="https://www.youtube.com/watch?v=WAf0rqwAvgg" rel="noopener ugc nofollow" target="_blank"/></li><li id="3c18" class="ni nj iq kb b kc nr kg ns kk nt ko nu ks nv kw nn no np nq bi translated">蝙蝠侠集成雷欧索斯。(2018).Leios.github.io .检索于 2018 年 12 月 1 日，来自 https://leios.github.io/Batman_Montecarlo<a class="ae jy" href="https://leios.github.io/Batman_Montecarlo" rel="noopener ugc nofollow" target="_blank"/></li><li id="1b75" class="ni nj iq kb b kc nr kg ns kk nt ko nu ks nv kw nn no np nq bi translated">Dhamdhere，m . Sundararajan 和 q . Yan(2018 年)。一个神经元有多重要？。Arxiv.org。检索于 2018 年 12 月 1 日，来自<a class="ae jy" href="https://arxiv.org/abs/1805.12233" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1805.12233</a></li></ol></div></div>    
</body>
</html>