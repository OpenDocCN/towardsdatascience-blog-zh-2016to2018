<html>
<head>
<title>Tensorflow GPU Installation Made Easy: Use conda instead of pip [Update-2]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">轻松安装 Tensorflow GPU:使用 conda 代替 pip [Update-2]</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tensorflow-gpu-installation-made-easy-use-conda-instead-of-pip-52e5249374bc?source=collection_archive---------0-----------------------#2018-10-10">https://towardsdatascience.com/tensorflow-gpu-installation-made-easy-use-conda-instead-of-pip-52e5249374bc?source=collection_archive---------0-----------------------#2018-10-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a359" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">想在你的 GPU 机器上安装 Tensorflow，运行那些 GPU 吃深度学习算法？你来对地方了。我有一个配置不错的 GPU，以前玩 FIFA 都是用它。换成 AI，本来想用 GPU 做深度学习，而不是玩游戏。但是…..我害怕 Tensorflow 安装不兼容的 CUDA 版本。在这篇文章中，我将解释传统的方法和新的优化方法，以及为什么我们应该放弃 pip 而使用 conda。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h2 id="4b40" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated"><em class="ll">如果你是一个 UBUNTU 用户，想要一步一步的使用 LONG 方法，那么我已经在这里发表了一篇完整的文章:</em></h2><div class="lm ln gp gr lo lp"><a href="https://medium.com/@harveenchadha/tensorflow-gpu-installation-made-easy-ubuntu-version-4260a52dd7b0" rel="noopener follow" target="_blank"><div class="lq ab fo"><div class="lr ab ls cl cj lt"><h2 class="bd ir gy z fp lu fr fs lv fu fw ip bi translated">Tensorflow GPU 安装变得简单:Ubuntu 版本</h2><div class="lw l"><h3 class="bd b gy z fp lu fr fs lv fu fw dk translated">在 ubuntu 上安装 Tensorflow GPU 对于正确版本的 cuda 和 cudnn 来说是一个挑战。一年前，我写了一篇…</h3></div><div class="lx l"><p class="bd b dl z fp lu fr fs lv fu fw dk translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md me lp"/></div></div></a></div></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="7785" class="mf kt iq bd ku mg mh mi kx mj mk ml la mm mn mo ld mp mq mr lg ms mt mu lj mv bi translated">传统方法</h1><p id="8def" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated">要安装 Tensorflow for GPU，我必须遵循以下步骤(这些步骤适用于 windows):</p><ol class=""><li id="31ba" class="nb nc iq jp b jq jr ju jv jy nd kc ne kg nf kk ng nh ni nj bi translated">先弄清楚 GPU 是否兼容 Tensorflow GPU！(来自<a class="ae nk" href="https://developer.nvidia.com/cuda-gpus" rel="noopener ugc nofollow" target="_blank">这里</a>)</li><li id="aaf4" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">从<a class="ae nk" href="https://developer.nvidia.com/cuda-downloads" rel="noopener ugc nofollow" target="_blank">这里</a>下载并安装 Cuda 工具包。</li><li id="85c3" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">在 Nvidia 开发者<a class="ae nk" href="https://developer.nvidia.com/cudnn" rel="noopener ugc nofollow" target="_blank">网站</a>注册下载 cuDNN</li><li id="8366" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">通过将 cuDNN 的内容提取到步骤 2 中安装的工具包路径中来安装 cuDNN。CUDA Toolkit 目录中会有一些你必须替换的文件。</li><li id="8e16" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">就这样吗？不，那么你需要检查你的路径变量是否存在 CUDA_HOME。如果没有，请手动添加。</li><li id="f630" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">然后检查路径变量，看工具箱路径是否可用。</li><li id="105d" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">然后最后安装 Anaconda 或 Miniconda</li><li id="e61f" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">创建安装了 Python 和 Pip 包的环境。</li><li id="1538" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">然后最后'<em class="nq"> pip 安装 tensorflow-gpu '。</em></li><li id="0601" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">测试您的安装。</li></ol><p id="7640" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会说这很简单，对吗？为什么不试一试呢？请记住，我没有为上述任何步骤提供视觉效果，因为这些只是为了让您了解，并解释我们在此过程中遇到的问题。</p><h2 id="15ea" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">这个过程有 1%的概率会对你有利！</h2><p id="63ab" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated"><strong class="jp ir">为什么？</strong></p><blockquote class="nr ns nt"><p id="1d1a" class="jn jo nq jp b jq jr js jt ju jv jw jx nu jz ka kb nv kd ke kf nw kh ki kj kk ij bi translated">由于版本编号的原因</p></blockquote><figure class="ny nz oa ob gt oc gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi nx"><img src="../Images/f15525b62607c62ab2b7ee29a1089a4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GvWhnE47UuK41Uy8jE8EHg.png"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk">Figure 1. <a class="ae nk" href="https://www.tensorflow.org/install/source_windows" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="92d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Tensorflow 的不同版本支持不同的 cuDNN 和 CUDA 版本(在此表中，CUDA 有一个整数值，但当您下载时，它实际上是一个浮点数，这使得编号和兼容性更加困难)。cuDNN 和 conda 也不是 conda 的一部分。</p><h1 id="ff30" class="mf kt iq bd ku mg om mi kx mj on ml la mm oo mo ld mp op mr lg ms oq mu lj mv bi translated">获奖的新方法</h1><p id="9878" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated">安装 Miniconda 或 Anaconda，然后运行这个命令。</p><pre class="ny nz oa ob gt or os ot ou aw ov bi"><span id="20c9" class="ks kt iq os b gy ow ox l oy oz">conda create --name tf_gpu tensorflow-gpu<!-- --> </span></pre><p id="e833" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">嗯是这样吗？是的。</strong></p><p id="9614" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该命令将创建一个以“tf_gpu”命名的环境，并将安装 tensorflow-gpu 所需的所有软件包，包括<strong class="jp ir">cuda 和 cuDNN 兼容版本。</strong></p><figure class="ny nz oa ob gt oc gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi pa"><img src="../Images/5cc73aeb228a583236a356cee3a042b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8HTRDKwsisSTBF6JsCL5bA.png"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk">Figure 2. cuDNN and Cuda are a part of Conda installation now</figcaption></figure><p id="98ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，它也不会干扰您当前已经设置好的环境。</p><p id="6e1e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你很难想象这个命令，我会把它分成三个命令。</p><pre class="ny nz oa ob gt or os ot ou aw ov bi"><span id="8a7c" class="ks kt iq os b gy ow ox l oy oz">conda create --name tf_gpu</span><span id="23bf" class="ks kt iq os b gy pb ox l oy oz">activate tf_gpu</span><span id="9ed1" class="ks kt iq os b gy pb ox l oy oz">conda install tensorflow-gpu</span></pre><p id="cc9b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:这也适用于 Ubuntu 用户。不再需要很长的脚本来让 DL 在 GPU 上运行。</strong></p><h1 id="74bb" class="mf kt iq bd ku mg om mi kx mj on ml la mm oo mo ld mp op mr lg ms oq mu lj mv bi translated">测试 Tensorflow 安装</h1><p id="96d7" class="pw-post-body-paragraph jn jo iq jp b jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk ij bi translated">要测试 tensorflow 安装，请遵循以下步骤:</p><ol class=""><li id="03da" class="nb nc iq jp b jq jr ju jv jy nd kc ne kg nf kk ng nh ni nj bi translated">打开终端，使用<em class="nq">‘激活 TF _ GPU’激活环境。</em></li><li id="8814" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated">使用<em class="nq">python</em>进入 python 控制台</li></ol><pre class="ny nz oa ob gt or os ot ou aw ov bi"><span id="1cbc" class="ks kt iq os b gy ow ox l oy oz">import tensorflow as tf</span><span id="5433" class="ks kt iq os b gy pb ox l oy oz">sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))</span></pre><figure class="ny nz oa ob gt oc gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi pc"><img src="../Images/40e887817cd11ee2f7ac4dd0a76a8ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v0In0x71AOhgB5TUEMBI7g.png"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk">Figure 3. Validating your Tensorflow Installation</figcaption></figure></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="09ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">阅读我在 Medium 上的其他文章:</p><ol class=""><li id="f01d" class="nb nc iq jp b jq jr ju jv jy nd kc ne kg nf kk ng nh ni nj bi translated"><a class="ae nk" rel="noopener" target="_blank" href="/my-first-data-science-interview-bccc006ba2c8">我的第一次数据科学面试</a></li><li id="c336" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated"><a class="ae nk" rel="noopener" target="_blank" href="/machine-learning-what-why-when-and-how-9a2f244647a4">机器学习:什么、何时、如何？</a></li><li id="70be" class="nb nc iq jp b jq nl ju nm jy nn kc no kg np kk ng nh ni nj bi translated"><a class="ae nk" rel="noopener" target="_blank" href="/kalman-filter-interview-bdc39f3e6cf3">卡尔曼滤波面试</a></li></ol><p id="0f5a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">关于我:我是一名自动驾驶汽车工程师，专注于使用深度学习为车辆提供智能。如果你遇到任何困难，请通过 LinkedIn 联系我。</p><p id="d24b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此信息最初在此发布<a class="ae nk" href="https://www.anaconda.com/blog/developer-blog/tensorflow-in-anaconda/" rel="noopener ugc nofollow" target="_blank">。这篇文章也谈到了张量流计算的一些改进，但我现在并不关心这些，因为那不是我的首要任务，:D</a></p><p id="6a0a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">更新 1 </strong>:一些用户抱怨它不能在 Ubuntu 上工作，我发现你需要在 Ubuntu 上手动安装与卡兼容的驱动程序。此外，如果您已经设置了任何其他环境，那么它是一个烂摊子，这可能不会帮助你。</p><p id="6ac7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">更新 2 </strong>:这篇文章已经被阅读了超过 50k 次，甚至 Aurélien Géron 也推荐使用这个技巧来安装 Tensorflow。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h2 id="f1fb" class="ks kt iq bd ku kv kw dn kx ky kz dp la jy lb lc ld kc le lf lg kg lh li lj lk bi translated">如果你是一个 UBUNTU 用户，想要一个使用 LONG 方法的逐步指南，那么我在这里发表了一篇完整的文章:</h2><div class="lm ln gp gr lo lp"><a href="https://medium.com/@harveenchadha/tensorflow-gpu-installation-made-easy-ubuntu-version-4260a52dd7b0" rel="noopener follow" target="_blank"><div class="lq ab fo"><div class="lr ab ls cl cj lt"><h2 class="bd ir gy z fp lu fr fs lv fu fw ip bi translated">Tensorflow GPU 安装变得简单:Ubuntu 版本</h2><div class="lw l"><h3 class="bd b gy z fp lu fr fs lv fu fw dk translated">在 ubuntu 上安装 Tensorflow GPU 对于正确版本的 cuda 和 cudnn 来说是一个挑战。一年前，我写了一篇…</h3></div><div class="lx l"><p class="bd b dl z fp lu fr fs lv fu fw dk translated">medium.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md me lp"/></div></div></a></div></div></div>    
</body>
</html>