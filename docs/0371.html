<html>
<head>
<title>Boosting Your Jupyter Notebook Productivity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">提高Jupyter笔记本电脑的工作效率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyter-notebook-hints-1f26b08429ad?source=collection_archive---------1-----------------------#2017-04-24">https://towardsdatascience.com/jupyter-notebook-hints-1f26b08429ad?source=collection_archive---------1-----------------------#2017-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="2213" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">Jupyter (IPython)笔记本特性</h1><p id="31b4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">首先，我想指出，它是创建可读分析非常灵活的工具，因为人们可以将代码、图像、注释、公式和图表放在一起:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/793f1aa5f528bc39e495a183f863334a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSmV827xddNuvVCKhlMokA.png"/></div></div></figure><p id="114c" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Jupyter具有很强的可扩展性，支持其他编程语言，几乎可以在任何服务器上轻松托管——您只需要通过ssh或http访问服务器。而且是完全免费的。</p><h1 id="2a2d" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">基础</h1><p id="5b14" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">热键列表显示在<strong class="kn ir">帮助&gt;键盘快捷键</strong>中(列表会不时扩展，所以不要犹豫再看一遍)。</p><p id="bbcf" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">这给了你一个如何与笔记本互动的想法。如果你经常使用笔记本，你当然会学到大部分的内容。特别是:</p><ul class=""><li id="9bb3" class="ma mb iq kn b ko lv ks lw kw mc la md le me li mf mg mh mi bi translated"><code class="fe mj mk ml mm b">Esc + F</code>查找和替换仅搜索代码，不搜索输出</li><li id="85cf" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><code class="fe mj mk ml mm b">Esc + O</code>切换单元格输出</li><li id="4494" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">您可以选择一行中的多个单元格，然后删除/复制/剪切/粘贴它们。当您需要移动笔记本的部件时，这很有帮助</li></ul><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi ms"><img src="../Images/3cf9afb090a5735e6831a3d3b5478532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*JVznLNtBPqFdNrWI.png"/></div></div></figure><h1 id="e8cb" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">共享笔记本</h1><p id="ac83" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">最简单的方法是共享笔记本文件。ipynb)，但并不是所有人都在用笔记本，所以选项有</p><ul class=""><li id="9b2d" class="ma mb iq kn b ko lv ks lw kw mc la md le me li mf mg mh mi bi translated">将笔记本转换为html文件</li><li id="6bc2" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">分享给正在渲染笔记本的gists。</li><li id="2fe4" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">将您的笔记本存放在dropbox中，并将链接放入<a class="ae mt" href="http://nbviewer.jupyter.org/" rel="noopener ugc nofollow" target="_blank"> nbviewer </a>中。nbviewer将渲染笔记本</li><li id="75df" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">github渲染笔记本(有一些限制，但在大多数情况下是可以的)，这使得保持你的研究历史非常有用(如果研究是公开的)</li></ul><h1 id="9a04" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">在笔记本中绘图</h1><p id="0c71" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">有许多绘图选项:</p><ul class=""><li id="91da" class="ma mb iq kn b ko lv ks lw kw mc la md le me li mf mg mh mi bi translated">matplotlib(事实上的标准)，用<code class="fe mj mk ml mm b">%matplotlib inline</code>激活</li><li id="4f1a" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><code class="fe mj mk ml mm b">%matplotlib notebook</code>是交互式模式，但是非常慢，因为渲染是在服务器端完成的。</li><li id="b9f1" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">mpld3为matplotlib代码提供了可选的渲染器(使用d3)。很好，虽然不完整</li><li id="3a9f" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">散景是构建交互式地块的更好选择</li><li id="226d" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">plot.ly可以生成很好的图，但是会让你花钱</li></ul><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/08fe4a1b8a2325f08aff44a461cdd8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/0*_CVSs8QZ8qtwmTTA.png"/></div></figure><h1 id="8b4c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">魔法</h1><p id="10fe" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">魔术师正在把简单的python变成<em class="mv">神奇的python </em>。魔法是ipython力量的关键。</p><p id="83cd" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[1]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="51f8" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># list available python magics</em><br/><strong class="mm ir">%lsmagic</strong></span></pre><p id="1f4a" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Out[1]:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="c89b" class="na jo iq mm b gy nb nc l nd ne">Available line magics:<br/>%alias  %alias_magic  %autocall  %automagic  %autosave  %bookmark  %cat  %cd  %clear  %colors  %config  %connect_info  %cp  %debug  %dhist  %dirs  %doctest_mode  %ed  %edit  %env  %gui  %hist  %history  %killbgscripts  %ldir  %less  %lf  %lk  %ll  %load  %load_ext  %loadpy  %logoff  %logon  %logstart  %logstate  %logstop  %ls  %lsmagic  %lx  %macro  %magic  %man  %matplotlib  %mkdir  %more  %mv  %notebook  %page  %pastebin  %pdb  %pdef  %pdoc  %pfile  %pinfo  %pinfo2  %popd  %pprint  %precision  %profile  %prun  %psearch  %psource  %pushd  %pwd  %pycat  %pylab  %qtconsole  %quickref  %recall  %rehashx  %reload_ext  %rep  %rerun  %reset  %reset_selective  %rm  %rmdir  %run  %save  %sc  %set_env  %store  %sx  %system  %tb  %time  %timeit  %unalias  %unload_ext  %who  %who_ls  %whos  %xdel  %xmode</span><span id="6fc9" class="na jo iq mm b gy nf nc l nd ne">Available cell magics:<br/>%%!  %%HTML  %%SVG  %%bash  %%capture  %%debug  %%file  %%html  %%javascript  %%js  %%latex  %%perl  %%prun  %%pypy  %%python  %%python2  %%python3  %%ruby  %%script  %%sh  %%svg  %%sx  %%system  %%time  %%timeit  %%writefile</span><span id="8b08" class="na jo iq mm b gy nf nc l nd ne">Automagic is ON, % prefix IS NOT needed for line magics.</span></pre><h1 id="c430" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">%环境</h1><p id="ea17" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您可以管理笔记本的环境变量，而无需重新启动jupyter服务器进程。一些库(比如theano)使用环境变量来控制行为，%env是最方便的方法。</p><p id="716e" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[2]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="eb0a" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># %env - without arguments lists environmental variables</em><br/><strong class="mm ir">%env</strong> OMP_NUM_THREADS=4</span><span id="0358" class="na jo iq mm b gy nf nc l nd ne">env: OMP_NUM_THREADS=4</span></pre><h1 id="4e71" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">执行shell命令</h1><p id="c34b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您可以调用任何shell命令。这对于管理您的虚拟环境特别有用。</p><p id="ab09" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[3]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="77f4" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">!</strong>pip install numpy<br/><strong class="mm ir">!</strong>pip list | grep Theano</span><span id="b5bd" class="na jo iq mm b gy nf nc l nd ne">Requirement already satisfied (use --upgrade to upgrade): numpy in /Users/axelr/.venvs/rep/lib/python2.7/site-packages<br/>Theano (0.8.2)</span></pre><h1 id="8387" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">抑制最后一行的输出</h1><p id="15fd" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">有时不需要输出，所以我们可以在新行上使用<code class="fe mj mk ml mm b">pass</code>指令，或者在末尾使用分号</p><p id="4499" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[4]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="609e" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%matplotlib</strong> inline<br/><strong class="mm ir">from</strong> <strong class="mm ir">matplotlib</strong> <strong class="mm ir">import</strong> pyplot <strong class="mm ir">as</strong> plt<br/><strong class="mm ir">import</strong> <strong class="mm ir">numpy</strong></span></pre><p id="7869" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[5]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="d4e8" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># if you don't put semicolon at the end, you'll have output of function printed</em><br/>plt<strong class="mm ir">.</strong>hist(numpy<strong class="mm ir">.</strong>linspace(0, 1, 1000)<strong class="mm ir">**</strong>1.5);</span></pre><h1 id="655a" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">看python函数/类/什么的源码带问号(？, ?？)</h1><p id="c90f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在[6]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="e43e" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">from</strong> <strong class="mm ir">sklearn.cross_validation</strong> <strong class="mm ir">import</strong> train_test_split<br/><em class="mv"># show the sources of train_test_split function in the pop-up window</em><br/>train_test_split<strong class="mm ir">??</strong></span></pre><p id="64e8" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[7]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="dd28" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># you can use ? to get details about magics, for instance:</em><br/>%pycat<strong class="mm ir">?</strong></span></pre><p id="ed41" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">将在弹出窗口中输出:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="27b1" class="na jo iq mm b gy nb nc l nd ne">Show a syntax-highlighted file through a pager.</span><span id="9d6e" class="na jo iq mm b gy nf nc l nd ne">This magic is similar to the cat utility, but it will assume the file<br/>to be Python source and will show it with syntax highlighting.</span><span id="e13d" class="na jo iq mm b gy nf nc l nd ne">This magic command can either take a local filename, an url,<br/>an history range (see %history) or a macro as argument ::</span><span id="58ae" class="na jo iq mm b gy nf nc l nd ne">%pycat myscript.py<br/>%pycat 7-27<br/>%pycat myMacro<br/>%pycat <a class="ae mt" href="http://www.example.com/myscript.py" rel="noopener ugc nofollow" target="_blank">http://www.example.com/myscript.py</a></span></pre><h1 id="ce9a" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">%run执行python代码</h1><p id="1460" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">%run可以从执行python代码。py文件—这是一种有据可查的行为。</p><p id="0a5a" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">但它也可以执行其他jupyter笔记本！有时候还是挺有用的。</p><p id="6fa9" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">NB。%run与导入python模块不同。</p><p id="51ba" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[8]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="afb4" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># this will execute all the code cells from different notebooks</em><br/><strong class="mm ir">%run</strong> ./2015-09-29-NumpyTipsAndTricks1.ipynb</span><span id="ea63" class="na jo iq mm b gy nf nc l nd ne">[49 34 49 41 59 45 30 33 34 57]<br/>[172 177 209 197 171 176 209 208 166 151]<br/>[30 33 34 34 41 45 49 49 57 59]<br/>[209 208 177 166 197 176 172 209 151 171]<br/>[1 0 4 8 6 5 2 9 7 3]<br/>['a' 'b' 'c' 'd' 'e' 'f' 'g' 'h' 'i' 'j']<br/>['b' 'a' 'e' 'i' 'g' 'f' 'c' 'j' 'h' 'd']<br/>['a' 'b' 'c' 'd' 'e' 'f' 'g' 'h' 'i' 'j']<br/>[1 0 6 9 2 5 4 8 3 7]<br/>[1 0 6 9 2 5 4 8 3 7]<br/>[ 0.93551212  0.75079687  0.87495146  0.3344709   0.99628591  0.34355057<br/>  0.90019059  0.88272132  0.67272068  0.24679158]<br/>[8 4 5 1 9 2 7 6 3 0]</span><span id="b619" class="na jo iq mm b gy nf nc l nd ne">[-5 -4 -3 -2 -1  0  1  2  3  4]<br/>[0 0 0 0 0 0 1 2 3 4]<br/>['eh' 'cl' 'ah' ..., 'ab' 'bm' 'ab']<br/>['ab' 'ac' 'ad' 'ae' 'af' 'ag' 'ah' 'ai' 'aj' 'ak' 'al' 'am' 'an' 'bc' 'bd'<br/> 'be' 'bf' 'bg' 'bh' 'bi' 'bj' 'bk' 'bl' 'bm' 'bn' 'cd' 'ce' 'cf' 'cg' 'ch'<br/> 'ci' 'cj' 'ck' 'cl' 'cm' 'cn' 'de' 'df' 'dg' 'dh' 'di' 'dj' 'dk' 'dl' 'dm'<br/> 'dn' 'ef' 'eg' 'eh' 'ei' 'ej' 'ek' 'el' 'em' 'en' 'fg' 'fh' 'fi' 'fj' 'fk'<br/> 'fl' 'fm' 'fn' 'gh' 'gi' 'gj' 'gk' 'gl' 'gm' 'gn' 'hi' 'hj' 'hk' 'hl' 'hm'<br/> 'hn' 'ij' 'ik' 'il' 'im' 'in' 'jk' 'jl' 'jm' 'jn' 'kl' 'km' 'kn' 'lm' 'ln'<br/> 'mn']<br/>[48 33  6 ...,  0 23  0]<br/>['eh' 'cl' 'ah' ..., 'ab' 'bm' 'ab']<br/>['eh' 'cl' 'ah' ..., 'ab' 'bm' 'ab']<br/>['bf' 'cl' 'dn' ..., 'dm' 'cn' 'dj']<br/>['bf' 'cl' 'dn' ..., 'dm' 'cn' 'dj']</span><span id="07d0" class="na jo iq mm b gy nf nc l nd ne">[ 2.29711325  1.82679746  2.65173344 ...,  2.15286813  2.308737    2.15286813]<br/>1000 loops, best of 3: 1.09 ms per loop<br/>The slowest run took 8.44 times longer than the fastest. This could mean that an intermediate result is being cached.<br/>10000 loops, best of 3: 21.5 µs per loop</span><span id="7014" class="na jo iq mm b gy nf nc l nd ne">0.416<br/>0.416</span></pre><h1 id="96cf" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">%负载</h1><p id="bcfa" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">将代码直接加载到单元格中。您可以选择本地文件或网上文件。</p><p id="418b" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在取消下面代码的注释并执行后，它将用文件的内容替换单元格的内容。</p><p id="1ed8" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[9]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="36bf" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># %load </em><a class="ae mt" href="http://matplotlib.org/mpl_examples/pylab_examples/contour_demo.py" rel="noopener ugc nofollow" target="_blank"><em class="mv">http://matplotlib.org/mpl_examples/pylab_examples/contour_demo.py</em></a></span></pre><h1 id="23c3" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">%store:在笔记本电脑之间传递数据时偷懒</h1><p id="5455" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在[10]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="d5e8" class="na jo iq mm b gy nb nc l nd ne">data <strong class="mm ir">=</strong> 'this is the string I want to pass to different notebook'<br/><strong class="mm ir">%store</strong> data<br/><strong class="mm ir">del</strong> data <em class="mv"># deleted variable</em></span><span id="f314" class="na jo iq mm b gy nf nc l nd ne">Stored 'data' (str)</span></pre><p id="ee16" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[11]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="529f" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># in second notebook I will use:</em><br/><strong class="mm ir">%store</strong> -r data<br/><strong class="mm ir">print</strong> data</span><span id="119c" class="na jo iq mm b gy nf nc l nd ne">this is the string I want to pass to different notebook</span></pre><h1 id="45de" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">%who:分析全局范围的变量</h1><p id="850f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在[12]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="8b7f" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># pring names of string variables</em><br/><strong class="mm ir">%who</strong> str</span><span id="4165" class="na jo iq mm b gy nf nc l nd ne">data</span></pre><h1 id="412e" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">时机</h1><p id="f7db" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">当您需要测量花费的时间或找到代码中的瓶颈时，ipython可以帮上忙。</p><p id="6b0c" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[13]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="e2b0" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%%time</strong><br/>import time<br/>time.sleep(2) # sleep for two seconds</span><span id="721c" class="na jo iq mm b gy nf nc l nd ne">CPU times: user 1.23 ms, sys: 4.82 ms, total: 6.05 ms<br/>Wall time: 2 s</span></pre><p id="3191" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[14]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="77f6" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># measure small code snippets with timeit !</em><br/><strong class="mm ir">import</strong> <strong class="mm ir">numpy</strong><br/><strong class="mm ir">%timeit</strong> numpy.random.normal(size=100)</span><span id="758c" class="na jo iq mm b gy nf nc l nd ne">The slowest run took 13.85 times longer than the fastest. This could mean that an intermediate result is being cached.<br/>100000 loops, best of 3: 6.35 µs per loop</span></pre><p id="18cc" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[15]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="747b" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%%writefile</strong> pythoncode.py</span><span id="ed24" class="na jo iq mm b gy nf nc l nd ne">import numpy<br/>def append_if_not_exists(arr, x):<br/>    if x not in arr:<br/>        arr.append(x)<br/>        <br/>def some_useless_slow_function():<br/>    arr = list()<br/>    for i in range(10000):<br/>        x = numpy.random.randint(0, 10000)<br/>        append_if_not_exists(arr, x)</span><span id="67ef" class="na jo iq mm b gy nf nc l nd ne">Overwriting pythoncode.py</span></pre><p id="28d5" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[16]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="fa20" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># shows highlighted source of the newly-created file</em><br/><strong class="mm ir">%pycat</strong> pythoncode.py</span></pre><p id="8bf5" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[17]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="5ac8" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">from</strong> <strong class="mm ir">pythoncode</strong> <strong class="mm ir">import</strong> some_useless_slow_function, append_if_not_exists</span></pre><h1 id="36b1" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">分析:%prun，%lprun，%mprun</h1><p id="645f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在[18]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="c272" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># shows how much time program spent in each function</em><br/><strong class="mm ir">%prun</strong> some_useless_slow_function()</span></pre><p id="da24" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">输出示例:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="0945" class="na jo iq mm b gy nb nc l nd ne">26338 function calls in 0.713 seconds</span><span id="53c2" class="na jo iq mm b gy nf nc l nd ne">   Ordered by: internal time</span><span id="6de9" class="na jo iq mm b gy nf nc l nd ne">   ncalls  tottime  percall  cumtime  percall filename:lineno(function)<br/>    10000    0.684    0.000    0.685    0.000 pythoncode.py:3(append_if_not_exists)<br/>    10000    0.014    0.000    0.014    0.000 {method 'randint' of 'mtrand.RandomState' objects}<br/>        1    0.011    0.011    0.713    0.713 pythoncode.py:7(some_useless_slow_function)<br/>        1    0.003    0.003    0.003    0.003 {range}<br/>     6334    0.001    0.000    0.001    0.000 {method 'append' of 'list' objects}<br/>        1    0.000    0.000    0.713    0.713 &lt;string&gt;:1(&lt;module&gt;)<br/>        1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}</span></pre><p id="4e82" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[19]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="9c3b" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%load_ext</strong> memory_profiler</span></pre><p id="a720" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[20]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="8535" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># tracking memory consumption (show in the pop-up)</em><br/><strong class="mm ir">%mprun</strong> -f append_if_not_exists some_useless_slow_function()</span><span id="b9b9" class="na jo iq mm b gy nf nc l nd ne">('',)</span></pre><p id="48be" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">输出示例:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="f7b9" class="na jo iq mm b gy nb nc l nd ne">Line #    Mem usage    Increment   Line Contents<br/>================================================<br/>     3     20.6 MiB      0.0 MiB   def append_if_not_exists(arr, x):<br/>     4     20.6 MiB      0.0 MiB       if x not in arr:<br/>     5     20.6 MiB      0.0 MiB           arr.append(x)</span></pre><p id="b6ca" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated"><strong class="kn ir"> %lprun </strong>是行剖析，但它似乎在最新的IPython版本中被打破了，所以这次我们将不用魔法来管理:</p><p id="368c" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[21]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="2878" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">import</strong> <strong class="mm ir">line_profiler</strong><br/>lp <strong class="mm ir">=</strong> line_profiler<strong class="mm ir">.</strong>LineProfiler()<br/>lp<strong class="mm ir">.</strong>add_function(some_useless_slow_function)<br/>lp<strong class="mm ir">.</strong>runctx('some_useless_slow_function()', locals<strong class="mm ir">=</strong>locals(), globals<strong class="mm ir">=</strong>globals())<br/>lp<strong class="mm ir">.</strong>print_stats()</span><span id="8f57" class="na jo iq mm b gy nf nc l nd ne">Timer unit: 1e-06 s</span><span id="9516" class="na jo iq mm b gy nf nc l nd ne">Total time: 1.27826 s<br/>File: pythoncode.py<br/>Function: some_useless_slow_function at line 7</span><span id="2060" class="na jo iq mm b gy nf nc l nd ne">Line #      Hits         Time  Per Hit   % Time  Line Contents<br/>==============================================================<br/>     7                                           def some_useless_slow_function():<br/>     8         1            5      5.0      0.0      arr = list()<br/>     9     10001        17838      1.8      1.4      for i in range(10000):<br/>    10     10000        38254      3.8      3.0          x = numpy.random.randint(0, 10000)<br/>    11     10000      1222162    122.2     95.6          append_if_not_exists(arr, x)</span></pre><h1 id="501f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">使用%debug调试</h1><p id="fc6a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Jupyter有自己的接口用于<a class="ae mt" href="https://docs.python.org/2/library/pdb.html" rel="noopener ugc nofollow" target="_blank"> ipdb </a>。使得进入函数内部并研究那里发生的事情成为可能。</p><p id="5f86" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">这不是pycharm，需要很多时间来适应，但是在服务器上调试时，这可能是唯一的选择(或者从终端使用pdb)。</p><p id="66dc" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[22]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="2d97" class="na jo iq mm b gy nb nc l nd ne"><em class="mv">#%%debug filename:line_number_for_breakpoint</em><br/><em class="mv"># Here some code that fails. This will activate interactive context for debugging</em></span></pre><p id="dcdd" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">一个简单一点的选项是<code class="fe mj mk ml mm b">%pdb</code>，它在异常出现时激活调试器:</p><p id="6b3d" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[23]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="a0a4" class="na jo iq mm b gy nb nc l nd ne"><em class="mv"># %pdb</em></span><span id="de37" class="na jo iq mm b gy nf nc l nd ne"><em class="mv"># def pick_and_take():</em><br/><em class="mv">#     picked = numpy.random.randint(0, 1000)</em><br/><em class="mv">#     raise NotImplementedError()</em><br/>    <br/><em class="mv"># pick_and_take()</em></span></pre><h1 id="6f25" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">用乳胶写配方</h1><p id="62f3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">markdown单元格使用MathJax渲染latex。</p><p id="fa56" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">p(a∣b)=p(b∣a)p(a)p(b)p(a∣b)=p(b∣a)p(a)p(b)</p><p id="3577" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Markdown是笔记本的重要组成部分，别忘了利用它的表现力！</p><h1 id="15f3" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">在一个笔记本中使用不同的语言</h1><p id="4021" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">如果你错过了很多，使用其他计算内核:</p><ul class=""><li id="63ef" class="ma mb iq kn b ko lv ks lw kw mc la md le me li mf mg mh mi bi translated">%%python2</li><li id="e89c" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">%%python3</li><li id="c754" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">% %红宝石</li><li id="2438" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">%%perl</li><li id="d2ea" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">%%bash</li><li id="8861" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">%%R</li></ul><p id="f1bc" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">是可能的，但是显然您需要首先设置相应的内核。</p><p id="6e99" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[24]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="2bd9" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%%</strong>ruby<br/>puts 'Hi, this is ruby.'</span><span id="63b3" class="na jo iq mm b gy nf nc l nd ne">Hi, this is ruby.</span></pre><p id="8499" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[25]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="cbf9" class="na jo iq mm b gy nb nc l nd ne">%%bash<br/>echo 'Hi, this is bash.'</span><span id="7e6b" class="na jo iq mm b gy nf nc l nd ne">Hi, this is bash.</span></pre><h1 id="45c5" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">大数据分析</h1><p id="534f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">许多解决方案可用于查询/处理大型数据样本:</p><ul class=""><li id="a701" class="ma mb iq kn b ko lv ks lw kw mc la md le me li mf mg mh mi bi translated"><a class="ae mt" href="https://github.com/ipython/ipyparallel" rel="noopener ugc nofollow" target="_blank"> ipyparallel(以前的ipython cluster) </a>对于python中的简单map-reduce操作来说是一个很好的选择。我们在rep中使用它来并行训练许多机器学习模型</li><li id="8082" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><a class="ae mt" href="http://www.cloudera.com/documentation/enterprise/5-5-x/topics/spark_ipython.html" rel="noopener ugc nofollow" target="_blank"> pyspark </a></li><li id="f63c" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">spark-sql magic <a class="ae mt" href="https://github.com/jupyter-incubator/sparkmagic" rel="noopener ugc nofollow" target="_blank"> %%sql </a></li></ul><h1 id="c652" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">让其他人不用安装任何东西就能玩你的代码</h1><p id="9c1c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">像mybinder这样的服务可以让用户访问装有jupyter笔记本的机器，上面安装了所有的库，这样用户就可以在只有浏览器的情况下玩半个小时。</p><p id="9d65" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">你可以用<a class="ae mt" href="https://github.com/jupyterhub/jupyterhub" rel="noopener ugc nofollow" target="_blank"> jupyterhub </a>设置自己的系统，这在你组织小型课程或研讨会而没有时间关心学生机器时非常方便。</p><h1 id="d0c8" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">其他语言的书写功能</h1><p id="5461" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">有时候numpy的速度不够，我需要写一些快速代码。原则上，你可以在动态库中编译函数并编写python包装器…</p><p id="2fc8" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">但是当这个无聊的部分为你做的时候会好很多，对吗？</p><p id="fd23" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">您可以用cython或fortran编写函数，并直接从python代码中使用它们。</p><p id="4a3c" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">首先，您需要安装:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="9403" class="na jo iq mm b gy nb nc l nd ne">!pip install cython fortran-magic</span></pre><p id="9e5a" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[26]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="5d35" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%load_ext</strong> Cython</span></pre><p id="35cb" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[27]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="717b" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%%</strong>cython<br/><strong class="mm ir">def</strong> <strong class="mm ir">myltiply_by_2</strong>(float x):<br/>    <strong class="mm ir">return</strong> 2.0 <strong class="mm ir">*</strong> x</span></pre><p id="5531" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[28]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="4bbc" class="na jo iq mm b gy nb nc l nd ne">myltiply_by_2(23.)</span></pre><p id="f00c" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Out[28]:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="6c91" class="na jo iq mm b gy nb nc l nd ne">46.0</span></pre><p id="0aa9" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">就我个人而言，我更喜欢使用fortran，我发现它对于编写数字运算函数非常方便。</p><p id="1648" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[29]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="65ef" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%load_ext</strong> fortranmagic</span><span id="d3fb" class="na jo iq mm b gy nf nc l nd ne">/Users/axelr/.venvs/rep/lib/python2.7/site-packages/IPython/utils/path.py:265: UserWarning: get_ipython_cache_dir has moved to the IPython.paths module<br/>  warn("get_ipython_cache_dir has moved to the IPython.paths module")</span></pre><p id="7e98" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[30]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="eef9" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">%%fortran</strong><br/>subroutine compute_fortran(x, y, z)<br/>    real, intent(in) :: x(:), y(:)<br/>    real, intent(out) :: z(size(x, 1))</span><span id="33ab" class="na jo iq mm b gy nf nc l nd ne">    z = sin(x + y)</span><span id="5abb" class="na jo iq mm b gy nf nc l nd ne">end subroutine compute_fortran</span></pre><p id="2cc2" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[31]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="3df8" class="na jo iq mm b gy nb nc l nd ne">compute_fortran([1, 2, 3], [4, 5, 6])</span></pre><p id="0819" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Out[31]:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="e3bd" class="na jo iq mm b gy nb nc l nd ne">array([-0.95892429,  0.65698659,  0.41211849], dtype=float32)</span></pre><p id="3234" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">我还应该提到，有不同的抖动系统可以加速你的python代码。</p><h1 id="88b7" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">多个光标</h1><p id="1237" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">因为最近jupyter支持多个光标(在一个单元格中)，就像sublime ot intelliJ！</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/db0238f9c41a38a05bbcd4ce797f01a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/0*TpvQZSGo8Kr0uwIq.gif"/></div></figure><p id="129e" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Gif取自http://swanintelligence.com/multi-cursor-in-jupyter.html<a class="ae mt" href="http://swanintelligence.com/multi-cursor-in-jupyter.html" rel="noopener ugc nofollow" target="_blank"/></p><h1 id="e9ec" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><a class="ae mt" href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions" rel="noopener ugc nofollow" target="_blank"> Jupyter-contrib扩展</a></h1><p id="e526" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">安装有</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="d585" class="na jo iq mm b gy nb nc l nd ne">!pip install https://github.com/ipython-contrib/jupyter_contrib_nbextensions/tarball/master<br/>!pip install jupyter_nbextensions_configurator<br/>!jupyter contrib nbextension install --user<br/>!jupyter nbextensions_configurator enable --user</span></pre><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nh"><img src="../Images/8d754b5e5f249641dd3b1827e6dfbb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CuShAWU7ejmdZp9b.png"/></div></div></figure><p id="6b3b" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">这是一系列不同的扩展，包括例如<strong class="kn ir"> jupyter拼写检查器和代码格式化器</strong>，它们在jupyter中是缺省的。</p><h1 id="7e2f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated"><a class="ae mt" href="https://github.com/damianavila/RISE" rel="noopener ugc nofollow" target="_blank">崛起</a>:用笔记本做演示</h1><p id="cd52" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">Damian Avila的扩展使笔记本电脑作为演示展示成为可能。此类演示的示例:<a class="ae mt" href="http://bollwyvl.github.io/live_reveal/#/7" rel="noopener ugc nofollow" target="_blank">http://bollwyvl.github.io/live_reveal/#/7</a></p><p id="a929" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">当你教别人使用图书馆时，这是非常有用的。</p><h1 id="9892" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">Jupyter输出系统</h1><p id="b004" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">笔记本显示为HTML，单元格输出可以是HTML，因此您可以返回几乎任何内容:视频/音频/图像。</p><p id="14b1" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在本例中，我扫描了存储库中包含图像的文件夹，并显示了前五个图像:</p><p id="4710" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[32]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="e36e" class="na jo iq mm b gy nb nc l nd ne"><strong class="mm ir">import</strong> <strong class="mm ir">os</strong><br/><strong class="mm ir">from</strong> <strong class="mm ir">IPython.display</strong> <strong class="mm ir">import</strong> display, Image<br/>names <strong class="mm ir">=</strong> [f <strong class="mm ir">for</strong> f <strong class="mm ir">in</strong> os<strong class="mm ir">.</strong>listdir('../images/ml_demonstrations/') <strong class="mm ir">if</strong> f<strong class="mm ir">.</strong>endswith('.png')]<br/><strong class="mm ir">for</strong> name <strong class="mm ir">in</strong> names[:5]:<br/>    display(Image('../images/ml_demonstrations/' <strong class="mm ir">+</strong> name, width<strong class="mm ir">=</strong>300))</span></pre><h1 id="6c7f" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">我可以用bash命令获取相同的列表</h1><p id="a930" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">因为magics和bash调用返回python变量:</p><p id="4fb3" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">在[33]中:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="40a9" class="na jo iq mm b gy nb nc l nd ne">names <strong class="mm ir">=</strong> <strong class="mm ir">!</strong>ls ../images/ml_demonstrations/*.png<br/>names[:5]</span></pre><p id="acb1" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">Out[33]:</p><pre class="lk ll lm ln gt mw mm mx my aw mz bi"><span id="ef60" class="na jo iq mm b gy nb nc l nd ne">['../images/ml_demonstrations/colah_embeddings.png',<br/> '../images/ml_demonstrations/convnetjs.png',<br/> '../images/ml_demonstrations/decision_tree.png',<br/> '../images/ml_demonstrations/decision_tree_in_course.png',<br/> '../images/ml_demonstrations/dream_mnist.png']</span></pre><h1 id="c1e8" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">重新连接到内核</h1><p id="1670" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">很久以前，当您开始某个耗时的过程，并且在某个时刻您与ipython服务器的连接断开时，您完全失去了跟踪计算过程的能力(除非您将这些信息写入文件)。因此，要么中断内核并潜在地丢失一些进程，要么等到它完成而不知道发生了什么。</p><p id="7188" class="pw-post-body-paragraph kl km iq kn b ko lv kq kr ks lw ku kv kw lx ky kz la ly lc ld le lz lg lh li ij bi translated">选项现在可以在不中断计算的情况下再次连接到正在运行的内核，并显示新的输出(但是部分输出已经丢失)。</p><h1 id="6ee9" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">在笔记本上写下你的帖子</h1><p id="9d46" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">比如这个。使用nbconvert将它们导出到html。</p><h1 id="6fb1" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">有用的链接</h1><ul class=""><li id="e62c" class="ma mb iq kn b ko kp ks kt kw ni la nj le nk li mf mg mh mi bi translated">IPython <a class="ae mt" href="https://ipython.org/ipython-doc/3/interactive/magics.html" rel="noopener ugc nofollow" target="_blank">内置魔法</a></li><li id="49c2" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">Ben Zaitlen关于jupyter 的精彩互动演示</li><li id="e672" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated">高级笔记本<a class="ae mt" href="https://blog.dominodatalab.com/lesser-known-ways-of-using-notebooks/" rel="noopener ugc nofollow" target="_blank">第一部分:魔法</a>和<a class="ae mt" href="https://blog.dominodatalab.com/interactive-dashboards-in-jupyter/" rel="noopener ugc nofollow" target="_blank">第二部分:小工具</a></li><li id="7ede" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><a class="ae mt" href="http://pynash.org/2013/03/06/timing-and-profiling/" rel="noopener ugc nofollow" target="_blank">使用jupyter在python中进行剖析</a></li><li id="25f2" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><a class="ae mt" href="http://mindtrove.info/4-ways-to-extend-jupyter-notebook/" rel="noopener ugc nofollow" target="_blank">扩展笔记本的4种方式</a></li><li id="dd51" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><a class="ae mt" href="https://www.quora.com/What-are-your-favorite-tricks-for-IPython-Notebook" rel="noopener ugc nofollow" target="_blank"> IPython笔记本小技巧</a></li><li id="53e0" class="ma mb iq kn b ko mn ks mo kw mp la mq le mr li mf mg mh mi bi translated"><a class="ae mt" href="https://www.linkedin.com/pulse/comprehensive-comparison-jupyter-vs-zeppelin-hoc-q-phan-mba-" rel="noopener ugc nofollow" target="_blank"> Jupyter vs Zeppelin争夺大数据</a></li></ul></div></div>    
</body>
</html>