<html>
<head>
<title>New York Seeks Haikus: Generating Haikus from NYC Government Job Descriptions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">纽约寻求俳句:从纽约市政府职位描述中产生俳句</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/new-york-seeks-haikus-generating-haikus-from-nyc-government-job-descriptions-c27496a376fd?source=collection_archive---------9-----------------------#2018-04-19">https://towardsdatascience.com/new-york-seeks-haikus-generating-haikus-from-nyc-government-job-descriptions-c27496a376fd?source=collection_archive---------9-----------------------#2018-04-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/ab8d93fab27eb7973d9ca28f96f5e8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9WRoJfucez73Oxedv62Aag.jpeg"/></div></div></figure><p id="ee04" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">六年前，纽约市通过了一项法律，要求市政机构公开他们的数据。从那时起，超过1600个数据集已经在该市的<a class="ae kw" href="https://opendata.cityofnewyork.us/" rel="noopener ugc nofollow" target="_blank">开放数据门户</a>上可用，并且新的数据不断提供。</p><p id="da47" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://www.open-data.nyc/" rel="noopener ugc nofollow" target="_blank">开放数据周</a>——纽约市长数据分析办公室在全市范围内开展的活动——是对这一进步的庆祝，并与<a class="ae kw" href="http://datathroughdesign.com/" rel="noopener ugc nofollow" target="_blank">数据贯穿设计</a>展览同时举行。这次展览的目的是挑战艺术家们使用这些公开的数据来讲述关于这座城市的有见地的有趣的故事。</p><p id="9e8f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">作为一名土生土长的纽约人、数据科学家和公务员，这个挑战激起了我的兴趣，因为以创造性的新方式使用城市数据是我的工作。</p><p id="bab2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">需要40万名政府雇员来维持纽约市(美国人口最多的大都会区)的运转。从维护基础设施、提供应急服务，到创造减少浪费、无家可归和犯罪的创新方法，这一切都归结于他们。</p><p id="03b2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，对于《设计中的数据》,我想讲述40万人在幕后工作的故事，以及他们是如何让我的家乡保持生机和繁荣的。最终，这个概念演变成一个程序，根据市政府工作的职位描述，通过算法生成俳句。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="af8d" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">纽约市寻求</strong></h1><p id="7aaf" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">这些数据来自纽约市工作数据集。它包含纽约市官方招聘网站上的最新招聘信息。开放数据门户上的大部分数据都是关于城市发生了什么，城市做了什么。这个数据集让我们得以一窥这些事情背后的人和事。</p><p id="363e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">每个职务公告都包含机构、薪资范围和发布日期等信息。对于这个项目，我使用了三栏:公务员职称、职位描述和职位资格。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mh"><img src="../Images/786c739c8b54afc54fc3036e0af8ab59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*d6EWaKhV5wsFqjxv.PNG"/></div></div></figure><p id="9c58" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，我使用了一个数据集，其中包含Jim Kang的<a class="ae kw" href="https://github.com/jimkang/phonemenon" rel="noopener ugc nofollow" target="_blank"> phonemenon </a>中单词的音节数。我不得不修改数据，以包括非标准的单词，如机构缩写(即NYPD，4个音节和点，3个音节)。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="f70d" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">生成俳句</strong></h1><p id="2ec1" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">目标是利用纽约市的工作描述来创作俳句。俳句最初是日本的一种诗歌形式，包含三行，第一行五个音节，第二行七个音节，第三行五个音节。</p><p id="8ba9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了创作一首俳句，我使用了一种定制的<a class="ae kw" href="https://en.wikipedia.org/wiki/Markov_chain" rel="noopener ugc nofollow" target="_blank">马尔可夫链</a>方法。马尔可夫链是一种在给定当前值和当前值之后的值的概率的情况下生成序列的技术。在这种情况下，给定一个单词，接下来可能是什么单词？</p><p id="8c65" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一步是确定这些概率。我按公务员头衔(计算机系统经理、油漆工、土木工程师等)对数据进行了分类。)和首选技能字段中的文本建立了一个单独的数据语料库。然后我把语料库拆分成句子，把句子拆分成单词，统计A跟着b的次数。</p><p id="60a2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面的例子显示了计算机系统经理在“数据”后面最常用的词。给定一个这样的表，马尔可夫链将随机选择一个按概率加权的下一个单词。然后，它将得到这个单词，并一次又一次地重复这个过程。</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mm"><img src="../Images/11442e4a5df8fa80648ba4043da52012.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jAQTP7XcXOGHCNZp.PNG"/></div></div></figure><p id="cab4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因为我在创作俳句，所以我有严格的音节限制。我只考虑下一个符合音节限制的单词。例如，如果我在第一行(5个音节)，我当前的单词是“数据”，我不会选择“分析”或“整合”作为下一个单词，因为这会将该行置于5个音节之上。</p><p id="ad94" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这个过程中，当在音节限制内没有有效的选择时，生成器有时会将自己写入一个不可能的状态。在这种情况下，它会返回并尝试一个新词，看看它是否会导致一个有效的俳句。</p><p id="dca3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">俳句以一种原始的状态出现在这个过程中——全部是小写，没有标点符号，有时它们就是不太好。我发现的最大问题是，因为俳句太短，结果往往是不完整的想法。</p><p id="75fc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">马尔可夫链会在一个句子的中间，当它达到音节数时突然停止。我试图通过只使用符合逻辑的结尾词来纠正这一点，但这并不适用于所有情况。</p><p id="705a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">例如，以下两句都以“设计和施工过程”结尾，但只有第一句是完整的句子:</p><blockquote class="mn"><p id="de6f" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">与项目负责人<br/>一起创建设计和<br/>施工流程</em></p></blockquote><p id="82b7" class="pw-post-body-paragraph jy jz iq ka b kb my kd ke kf mz kh ki kj na kl km kn nb kp kq kr nc kt ku kv ij bi translated">和</p><blockquote class="mn"><p id="32ef" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">纽约市<br/>设计部<br/>施工流程</em></p></blockquote><p id="dd7b" class="pw-post-body-paragraph jy jz iq ka b kb my kd ke kf mz kh ki kj na kl km kn nb kp kq kr nc kt ku kv ij bi translated">有些结果实际上很有趣:</p><blockquote class="mn"><p id="44b3" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">环境<br/>和环境<br/>和环境。</em></p></blockquote><p id="e92f" class="pw-post-body-paragraph jy jz iq ka b kb my kd ke kf mz kh ki kj na kl km kn nb kp kq kr nc kt ku kv ij bi translated">和</p><blockquote class="mn"><p id="6ddc" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">新城市<br/>纽约市:开放的数据，<br/>开放的政府。</em></p></blockquote><p id="b73e" class="pw-post-body-paragraph jy jz iq ka b kb my kd ke kf mz kh ki kj na kl km kn nb kp kq kr nc kt ku kv ij bi translated">通过一个半手工、半自动化的编辑过程，我清理了俳句，以获得像样的结果。最后一篇有750多首俳句。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="2791" class="le lf iq bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated"><strong class="ak">增加观众参与度</strong></h1><p id="97d1" class="pw-post-body-paragraph jy jz iq ka b kb mc kd ke kf md kh ki kj me kl km kn mf kp kq kr mg kt ku kv ij bi translated">我现在有能力创作俳句；但是我应该如何呈现它们呢？我想给一些算法如何工作的见解。为此，我决定展示反复创作的俳句。该算法尝试的每个单词都会显示出来，当遇到失败状态时，它会删除单词并再次尝试。</p><p id="34fa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是它的样子:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/3739aae24be925876e40ebbb18297a08.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/1*InFKbWw15DDrn1X1yBQWAQ.gif"/></div></figure><p id="5462" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">展览组织者Michelle Ho建议将这些俳句印在标签上，这样它们就可以作为纪念品带回家，供设计展览的观众参考。</p><p id="ae29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我添加了一个按钮，按下后会生成并打印下一首俳句:</p><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/74efc65182a94f23ada90d5644c7ad4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*x75Xh5cnuFkHBMj0.png"/></div></div></figure><figure class="mi mj mk ml gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/ea65ad0e57cacf3b8546c050ca1fb2da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*srQIGmQkPcOap2Zh.png"/></div></div></figure><p id="3f20" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">其结果是对该市公务员的一些职责和技能进行了异想天开的互动审视。</p><p id="99f4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是一些我最喜欢的:</p><blockquote class="mn"><p id="9a9a" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">纽约市<br/>政府是一个加号，但<br/>不是必需的。</em></p><p id="5bc1" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">财务部正在寻找<br/>一名充满活力的实习生来<br/>发挥团队作用。</em></p><p id="7afd" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">确保数据<br/>准确、整洁、及时并<br/>准备好接受审计。</em></p><p id="2a1e" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">对<br/>干线水和废水<br/>收集系统的深刻认识。</em></p><p id="585e" class="mo mp iq bd mq mr ms mt mu mv mw kv dk translated"><em class="mx">谁想成为<br/>信息<br/>安全人员的一部分？</em></p></blockquote></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="f91d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nf">此文原贴于</em> <a class="ae kw" href="http://datadrivenjournalism.net/featured_projects/new_york_seeks_haikus_a_data_through_design_exhibit" rel="noopener ugc nofollow" target="_blank"> <em class="nf">数据驱动新闻</em> </a> <em class="nf">。</em></p><p id="90d6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢Abigail Pope-Brooks的编辑和反馈。</p><p id="caf3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="nf">所有用到的代码和数据都可以在</em><a class="ae kw" href="https://github.com/docmarionum1/new_york_city_seeks" rel="noopener ugc nofollow" target="_blank"><em class="nf">github</em></a><em class="nf">上找到。杰里米·内曼在他的网站上做着同样毫无意义的事情:</em><a class="ae kw" href="http://jeremyneiman.com/" rel="noopener ugc nofollow" target="_blank"><em class="nf">http://jeremyneiman.com/</em></a></p></div></div>    
</body>
</html>