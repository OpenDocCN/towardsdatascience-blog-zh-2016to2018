<html>
<head>
<title>Saudi Stock Market Analysis and Forecasting (Tadawul) — Part I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">沙特股票市场分析和预测(Tadawul)——第一部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/saudi-stock-market-analysis-and-forecasting-tadawul-part-i-a22254c7a95b?source=collection_archive---------10-----------------------#2018-11-06">https://towardsdatascience.com/saudi-stock-market-analysis-and-forecasting-tadawul-part-i-a22254c7a95b?source=collection_archive---------10-----------------------#2018-11-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/73e872c1e70c3d6313f46fa8b000a31b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hDXf6okSk5YS3FzU8DUsNA.png"/></div></div></figure><p id="c07d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我在金融行业的第一个项目，尤其是在花了大量时间在医疗保健领域进行机器学习项目(如英国的<a class="ae kz" rel="noopener" target="_blank" href="/time-series-analysis-and-forecasting-for-a-e-attendances-and-emergency-admission-in-england-53e41a93be35"> A &amp; E 出勤和急诊</a>，以及<a class="ae kz" href="https://www.linkedin.com/pulse/breast-cancer-cell-classifier-ahmed-qassim" rel="noopener ugc nofollow" target="_blank">乳腺癌细胞类型分类器</a>)之后。所以，我决定在中东最大的股票市场之一——沙特阿拉伯股票市场(Tadawul)发挥我的技能。虽然，数据获取和收集是一个具有挑战性的部分。但是多亏了 Tadawul，这才变得很容易！在那里，我必须浏览所有在他们网站上发布的沙特市场活动年度报告，提取所需的数据，并最终将它们合并到一个 CSV 文件中。最终，我得到了一个从 2006 年 1 月到 2018 年 8 月沙特阿拉伯市场活动的数据集。</p><p id="4103" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">关于<a class="ae kz" href="https://www.tadawul.com.sa/wps/portal/tadawul/home" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> Tadawul </strong> </a>的更多信息:Tadawul 是在沙特阿拉伯王国被授权作为证券交易所(以下简称“交易所”)的唯一实体。它主要进行证券的上市和交易，以及在交易所交易的证券的存管、转让、清算、结算和所有权登记</p><p id="d0ea" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">该项目旨在分析从 2006 年开始到 2018 年 8 月的沙特阿拉伯股票市场数据，并对 12 个月(2018 年 9 月到 2019 年 8 月)进行预测/预报。我将完成这个项目的一系列，其中每一部分将详细讨论不同的主题。</p><h2 id="cb86" class="la lb it bd lc ld le dn lf lg lh dp li km lj lk ll kq lm ln lo ku lp lq lr ls bi translated">第一部分—加载数据集、数据争论、数据分析和探索</h2><p id="f179" class="pw-post-body-paragraph kb kc it kd b ke lt kg kh ki lu kk kl km lv ko kp kq lw ks kt ku lx kw kx ky im bi translated"><strong class="kd iu"> <em class="ly">加载数据集</em> </strong></p><p id="d3c4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，我们加载所需的库，然后是数据集:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="acb7" class="la lb it me b gy mi mj l mk ml">library(dplyr)</span><span id="5894" class="la lb it me b gy mm mj l mk ml">library(urca)</span><span id="7259" class="la lb it me b gy mm mj l mk ml">library(forecast) </span><span id="2cdc" class="la lb it me b gy mm mj l mk ml">library(repr)</span><span id="40d6" class="la lb it me b gy mm mj l mk ml">library(data.table)</span><span id="6e4e" class="la lb it me b gy mm mj l mk ml">library(psych)</span><span id="4e32" class="la lb it me b gy mm mj l mk ml">library(dygraphs)</span><span id="260a" class="la lb it me b gy mm mj l mk ml">require(ggplot2)</span></pre><p id="5406" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是我从 Tadawul reports and publications(4x 152)整合的月度市场活动数据集的截图。所有货币单位均为沙特里亚尔:</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/745c4e9ba7c2c933cec392bdbb48bbaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*gt-iosqxr-H-k2il"/></div></figure><p id="8753" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">正在加载数据集:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="ea5e" class="la lb it me b gy mi mj l mk ml">df &lt;- read.csv ( file= "… /Tadawul/Datasets/Monthly Market Activity.csv", <br/>                 header= TRUE )<br/>head(df)</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/9c93a1c068cd8b933dbbd2a9578a1685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/0*jaN7Jn0WTORz_fNm"/></div></figure><p id="a76d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">按如下方式更改标题名称:</p><p id="7577" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">月:日期</p><p id="5bc7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">股票交易价值(SAR): VST</p><p id="c46c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">股票交易数量:NST</p><p id="9e68" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">交易:Tra</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="bfbe" class="la lb it me b gy mi mj l mk ml">setnames(df, old=c("Month","Value.of.Shares.Traded","Number.of.Shares.Traded", "Transactions"), <br/>             new=c("Date", "VST", "NST","Tra"))<br/>head(df)</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/cd93216ba53d197ca96eee4c277e381f.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/0*hz0lh4uf0UJIPzME"/></div></figure><p id="e201" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="ly">数据角力</em> </strong></p><p id="d262" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">检查数据类型:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="53e4" class="la lb it me b gy mi mj l mk ml">class(df$Date)<br/>class(df$VST)<br/>class(df$NST)<br/>class(df$Tra)</span><span id="863e" class="la lb it me b gy mm mj l mk ml">&gt; 'factor'<br/>&gt; 'numeric'<br/>&gt; 'numeric'<br/>&gt; 'numeric'</span></pre><p id="ef54" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">列“日期”的类别是“因子”。对于时间序列分析，我们应该有日期和时间数据类型。但首先，让我们检查是否有任何缺失的数据存在:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="984c" class="la lb it me b gy mi mj l mk ml">summary(is.na(df$Date))<br/>summary(is.na(df$VST))<br/>summary(is.na(df$NST))<br/>summary(is.na(df$Tra))</span><span id="8bcb" class="la lb it me b gy mm mj l mk ml"><em class="ly">&gt;   Mode   FALSE </em><br/><em class="ly">&gt; logical     152</em><br/><em class="ly">&gt;<br/>&gt;   Mode   FALSE</em><br/><em class="ly">&gt; logical     152</em><br/><em class="ly">&gt;<br/>&gt;   Mode   FALSE</em><br/><em class="ly">&gt; logical     152</em><br/><em class="ly">&gt;<br/>&gt;   Mode   FALSE</em><br/><em class="ly">&gt; logical     152</em></span></pre><p id="59da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">没有丢失数据，将“日期”列类型更改为日期和时间类“POSIX CT”“POSIX t”:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="ef1e" class="la lb it me b gy mi mj l mk ml">to.POSIXct &lt;- function(col){</span><span id="424d" class="la lb it me b gy mm mj l mk ml">  dateStr &lt;- paste(as.character(col))<br/>  as.POSIXct( strptime(dateStr, "%d/%m/%Y"))<br/>}</span><span id="7fc4" class="la lb it me b gy mm mj l mk ml">df$Date &lt;- to.POSIXct(df$Date)<br/>class(df$Date)</span><span id="dcec" class="la lb it me b gy mm mj l mk ml">&gt; 'POSIXct'  'POSIXt'</span></pre><p id="b424" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">创建“月”列，它有助于数据可视化和探索:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="3a2f" class="la lb it me b gy mi mj l mk ml">df$month = month(df$Date)<br/>df$month = month.abb[df$month]<br/>head(df)</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/cf2a17b40baf37f0033c014aa233cb61.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/0*ybYUilDRlyLsxcI8"/></div></figure><p id="9fed" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> <em class="ly">数据分析、可视化和探索</em> </strong></p><p id="6d87" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们首先检查数据帧摘要:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="1b4b" class="la lb it me b gy mi mj l mk ml">summary(df[,2:5])</span><span id="18a1" class="la lb it me b gy mm mj l mk ml">&gt;  VST                 NST                 Tra              month          <br/>&gt; Min.   :3.240e+10   Min.   :1.557e+09   Min.   :    3185   Length:152        <br/>&gt; 1st Qu.:8.006e+10   1st Qu.:3.503e+09   1st Qu.: 1969411   Class :character  <br/>&gt; Median :1.163e+11   Median :4.669e+09   Median : 2707780   Mode  :character  <br/>&gt; Mean   :1.487e+11   Mean   :4.875e+09   Mean   : 3254791                     <br/>&gt; 3rd Qu.:1.731e+11   3rd Qu.:6.125e+09   3rd Qu.: 3787704                     <br/> Max.   :8.284e+11   Max.   :1.383e+10   Max.   :12105358</span></pre><p id="35bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">时间段(2006 年 1 月-2018 年 8 月)内交易股份价值散点图(VST)，用交易股份数量(NST)进行颜色编码:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="2076" class="la lb it me b gy mi mj l mk ml">ggplot(df, aes(Date, VST, color = NST)) +<br/>  geom_point(shape = 16, size = 2, show.legend = TRUE) +<br/>  theme_minimal()</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mr"><img src="../Images/3ec97aa8698e2423bdaa817c6a10be17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NejbJsVcOAdyUUH9"/></div></div></figure><p id="1053" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">检查数据分布(直方图)以及交易股票价值、交易股票数量和交易数量之间的关系；</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="aa4b" class="la lb it me b gy mi mj l mk ml">pairs.panels(df[,1:3],</span><span id="7837" class="la lb it me b gy mm mj l mk ml">             method = "pearson", # correlation method</span><span id="4dca" class="la lb it me b gy mm mj l mk ml">             hist.col = "#00AFBB",</span><span id="e772" class="la lb it me b gy mm mj l mk ml">             density = TRUE,  # show density plots</span><span id="64a6" class="la lb it me b gy mm mj l mk ml">             ellipses = TRUE # show correlation ellipses)</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/4bb8b39ba57a4b91030c60d93da44294.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hGPWyLqQ8m2m3-xR"/></div></div></figure><p id="c7e7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">很明显，在 VST、NST 和 Tra 中有异常值或大数据会扭曲分布曲线，大部分是 2006-2008 年的数据。我们将在时间序列绘图和分析中看到这些数字的确切位置。然而，股票交易价值(VST)和交易数量(Tra)之间存在明显的线性关系。因此，更高的交易数量意味着更高的股票交易价值。皮尔逊相关法通过显示 VST 和 Tra 之间的线性关系强度(0.89)可以肯定地证明这一点。</p><p id="6124" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">事实上，我有兴趣了解更多关于(2006 年至 2018 年)期间每股交易的平均价值。但是首先，我们必须创建这个功能，并将其命名为(Avg。v)通过将 VST 除以 NST:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="ce7f" class="la lb it me b gy mi mj l mk ml"><em class="ly"># Average value of each share Avg.V</em><br/>df$Avg.V &lt;- df$VST/df$NST<br/>summary(df$Avg.V)</span><span id="a3a0" class="la lb it me b gy mm mj l mk ml">&gt; Min. 1st Qu.  Median    Mean 3rd Qu.    Max. <br/>&gt;  13.97   21.25   24.53   29.60   32.39  104.78</span></pre><p id="b3e8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">检查每个份额分布的平均值:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="6c24" class="la lb it me b gy mi mj l mk ml">ggplot(df, aes(x =Avg.V))  + geom_histogram()</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/fe0551633caaf83f3684900b88acb010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*o_binSO4VDj4653f"/></div></figure><p id="55f2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">平均散点图。“v”与“日期”相对，带有“nst”颜色编码:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="d8aa" class="la lb it me b gy mi mj l mk ml">ggplot(df, aes(Date, Avg.V, color = NST)) +<br/>  geom_point(shape = 16, size = 2, show.legend = TRUE) +<br/>  theme_minimal()</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/8c4badc9ec52b7fe53a2e7f23c93d446.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x7HmZ_M1VdEM2Zsk"/></div></div></figure><p id="447c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">与 VST 类似，每股平均价值在 2007 年前很高，2010 年后波动。看起来股票数量对这些股票的价值没有影响。我将在时间序列分析中验证这一假设。</p><p id="cadc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">创建每列的时间序列数据:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="2d02" class="la lb it me b gy mi mj l mk ml"><em class="ly"># create ts data</em><br/>VST.ts &lt;- ts(df[,'VST'], frequency = 12, start=c(2006,1), end= c(2018,8))<br/>NST.ts &lt;- ts(df[,'NST'], frequency = 12, start=c(2006,1), end= c(2018,8))<br/>Tra.ts &lt;- ts(df[,'Tra'], frequency = 12, start=c(2006,1), end= c(2018,8))</span></pre><p id="6d89" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">绘制股票交易价值 VST 时间序列:</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mu"><img src="../Images/9fe4fee60f9af8e4933e707b3ac846da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9VgzVZ7zRCwC4TPG"/></div></div></figure><p id="1d6b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">随着时间序列的绘制，我们注意到股票交易的最高价值是在 2006 年初，然后曲线开始呈指数衰减。最高数字超过 8，000 亿沙特阿拉伯里亚尔，最低数字低于 2，000 亿沙特阿拉伯里亚尔。为了更好地了解趋势，让我们按季度和年度累计数据，然后再次绘制时间序列。</p><p id="3268" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">绘制每季度交易股票的价值:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="91bc" class="la lb it me b gy mi mj l mk ml">plot.ts(VST.ts.qtr, main = "Value of Shares Traded - Quarterly", <br/>         xlab = "Year", ylab = "Value")</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/18959f89d5db8ab67f4ce4792ff835f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YSl85DuAI9EjtDnM"/></div></div></figure><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="9bbf" class="la lb it me b gy mi mj l mk ml">plot.ts(VST.ts.yr, main = "Value of Shares Traded - Yearly", <br/>        xlab = "Year", ylab = "Value")</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/f55164b1f96555412922cbcc4b4639be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*R50i0aUe1AA1XwLL"/></div></div></figure><p id="5de2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如季度图和年度图所示，沙特股票市场受到了 2007-2008 年全球经济危机的影响。当时，交易股票价值严重缩水，在 2010 年达到最糟糕的水平。</p><p id="f8ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为了同时了解三个特征的行为，为了更好地显示，我将在基本缩放后一起绘制三个时间序列(VST、NST、Tra ):</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="c46d" class="la lb it me b gy mi mj l mk ml">options(repr.plot.width=8, repr.plot.height=6)<br/>plot(VST.ts/10000, col = "red", xlab = "Date", ylab = "Value", <br/>     main = "Saudi Stock Market Activities 2006 - 2018")<br/>lines(NST.ts/600,col = "blue")<br/>lines(Tra.ts*5, col = "black")<br/>grid() <br/>legend("topleft",lty=1,col=c("red", "blue", "black"), cex = 0.65,<br/>       legend=c("Value of Shares Traded x10^4", <br/>       "Number of Shares Traded x10^3", "Transactions /5"))<br/>axis(1, at=1:152, labels= (df$Date))</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/d169153999dedf49a91de5b271754ec6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eul89KPdYEHY4snv"/></div></div></figure><p id="dd08" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同样，绘制 VST、NST 和 Tra 时间序列—每年:</p><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/c42ced48840b17afdec271b353336c2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dKskuIKp6Q2WyUvp"/></div></div></figure><p id="fb74" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如图所示，2010 年 VST、NST 和 Tra 值最低。然而，三条线基本上是一致的。</p><p id="b271" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">交易股票价值柱状图(VST.ts):</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="1d26" class="la lb it me b gy mi mj l mk ml">hist(VST.ts, breaks = 30, <br/>     main = paste('Value of Shares Traded Distribution'), xlab = "VST")</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/67ac5b2647f734e78328f22651dafded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dpkKCI65eGmmXwHT"/></div></div></figure><p id="f0ec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">VST 每月箱线图:</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="17d7" class="la lb it me b gy mi mj l mk ml">boxplot(VST.ts ~ cycle(VST.ts), xlab = "Month", ylab = "VST", <br/>         main = "Monthly Value of Shares Traded - Boxplot")</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/094296e170130f2f7d5d4e5013c1619e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gWd1AmgKXsN_9-Fq"/></div></div></figure><p id="844a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从月度箱线图中，我们可以注意到最低的交易值发生在八月和十月。而交易量最高或最热的月份是二月、三月和四月。</p><p id="43a5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">应用移动平均技术对 VST 时间序列 12 年间的概貌。我们将计算 6、12、24 和 36 个月的平均值，以控制趋势平滑度。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="95e5" class="la lb it me b gy mi mj l mk ml">par(mfrow = c(2,2))<br/>plot(VST.ts, col="gray", main = "Half Year Moving Average Smoothing")<br/>lines(ma(VST.ts, order = 6), col = "red", lwd=3)<br/>plot(VST.ts, col="gray", main = "1 Year Moving Average Smoothing")<br/>lines(ma(VST.ts, order = 12), col = "blue", lwd=3)<br/>plot(VST.ts, col="gray", main = "2 Year Moving Average Smoothing")<br/>lines(ma(VST.ts, order = 24), col = "green", lwd=3)<br/>plot(VST.ts, col="gray", main = "3 Year Moving Average Smoothing")<br/>lines(ma(VST.ts, order = 36), col = "yellow4", lwd=3)</span></pre><figure class="lz ma mb mc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ms"><img src="../Images/d9c0903797c6e05506ec368516d4328d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pEBX8TdKygVwCtS_UyirKg.png"/></div></div></figure></div></div>    
</body>
</html>