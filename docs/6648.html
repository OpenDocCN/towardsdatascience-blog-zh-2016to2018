<html>
<head>
<title>I Worked With A Data Scientist As A Software Engineer. Here’s My Experience.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">作为软件工程师，我和一位数据科学家一起工作。下面是我的经验。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/i-worked-with-a-data-scientist-heres-what-i-learned-2e19c5f5204?source=collection_archive---------2-----------------------#2018-12-24">https://towardsdatascience.com/i-worked-with-a-data-scientist-heres-what-i-learned-2e19c5f5204?source=collection_archive---------2-----------------------#2018-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5216" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">谈论我作为一名 Java/Kotlin 开发人员与我们的数据科学家一起工作的经历</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f437abdb3a82822e3c08f6574a799d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V-3j85eeM0dGnd-o"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@danielkcheung?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Daniel Cheung</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="b311" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">背景</h2><p id="c68d" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">2017 年末，我开始对机器学习领域产生兴趣。我<a class="ae kv" href="https://medium.com/@bendaniel10/hello-machine-learning-cc89b3ccbe4d" rel="noopener">讲了我开始旅行时的经历</a>。总之，它充满了有趣的挑战和大量的学习。我是一名 Android 工程师，这是我与我们的数据科学家合作 ML 项目的经验。</p><p id="b4eb" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我记得我试图解决我们的一个应用程序中出现的图像分类问题。我们需要根据一组定义好的规则来区分有效和无效的图像。我立刻从 Deeplearning4J (dl4j)修改了<a class="ae kv" href="https://github.com/deeplearning4j/dl4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/convolution/AnimalsClassification.java" rel="noopener ugc nofollow" target="_blank">这个例子</a>，并尝试用它来处理分类任务。我没有得到我期望的结果，但我保持乐观。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="627b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我使用 dl4j 示例代码的方法并不成功，因为我获得的准确性和训练模型的最终大小。这不可能，因为我们需要一个紧凑的文件大小的模型，这对于移动设备特别重要。</p><h2 id="4d62" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">进入数据科学家</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/0bf04fa8582f0e203bbd9216c2b5d25e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zKBeymXEf00uZbZZ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ce5f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">大约就在这个时候，<a class="ae kv" href="https://seamfix.com/" rel="noopener ugc nofollow" target="_blank">我们</a>聘请了一位数据科学家，他带来了丰富的相关经验。我后来从他身上学到了很多东西。在我发现大多数 ML 问题可以用 Python 解决之后，我很不情愿地开始学习 Python 的基础知识。我后来发现有些东西在 Python 中更容易实现，因为在 Python 社区中已经有了对 ML 的巨大支持。</p><p id="dd6e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们从小型学习会议开始。此时，我的其他团队成员开始感兴趣，也加入了会议。他给我们介绍了<a class="ae kv" href="https://jupyter.org/install" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本</a>和<a class="ae kv" href="https://cloud.google.com/ml-engine/docs/tensorflow/getting-started-training-prediction" rel="noopener ugc nofollow" target="_blank">云机器学习引擎</a>。我们很快就开始尝试使用花数据集的例子进行<a class="ae kv" href="https://cloud.google.com/ml-engine/docs/tensorflow/flowers-tutorial" rel="noopener ugc nofollow" target="_blank">图像分类。</a></p><p id="bc74" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在团队中的每个人都具备了培训和部署模型的基础知识之后，我们直接进入了未完成的任务。作为一名团队成员，我当时专注于两项任务:图像分类问题和分割问题。这两种方法后来都使用卷积神经网络(CNN)来实现。</p><h2 id="657d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">准备培训数据并不容易</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mt"><img src="../Images/98242fa0e96f9df0c3e2d34d01c25c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GllGs9LmPto_7-_U"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@jonnysplsh?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jonny Caspari</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6a6f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这两项任务都需要大量的训练数据。好消息是我们有很多数据。坏消息是它们没有分类/没有注释。我终于明白 ML 专家说的花最多时间准备训练数据而不是训练模型本身。</p><p id="57bf" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对于分类任务，我们需要将成千上万的图像分成不同的类别。这是一项乏味的工作。我不得不调用我的 Java Swing 技能来构建使这项任务更容易的 GUI，但是总的来说，这项任务对于参与人工分类的每个人来说都是单调的。</p><p id="f3d6" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">分割过程有点复杂。我们很幸运地找到了一些擅长细分的模型，但不幸的是它们太大了。我们还希望该模型能够在规格非常低的 Android 设备上运行。这位数据科学家灵光一现，建议我们使用巨大的模型来生成训练数据，这些数据将用于构建我们自己的 mobilenet。</p><h2 id="287e" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">培养</h2><p id="3b31" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">我们最终换成了<a class="ae kv" href="https://docs.aws.amazon.com/dlami/latest/devguide/launch-config.html" rel="noopener ugc nofollow" target="_blank"> AWS 深度学习 AMI </a>。我们已经对 AWS 很满意了，他们提供这样的服务是一个优势。为图像分割训练模型的过程完全由我们的数据科学家处理，我站在他旁边做笔记:)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Those are not the actual logs, LOL.</figcaption></figure><p id="cb9d" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">训练该模型是一项计算密集型任务。这是我看到在有足够的 GPU 和 RAM 的计算机上训练的重要性的时候。训练所花的时间相当短，因为我们在训练中使用了这样的计算机。如果我们使用一台基本的计算机，即使不是几个月，也要花几个星期。</p><p id="4c22" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我负责图像分类模型的训练。我们不需要在云上训练它，事实上，我是在我的 Macbook pro 上训练的。这是因为我只训练了神经网络的最后一层，而不是我们为分割模型所做的完整网络训练。</p><h2 id="4ed2" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">我们成功了</h2><p id="55c3" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">经过严格测试后，这两种型号都进入了我们的生产环境🎉。一名团队成员负责构建 Java 包装库。这样做是为了使模型可以以一种抽象的方式使用，这种方式涉及到向模型提供图像和从概率张量中提取有意义的结果。这是包含模型对单个图像进行预测的结果的数组。在这一点上我也参与了一点，因为我之前写的一些代码在这里被清理和重用了。</p><h2 id="082c" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">挑战，挑战无处不在</h2><blockquote class="mu mv mw"><p id="ba36" class="ls lt mx lu b lv ml jr lx ly mm ju ma my mn mc md mz mo mf mg na mp mi mj mk ij bi translated">挑战让生活变得有趣。克服它们才是有意义的。—匿名</p></blockquote><p id="9d83" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我还记得我最大的挑战是处理三维数组的时候。我仍然小心翼翼地接近他们。与我们的数据科学家一起从事 ML 项目是我继续 ML 冒险所需要的鼓励。</p><p id="582a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在从事这些项目时，我面临的最大挑战是尝试使用 Bazel 从源代码中为 32 位系统构建 Tensorflow Java 库。我在这方面一直不成功。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="88da" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我也经历了其他挑战，其中一个是常见的:将 Python 解决方案翻译成 Java。因为 Python 已经内置了对数据科学任务的支持，所以代码在 Python 中感觉更简洁。我记得当我试图逐字翻译一个命令时，我的头发都被拔了出来:缩放 2D 阵列，并将其作为透明层添加到图像中。我们终于让它工作了，每个人都很兴奋。</p><p id="ede4" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在，在我们的生产环境中，大多数模型都做得很好，但是当它们产生一个错误的结果时，这些错误的结果就大错特错了。这让我想起了我在这篇<a class="ae kv" href="https://www.oreilly.com/ideas/lessons-learned-turning-machine-learning-models-into-real-products-and-services" rel="noopener ugc nofollow" target="_blank">精彩帖子</a>上看到的关于将 ML 模型转化为真实产品和服务的引言。</p><blockquote class="mu mv mw"><p id="d84e" class="ls lt mx lu b lv ml jr lx ly mm ju ma my mn mc md mz mo mf mg na mp mi mj mk ij bi translated">…如果没有新数据的持续输入，模型的质量实际上会下降，而且速度会很快。被称为<a class="ae kv" href="https://machinelearningmastery.com/gentle-introduction-concept-drift-machine-learning/" rel="noopener ugc nofollow" target="_blank">概念漂移</a>，这意味着随着时间的推移，静态机器学习模型提供的预测变得越来越不准确，越来越没用。在某些情况下，这甚至会在几天内发生。大卫·塔尔比</p></blockquote><p id="66fc" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这意味着我们将不得不不断改进模型，而且没有最终的模型，这很有趣。</p></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><p id="0a0b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我甚至不确定我是否有资格被称为 ML 新手，因为我主要专注于移动开发。今年，我有一次令人兴奋的经历，与一个 ML 团队一起运送帮助解决公司问题的模型。我还想再做一次。</p></div></div>    
</body>
</html>