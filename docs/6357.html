<html>
<head>
<title>Observing is not intervening</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">观察不是干预</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/observing-is-not-intervening-9fbd22679f44?source=collection_archive---------13-----------------------#2018-12-09">https://towardsdatascience.com/observing-is-not-intervening-9fbd22679f44?source=collection_archive---------13-----------------------#2018-12-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="ce1b" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsdatascience.com/tagged/casual-causal-inference" rel="noopener" target="_blank">偶然的因果推断</a></h2><div class=""/><div class=""><h2 id="129a" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">以及为什么条件概率是不够的</h2></div><p id="ddd5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这是因果推理和数据科学系列文章的第三篇。前一个是<a class="ae lk" rel="noopener" target="_blank" href="/use-causal-graphs-4e3af630cf64">“用因果图！”</a>下一个是“<a class="ae lk" rel="noopener" target="_blank" href="/solving-simpsons-paradox-e85433c68d03">解决辛普森悖论</a>”。</p><p id="b047" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在因果推断中，我们感兴趣的是测量变量 A(比如某种特定疾病的治疗方法)对另一个变量 B(比如康复的概率)的影响，这种影响通常来自观察数据。这意味着我们感兴趣的是测量 A =治疗与 A =未治疗病例之间恢复概率的差异。</p><p id="1078" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在数据科学和机器学习中，我们习惯于使用<strong class="kq ja">条件概率</strong>，这似乎对这个目的很有用。但是，我们会用一个简单的例子看到，光有条件是不够的。</p><h1 id="2dc9" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">什么是条件反射</h1><p id="1dbe" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">以值<em class="mi"> X=x </em>为条件意味着，在<em class="mi"> X </em>取的所有可能值中，我们选择值<em class="mi"> x. </em>的特定样本，例如，如果我们有数据</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/b3823af66c2620ef2a41f25e8d849f20.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*FDrMFPgbmRbBW94IWCHDog.png"/></div></figure><p id="0955" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">选择 X=1 将导致</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/1df1fb08ef3082183fcb4ddf89608537.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*OfEU83GTzwq6UFclq5GabQ.png"/></div></figure><h1 id="e3f0" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">药店示例</h1><p id="1f4d" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">想象一下下面的情况。我们去药店，因为我们感冒了。他们有两种不同的药物:药物 1 和药物 2。药物 1 更受欢迎，所以我们首先要求它:他们有 50%的时间，所以我们服用它，我们恢复。在另外 50%的病例中，90%的情况下他们有一种更贵的药物 2，我们买了它，也康复了。但是在剩下的 10%里，他们两种都用完了，所以我们保持冷静。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/cfac9b162dc20ff8c050804f8cea0009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*jLg5ypXcaaO_nvtOBnPECw.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Drugstore selling diagram</figcaption></figure><p id="04b8" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="mi">如果实验室停止生产药物 2 怎么办？我们康复的可能性有多大？答案似乎很清楚:50%的病例我们无法恢复。</em></p><p id="22c5" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">让我们看看，如果我们尝试用直接条件概率来回答这个问题，会发生什么。如果我们收集前面的信息，我们得到<em class="mi">药店销售表</em>。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mw"><img src="../Images/0bdb92c68dabadec5a8b5775aa24c804.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDY7yaJQCwCFV_PsFKHIjg.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Drugstore selling table</figcaption></figure><p id="79ce" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在，在没有药物 2 的情况下，治愈的概率是多少？为此，我们需要选择对应于药物 2 =否的样本</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mw"><img src="../Images/672439ba14094fb7f3a81cfb3676c15b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c0pFbWZyg5pYPiVa8Bh1Cw.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">No Drug 2 table</figcaption></figure><p id="e7c6" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">并计算恢复的概率</p><p id="f5c3" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">p(恢复中|药物 2 =否)= 50 /( 50 + 5) ~ 91%</p><p id="d4b1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这是一个完全不同的结果！</p><h1 id="ca61" class="ll lm iq bd ln lo lp lq lr ls lt lu lv kf lw kg lx ki ly kj lz kl ma km mb mc bi translated">发生了什么事？！</h1><p id="9142" class="pw-post-body-paragraph ko kp iq kq b kr md ka kt ku me kd kw kx mf kz la lb mg ld le lf mh lh li lj ij bi translated">我们可以使用因果图来模拟数据生成过程。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/8cc5b583060242ec1103bb4b62f7a6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*A20MOtaUFK9A__yecA6ZnQ.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Data generation graph</figcaption></figure><p id="ae87" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这张图表反映了我们的观察数据。买药 2 看之前有没有买过药 1，恢复看买过哪些药。该过程产生的数据在上面的<em class="mi">药店销售表</em>中获得。</p><p id="7dff" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">但是，我们关于缺少药物 2 的问题涉及不同的数据生成过程。其中药物 2 不再依赖于药物 1，因为药物 2 总是缺失。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/1aca4108f9917b50123c3405a2c224d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*yxDX2O2i4uCbAY5Cuoa9Wg.png"/></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Interventional graph</figcaption></figure><p id="edea" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个图被称为<strong class="kq ja">干预图</strong>，它模拟了如果没有药物 2 会发生什么。如果我们可以从这个图中采样数据，我们将获得<em class="mi">介入数据表</em></p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mx my di mz bf na"><div class="gh gi mw"><img src="../Images/044199faf6dd06cd50e641981b55119a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjnp2uhAkLMnGQTJ7ufx2g.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk">Interventional data table</figcaption></figure><p id="150a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们可以在新的概率分布 P _ intervened 下直接计算</p><p id="6974" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">p _ 干预(恢复|药物 2 =否)= 50 /( 50 + 50)= 50%</p><p id="1498" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这是预期的结果。为什么直接条件概率不奏效？因为它们回答了关于由数据生成图生成的数据的问题。在某些情况下是可以的，但在这种情况下，这是不够的。</p><p id="a68e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这个玩具练习是一个简单的例子，用来理解在一般情况下这种类型的分析所附带的问题。这里我们知道数据是如何产生的(因为我们做到了)。然而，获得介入数据表不会如此简单。简单的解决方法是，回到现实，停用药物 2 一段时间，然后测量有多少人康复。当然，在许多情况下，这将会产生很大的不良后果。</p><p id="cf4c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><em class="mi">因果推理的一个主要问题是，我们是否可以仅从收集的观察数据中从介入图中导出数据，而不必去现实中做实验</em>。意思是，在只有历史数据的介入图中，我们能得到恢复的概率吗？在下面的帖子中，我们将解释如何用经典的辛普森悖论得到这样的结果。</p></div></div>    
</body>
</html>