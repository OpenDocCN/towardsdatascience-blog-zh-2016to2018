<html>
<head>
<title>A Gentle Introduction on Market Basket Analysis — Association Rules</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">购物篮分析——关联规则简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-gentle-introduction-on-market-basket-analysis-association-rules-fa4b986a40ce?source=collection_archive---------0-----------------------#2017-09-25">https://towardsdatascience.com/a-gentle-introduction-on-market-basket-analysis-association-rules-fa4b986a40ce?source=collection_archive---------0-----------------------#2017-09-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/8db0f9f1db0a6586b70144b156fa9be3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*--iUPe_DtzKdongjqZ2lOg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Source: UofT</figcaption></figure><h2 id="c624" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">介绍</h2><p id="b07d" class="pw-post-body-paragraph ky kz iq la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls ij bi translated">购物篮分析是大型零售商用来发现商品之间关联的关键技术之一。它通过寻找在交易中频繁出现的项目组合来工作。换句话说，它允许零售商识别人们购买的商品之间的关系。</p><p id="2d89" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">关联规则被广泛用于分析零售购物篮或交易数据，并且旨在基于强规则的概念，使用感兴趣的度量来识别在交易数据中发现的强规则。</p><p id="acbf" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated"><strong class="la ir">关联规则的一个例子</strong></p><ul class=""><li id="d10e" class="ly lz iq la b lb lt lf lu kl ma kp mb kt mc ls md me mf mg bi translated">假设有100个客户</li><li id="0b45" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">其中10人买了牛奶，8人买了黄油，6人两样都买了。</li><li id="eb11" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">买了牛奶= &gt;买了黄油</li><li id="776e" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">支持= P(牛奶和黄油)= 6/100 = 0.06</li><li id="d2b5" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">信心=支持度/P(黄油)= 0.06/0.08 = 0.75</li><li id="8f92" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">lift =置信度/P(牛奶)= 0.75/0.10 = 7.5</li></ul><p id="c519" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">注意:这个例子非常小。在实践中，一个规则需要数百个事务的支持，才能被认为具有统计意义，数据集通常包含数千或数百万个事务。</p><p id="9de4" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">好了，理论到此为止，让我们来看看代码。</p><p id="9b30" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">我们今天使用的数据集来自<a class="ae mm" href="http://archive.ics.uci.edu/ml/index.php" rel="noopener ugc nofollow" target="_blank"> UCI机器学习库</a>。该数据集被称为“在线零售”，可以在<a class="ae mm" href="http://archive.ics.uci.edu/ml/datasets/online+retail" rel="noopener ugc nofollow" target="_blank">这里</a>找到。它包含一家总部位于英国的注册在线零售商在2010年1月12日至2011年9月12日之间发生的所有交易。</p><h2 id="45c1" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">装载包裹</h2><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="daf1" class="kc kd iq ms b gy mw mx l my mz">library(tidyverse)<br/>library(readxl)<br/>library(knitr)<br/>library(ggplot2)<br/>library(lubridate)<br/>library(arules)<br/>library(arulesViz)<br/>library(plyr)</span></pre><h2 id="8598" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">数据预处理和探索</h2><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="01b7" class="kc kd iq ms b gy mw mx l my mz">retail &lt;- read_excel('Online_retail.xlsx')<br/>retail &lt;- retail[complete.cases(retail), ]<br/>retail &lt;- retail %&gt;% mutate(Description = as.factor(Description))<br/>retail &lt;- retail %&gt;% mutate(Country = as.factor(Country))<br/>retail$Date &lt;- as.Date(retail$InvoiceDate)<br/>retail$Time &lt;- format(retail$InvoiceDate,"%H:%M:%S")<br/>retail$InvoiceNo &lt;- as.numeric(as.character(retail$InvoiceNo))</span><span id="3170" class="kc kd iq ms b gy na mx l my mz">glimpse(retail)</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/9fddf8beb8d1893d299a321592d0e7bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*bO6ucBpoo0BB8_Lnfx_HpA.png"/></div></div></figure><p id="7620" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">经过预处理后，数据集包括406，829条记录和10个字段:发票号、库存代码、描述、数量、发票日期、单价、客户ID、国家、日期、时间。</p><p id="a8f2" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">人们通常在什么时候上网购物？</p><p id="729d" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">为了找到这个问题的答案，我们需要从时间列中提取“小时”。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="1ea9" class="kc kd iq ms b gy mw mx l my mz">retail$Time &lt;- as.factor(retail$Time)<br/>a &lt;- hms(as.character(retail$Time))<br/>retail$Time = hour(a)</span><span id="c79b" class="kc kd iq ms b gy na mx l my mz">retail %&gt;% <br/>  ggplot(aes(x=Time)) + <br/>  geom_histogram(stat="count",fill="indianred")</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/0793a142e8214a5cfbd3a1b4066666f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EZrHMZCkgnJXAbIoLaZ6Ng.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Figure 1. Shopping time distribution</figcaption></figure><p id="e4a0" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">一天中的小时和订单量之间有明显的偏差。大多数订单发生在10:00-15:00之间。</p><p id="3575" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated"><strong class="la ir">每位顾客购买多少件商品？</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="490d" class="kc kd iq ms b gy mw mx l my mz">detach("package:plyr", unload=TRUE)</span><span id="b713" class="kc kd iq ms b gy na mx l my mz">retail %&gt;% <br/>  group_by(InvoiceNo) %&gt;% <br/>  summarize(n_items = mean(Quantity)) %&gt;%<br/>  ggplot(aes(x=n_items))+<br/>  geom_histogram(fill="indianred", bins = 100000) + <br/>  geom_rug()+<br/>  coord_cartesian(xlim=c(0,80))</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/f40121396351e29eb3701d0f88ed018c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c_c06OhNR52SVqdTNYqjLQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Figure 2. Number of items per invoice distribution</figcaption></figure><p id="0641" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">大多数人购买的商品少于10件(每张发票少于10件)。</p><p id="20b7" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated"><strong class="la ir">十大畅销书</strong></p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="be52" class="kc kd iq ms b gy mw mx l my mz">tmp &lt;- retail %&gt;% <br/>  group_by(StockCode, Description) %&gt;% <br/>  summarize(count = n()) %&gt;% <br/>  arrange(desc(count))<br/>tmp &lt;- head(tmp, n=10)<br/>tmp</span><span id="2f33" class="kc kd iq ms b gy na mx l my mz">tmp %&gt;% <br/>  ggplot(aes(x=reorder(Description,count), y=count))+<br/>  geom_bar(stat="identity",fill="indian red")+<br/>  coord_flip()</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/47dfaecd80688aa60e7d08836a36ed0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*4f04pc-YiMFvNnjRcrwyXQ.png"/></div></figure><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/4ef4b6fa641f49da3791c7354b69b3b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_uXeiIc6razS7Pl6m1jsdA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Figure 3. Top 10 best sellers</figcaption></figure><h2 id="c191" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">在线零售商的关联规则</h2><p id="ebfa" class="pw-post-body-paragraph ky kz iq la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls ij bi translated">在使用任何规则挖掘算法之前，我们需要将数据从数据帧格式转换为事务，这样我们就可以将所有购买的商品放在一行中。例如，这是我们需要的格式:</p><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/5cb75a14e2a4353c27d89d358b4a4b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1214/format:webp/1*xjW0z_vyl06OqQ1IPimpaw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Source: Microsoft</figcaption></figure><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="9553" class="kc kd iq ms b gy mw mx l my mz">retail_sorted &lt;- retail[order(retail$CustomerID),]<br/>library(plyr)<br/>itemList &lt;- ddply(retail,c("CustomerID","Date"), <br/>                       function(df1)paste(df1$Description, <br/>                       collapse = ","))</span></pre><p id="488e" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">函数ddply()接受一个数据帧，根据一个或多个因素将其分割成多个部分，对这些部分进行计算，然后将结果作为数据帧返回。我们用“，”来分隔不同的项目。</p><p id="d8f8" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">我们只需要项目交易，所以删除customerID和Date列。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6ed8" class="kc kd iq ms b gy mw mx l my mz">itemList$CustomerID &lt;- NULL<br/>itemList$Date &lt;- NULL<br/>colnames(itemList) &lt;- c("items")</span></pre><p id="0c12" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">将数据帧写入csv文件，并检查我们的事务格式是否正确。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="17cf" class="kc kd iq ms b gy mw mx l my mz">write.csv(itemList,"market_basket.csv", quote = FALSE, row.names = TRUE)</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/8e4237a07705168e9981f178f1d33a73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yoEc41u7FHGQ0yZPublChw.png"/></div></div></figure><p id="3f69" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">完美！现在我们有了交易数据集，它显示了一起购买的商品的矩阵。我们实际上看不到他们多久一起买一次，也看不到规则。但是我们会找到答案的。</p><p id="5d8d" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">让我们仔细看看我们有多少事务，它们是什么。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="c224" class="kc kd iq ms b gy mw mx l my mz">tr &lt;- read.transactions('market_basket.csv', format = 'basket', sep=',')<br/>tr<br/>summary(tr)</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/c37c5b5e6495bef9aa8ae73908fa966b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kGRgk-wtRGc0rKRlVsyNwQ.png"/></div></div></figure><p id="3c3d" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">我们看到19，296个事务，这也是行数。有7，881个项目—记住项目是我们原始数据集中的产品描述。这里的事务是这7，881个项目的集合或子集。</p><p id="8ef6" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">总结给了我们一些有用的信息:</p><ul class=""><li id="ccd2" class="ly lz iq la b lb lt lf lu kl ma kp mb kt mc ls md me mf mg bi translated">密度:稀疏矩阵中非空单元的百分比。换句话说，购买的商品总数除以矩阵中可能的商品总数。我们可以这样使用密度来计算购买了多少物品:<strong class="la ir"><em class="ni">19296 X 7881 X 0.0022</em></strong></li><li id="35dc" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">最常见的项目应该与图3中的结果相同。</li><li id="7600" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">看看交易的规模:2247笔交易仅针对1件商品，1147笔交易针对2件商品，一直到最大的交易:1笔交易针对420件商品。这表明大多数顾客在每次交易中只购买少量商品。</li></ul><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/322f2e4b9656afc1ebb8316958c02065.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*kgOcVEdY7S3fb0A0mDu3yQ.png"/></div></figure><ul class=""><li id="32d6" class="ly lz iq la b lb lt lf lu kl ma kp mb kt mc ls md me mf mg bi translated">数据的分布是右偏的。</li></ul><p id="ba7a" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">让我们看一下项目频率图，它应该与图3一致。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="2322" class="kc kd iq ms b gy mw mx l my mz">itemFrequencyPlot(tr, topN=20, type='absolute')</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/4f2397ce8baf2480178abb39a78e3883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MBeXmXbhm0G4luNDPddISw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Figure 4. A bar plot of the support of the 20 most frequent items bought.</figcaption></figure><h2 id="d54f" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">创建一些规则</h2><ul class=""><li id="e1c5" class="ly lz iq la b lb lc lf lg kl nl kp nm kt nn ls md me mf mg bi translated">我们使用Arules库中的Apriori算法来挖掘频繁项集和关联规则。该算法对频繁项集采用逐级搜索。</li><li id="f71d" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">我们通过supp=0.001和conf=0.8来返回支持度至少为0.1%、置信度至少为80%的所有规则。</li><li id="a18c" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">我们按照置信度递减的方式对规则进行排序。</li><li id="875e" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">看一下规则的总结。</li></ul><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="c936" class="kc kd iq ms b gy mw mx l my mz">rules &lt;- apriori(tr, parameter = list(supp=0.001, conf=0.8))<br/>rules &lt;- sort(rules, by='confidence', decreasing = TRUE)<br/>summary(rules)</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/e81583b84d77b28fe7708383898ff11a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*66-cdh38n44flmADoYZmmw.png"/></div></figure><p id="24ae" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">这些规则的总结给了我们一些非常有趣的信息:</p><ul class=""><li id="0558" class="ly lz iq la b lb lt lf lu kl ma kp mb kt mc ls md me mf mg bi translated">规则数:89697。</li><li id="8475" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">按长度分布规则:长度为6项的规则最多。</li><li id="532c" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">质量度量的概要:支持、信心和提升的范围。</li><li id="907c" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">关于数据挖掘的信息:挖掘的数据总量，以及我们之前设置的最小参数。</li></ul><p id="0961" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">我们有89697条规则。我不想把它们都印出来，所以我们来检查一下前10名。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="9dfd" class="kc kd iq ms b gy mw mx l my mz">inspect(rules[1:10])</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div class="gh gi np"><img src="../Images/fc146cd99b147ae1c0e7b30fdf3d8404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*PlY6Vwwp7uMzQ3KHMx7xHw.png"/></div></figure><p id="d617" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">解释相当直接:</p><ul class=""><li id="8e6c" class="ly lz iq la b lb lt lf lu kl ma kp mb kt mc ls md me mf mg bi translated">100%买了“晃晃悠悠的鸡”的顾客也买了“装修”。</li><li id="1509" class="ly lz iq la b lb mh lf mi kl mj kp mk kt ml ls md me mf mg bi translated">买了“红茶”的顾客100%也买了“糖罐”。</li></ul><p id="b6a1" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">并列出这10条最重要的规则。</p><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="6c8d" class="kc kd iq ms b gy mw mx l my mz">topRules &lt;- rules[1:10]<br/>plot(topRules)</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/2e4fc8c6f3088a64eee00eeabb113676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q--4BeRH2PdqRiX-1QVEEg.png"/></div></div></figure><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="b188" class="kc kd iq ms b gy mw mx l my mz">plot(topRules, method="graph")</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/5394750b3664d33435ae9dcb7cc8af39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W5tkoEd4rEnLvrXX3C-4HA.png"/></div></div></figure><pre class="mn mo mp mq gt mr ms mt mu aw mv bi"><span id="3b3b" class="kc kd iq ms b gy mw mx l my mz">plot(topRules, method = "grouped")</span></pre><figure class="mn mo mp mq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nq"><img src="../Images/1ac3183fd77b44ca736ea0728caea9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X9Bh7Y2QQOKv9zbUrygyNA.png"/></div></div></figure><h2 id="8c1d" class="kc kd iq bd ke kf kg dn kh ki kj dp kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">摘要</h2><p id="6051" class="pw-post-body-paragraph ky kz iq la b lb lc ld le lf lg lh li kl lj lk ll kp lm ln lo kt lp lq lr ls ij bi translated">在这篇文章中，我们学习了如何在R中执行购物篮分析，以及如何解释结果。如果你想用Python实现它们，<a class="ae mm" href="http://rasbt.github.io/mlxtend/" rel="noopener ugc nofollow" target="_blank"> Mlxtend </a>是一个Python库，它实现了这类应用程序的Apriori算法。这里可以找到介绍教程<a class="ae mm" href="http://pbpython.com/market-basket-analysis.html" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="3810" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">如果你想用R Markdown文件来制作这篇博文，你可以在这里找到<a class="ae mm" href="https://github.com/susanli2016/Data-Analysis-with-R/blob/master/Market_Basket_Analysis.Rmd" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="54c1" class="pw-post-body-paragraph ky kz iq la b lb lt ld le lf lu lh li kl lv lk ll kp lw ln lo kt lx lq lr ls ij bi translated">参考:<a class="ae mm" href="http://www.rdatamining.com/examples/association-rules" rel="noopener ugc nofollow" target="_blank"> R和数据挖掘</a></p></div></div>    
</body>
</html>