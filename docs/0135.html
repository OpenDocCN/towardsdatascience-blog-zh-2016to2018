<html>
<head>
<title>Finding patterns in deaths in Game of Thrones using Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用机器学习发现《权力的游戏》中的死亡模式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/finding-patterns-of-death-in-game-of-thrones-using-machine-learning-68cf95d7f1d1?source=collection_archive---------2-----------------------#2017-03-16">https://towardsdatascience.com/finding-patterns-of-death-in-game-of-thrones-using-machine-learning-68cf95d7f1d1?source=collection_archive---------2-----------------------#2017-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6aba95949b6ce00bdc6fb424474639f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zlXmKBBgAvmH5mVBW5WTXw.jpeg"/></div></div></figure><p id="3216" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Valar Morghulis ( <em class="kw">所有人都必须死</em>)是任何 GoT 粉丝最难忘的一句话。几乎每一集都有令人震惊的死亡。大多数角色，包括杰出人物，都遭遇了暴力的结局。但是死亡是随机发生的呢，还是发生在具有相似特征的特定角色身上呢？那些死去的人和那些设法活下来的人之间有某种模式吗？</p><blockquote class="kx ky kz"><p id="0320" class="jy jz kw ka b kb kc kd ke kf kg kh ki la kk kl km lb ko kp kq lc ks kt ku kv ij bi translated">当你玩权力的游戏时，你要么赢，要么死。</p></blockquote><p id="6e6f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">机器学习是一种技术，它允许计算机找到隐藏的洞察力，而无需显式编程去哪里寻找。它从足够多的过去的例子中学习来预测未来。在这个项目中，我将机器学习应用于 Kaggle 上的《权力的游戏》<a class="ae ld" href="https://www.kaggle.com/mylesoneill/game-of-thrones" rel="noopener ugc nofollow" target="_blank">数据集</a>,以识别影响角色死亡的特征。(数据集基于《冰与火之歌》这本书，而非该剧。)</p><p id="ad18" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="kw">因为真正的粉丝看书。</em></p><p id="17b5" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">数据集</strong></p><p id="6421" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该数据集包括总共 27 个特征(标题、性别、文化、年龄、贵族、在每本书中的出现、死亡关系的数量、受欢迎程度等)。)大约 2000 个字符。它还描述了角色在第五本书(《与龙共舞》)结束时是生是死。</p><p id="af03" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">功能选择</strong></p><p id="4987" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在将分类特征转换成数字特征后，我总共有 685 个特征。然后，我使用带有线性支持向量分类器的<a class="ae ld" href="http://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.SelectFromModel.html" rel="noopener ugc nofollow" target="_blank"> SelectFromModel </a>来选择最佳的 32 个特征。</p><p id="e245" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">交叉验证和超参数优化</strong></p><p id="e1da" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将数据集分为训练集和测试集(80–20)。具有 10 重交叉验证的线性 SVC 在测试集上提供了 0.76 的准确度。调整内核参数将精确度提高到 0.78。优化的随机森林分类器进一步提高了 0.82 的精度。</p><p id="ab7f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">方法性能</strong></p><p id="37ed" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我使用 TP(真阳性，即正确预测的死亡人物)、FP(假阳性，即活着的人物预测死亡)、TN(真阴性，即正确预测的活着的人物)和 FN(假阴性，即死亡的人物预测活着)的比率来测量精确度、召回率和 f 分数。</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div class="gh gi le"><img src="../Images/c0f8b1c3c60dc06199b3b4a56de985bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*LUwi4ithV2fA5ushvgaqtQ.jpeg"/></div></figure><p id="40c6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我的模型的预测结果是:</p><pre class="lf lg lh li gt lj lk ll lm aw ln bi"><span id="7f6a" class="lo lp iq lk b gy lq lr l ls lt">+--------+-----------+--------+---------+<br/>| Labels | Precision | Recall | F-Score |<br/>+--------+-----------+--------+---------+<br/>| Alive  | 93%       | 85%    | 86.5%   |<br/>| Dead   | 47%       | 70%    | 63.5%   |<br/>+--------+-----------+--------+---------+</span></pre><p id="e815" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">重要特性</strong></p><p id="5c4b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在随机森林中使用<a class="ae ld" href="http://scikit-learn.org/stable/auto_examples/ensemble/plot_forest_importances.html" rel="noopener ugc nofollow" target="_blank">特征重要性</a>度量，发现以下特征贡献最大(从贡献最大到贡献最小排序):</p><ol class=""><li id="c62d" class="lu lv iq ka b kb kc kf kg kj lw kn lx kr ly kv lz ma mb mc bi translated">与角色相关的死亡角色的数量</li><li id="5fe1" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">《乌鸦的盛宴》中的人物形象</li><li id="9fcd" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">《与龙共舞》中的人物形象</li><li id="3272" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">角色的性别</li><li id="c5c3" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">《权力的游戏》中的人物形象</li><li id="5acd" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">性格的高贵</li><li id="1606" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">《刀剑风波》中的人物形象</li><li id="85f1" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">角色的头衔(社会地位)</li><li id="30e7" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">角色所属的房子</li><li id="4bd3" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">《国王的冲突》中的人物形象</li><li id="888a" class="lu lv iq ka b kb md kf me kj mf kn mg kr mh kv lz ma mb mc bi translated">角色的受欢迎程度</li></ol><p id="9e90" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">探索特征与死亡的关系</strong></p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/9559746ccc87f4cbdfc1c07c90d0161c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ta2_jD9qb-ru0lrecV_iIg.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><strong class="bd mn">Is there a relationship between survival and number of dead relatives?</strong></figcaption></figure><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mo"><img src="../Images/167ece7e0b329403cd3de5882b3ae00b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-QEw0eHmOD_GxsbN7FCQ5g.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><strong class="bd mn">Does appearing in more books relate to survival?</strong></figcaption></figure><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mi"><img src="../Images/79be992bc916f08666bdce32d364563b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M0YOscDNvMDVaIcCSKSzmg.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><strong class="bd mn">Does belonging to a noble family make you prone to death?</strong></figcaption></figure><figure class="lf lg lh li gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/a6153077a65259860aefe63c1044ed17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*niTOxAqYxdaTKJ61LnVOVA.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk"><strong class="bd mn">How does house relate to survival? (Only houses with more than 10 members have been considered.)</strong></figcaption></figure><p id="a11c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">做好准备，冬天来了！更多的死亡和情节曲折也是如此。虽然我们只能等待冬天的风来看看接下来会发生什么，但这一分析可能会帮助我们做好准备。因为黑夜是黑暗的，充满了恐惧。</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/a3856906260679f4d00bb04b94fe3c81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*fbRG9cKJ0ZlK7IY50Ep2wA.gif"/></div></figure><p id="c88f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我将收集更多的数据，并对上述结果进行进一步的分析，以预测未来书籍中人物的命运。你可以在<a class="ae ld" href="https://github.com/shubhambitsg/machine-learning/tree/master/ml-projects/game-of-thrones_ml" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到我的代码，并在<a class="ae ld" href="https://twitter.com/shubham_bitsg" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上与我联系，讨论一些很酷的想法。让我们的极客来展示我们对这本书和这个节目的热爱吧。</p><p id="0998" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除非他杀光他们…</p><figure class="lf lg lh li gt jr gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/3a2890ad49634a98f5cca5d3566cfd77.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*TrIVQmzmqjJ-kmyeq4VWVA.jpeg"/></div></figure></div></div>    
</body>
</html>