<html>
<head>
<title>Get Started: 3 Ways to Load CSV files into Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">入门:将 CSV 文件加载到 Colab 的 3 种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-ways-to-load-csv-files-into-colab-7c14fcbdcb92?source=collection_archive---------0-----------------------#2018-11-27">https://towardsdatascience.com/3-ways-to-load-csv-files-into-colab-7c14fcbdcb92?source=collection_archive---------0-----------------------#2018-11-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a2bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">没有数据，数据科学就什么都不是。是的，那是明显的。不太明显的是将数据转换成允许您浏览数据的格式所涉及的一系列步骤。您可能拥有 CSV 格式的数据集(逗号分隔值的缩写)，但不知道下一步该做什么。这篇文章将通过允许您将 CSV 文件加载到 Colab 来帮助您开始学习数据科学。</p><p id="861f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">Colab</strong>(co laboratory 的缩写)是谷歌的一个免费平台，允许用户用 Python 编码。Colab 本质上是 Jupyter 笔记本的谷歌套件版本。与 Jupyter 相比，Colab 的一些优势包括更容易安装软件包和共享文档。然而，当加载像 CSV 文件这样的文件时，它需要一些额外的编码。我将向您展示三种将 CSV 文件加载到 Colab 并将其插入 Pandas 数据帧的方法。</p><p id="a513" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">(注意:Python 包中包含了常见的数据集。我不会在本文中讨论加载这些数据集。)</p><p id="ad6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，请登录您的 Google 帐户，进入 Google Drive。点击左侧的<strong class="jp ir">新</strong>按钮，如果安装了<strong class="jp ir">协同实验室</strong>(如果没有，点击<strong class="jp ir">连接更多应用</strong>，搜索协同实验室并安装)。从那里，如下所示导入熊猫(Colab 已经安装了它)。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="cdc9" class="kv kw iq kr b gy kx ky l kz la">import pandas as pd</span></pre><h2 id="538b" class="kv kw iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">1)从 Github(文件&lt; 25MB)</h2><p id="abcc" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">The easiest way to upload a CSV file is from your GitHub repository. Click on the dataset in your repository, then click on <strong class="jp ir">查看 Raw </strong>。将链接复制到原始数据集，并在 Colab 中将它存储为一个名为 url 的字符串变量，如下所示(一个更简洁的方法，但不是必需的)。最后一步是将 url 加载到 Pandas read_csv 中以获得 dataframe。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="3420" class="kv kw iq kr b gy kx ky l kz la">url = 'copied_raw_GH_link'</span><span id="8316" class="kv kw iq kr b gy lx ky l kz la">df1 = pd.read_csv(url)</span><span id="d15f" class="kv kw iq kr b gy lx ky l kz la"># Dataset is now stored in a Pandas Dataframe</span></pre><h2 id="ed5c" class="kv kw iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">2)从本地驱动器</h2><p id="01b0" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">要从本地驱动器上传，请从以下代码开始:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="6502" class="kv kw iq kr b gy kx ky l kz la">from google.colab import files<br/>uploaded = files.upload()</span></pre><p id="d9ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它会提示您选择一个文件。点击<strong class="jp ir">选择文件</strong>，然后选择并上传文件。等待文件 100%上传。一旦 Colab 上传了文件，您应该会看到它的名称。</p><p id="f6df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，键入以下代码，将其导入到 dataframe 中(确保文件名与上传文件的名称相匹配)。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="6b18" class="kv kw iq kr b gy kx ky l kz la">import io</span><span id="1de0" class="kv kw iq kr b gy lx ky l kz la">df2 = pd.read_csv(io.BytesIO(uploaded['Filename.csv']))</span><span id="c4f4" class="kv kw iq kr b gy lx ky l kz la"># Dataset is now stored in a Pandas Dataframe</span></pre><h2 id="6e24" class="kv kw iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">3)通过 PyDrive 从 Google Drive</h2><p id="8f1b" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">这是三种方法中最复杂的一种。我将展示给那些将 CSV 文件上传到 Google Drive 进行工作流控制的人。首先，键入以下代码:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="f0f3" class="kv kw iq kr b gy kx ky l kz la"># Code to read csv file into Colaboratory:</span><span id="2d17" class="kv kw iq kr b gy lx ky l kz la">!pip install -U -q PyDrive<br/>from pydrive.auth import GoogleAuth<br/>from pydrive.drive import GoogleDrive<br/>from google.colab import auth<br/>from oauth2client.client import GoogleCredentials</span><span id="0e6a" class="kv kw iq kr b gy lx ky l kz la"># Authenticate and create the PyDrive client.<br/>auth.authenticate_user()<br/>gauth = GoogleAuth()<br/>gauth.credentials = GoogleCredentials.get_application_default()<br/>drive = GoogleDrive(gauth)</span></pre><p id="6544" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">出现提示时，点击链接获得认证，以允许谷歌访问您的驱动器。您应该会看到一个屏幕，顶部显示“<strong class="jp ir"> Google Cloud SDK 想要访问您的 Google 帐户</strong>”。在您允许权限后，复制给定的验证码并将其粘贴到 Colab 中的框中。</p><p id="75ba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">完成验证后，转到 Google Drive 中的 CSV 文件，右键单击并选择“<strong class="jp ir">获取可共享链接</strong>”。该链接将被复制到您的剪贴板中。将这个链接粘贴到 Colab 中的一个字符串变量中。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="c5c5" class="kv kw iq kr b gy kx ky l kz la">link = '<a class="ae ly" href="https://drive.google.com/open?id=1DPWWI61v2brRhbEMolgLqOWKbZbE-IQu'" rel="noopener ugc nofollow" target="_blank">https://drive.google.com/open?id=<strong class="kr ir">1DPZZQ43w8brRhbEMolgLqOWKbZbE-IQu</strong>'</a> # The shareable link</span></pre><p id="19d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你想要的是等号后面的 id 部分<em class="kl">。要获得这一部分，请键入以下代码:</em></p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="c257" class="kv kw iq kr b gy kx ky l kz la">fluff, id = link.split('=')</span><span id="f639" class="kv kw iq kr b gy lx ky l kz la">print (id) # Verify that you have everything after '='</span></pre><p id="0e7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，键入以下代码，将该文件放入数据帧中</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="1262" class="kv kw iq kr b gy kx ky l kz la">downloaded = drive.CreateFile({'id':id}) <br/>downloaded.GetContentFile('Filename.csv')  <br/>df3 = pd.read_csv('Filename.csv')</span><span id="8a0a" class="kv kw iq kr b gy lx ky l kz la"># Dataset is now stored in a Pandas Dataframe</span></pre><h2 id="7531" class="kv kw iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated">最后的想法</h2><p id="b03a" class="pw-post-body-paragraph jn jo iq jp b jq ls js jt ju lt jw jx jy lu ka kb kc lv ke kf kg lw ki kj kk ij bi translated">这是将 CSV 文件上传到 Colab 的三种方法。根据文件的大小和组织工作流的方式，每种方法都有其优点。一旦数据有了更好的格式，比如熊猫数据帧，就可以开始工作了。</p><h2 id="5cfc" class="kv kw iq bd lb lc ld dn le lf lg dp lh jy li lj lk kc ll lm ln kg lo lp lq lr bi translated"><strong class="ak">奖励方式——我的动力</strong></h2><figure class="km kn ko kp gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lz"><img src="../Images/d67246c8024ae7328c169ec6aa0c5d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*99WL0KKd7x3d6U-0IBQ8WA.png"/></div></div></figure><p id="a986" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">非常感谢你的支持。为了纪念这篇文章达到 50k 的浏览量和 25k 的阅读量，我提供了一个将 CSV 文件导入 Colab 的额外方法。这个很简单干净。在你的 Google Drive (" <strong class="jp ir"> My Drive </strong>")中，在你选择的位置创建一个名为<strong class="jp ir"> data </strong>的文件夹。这是您上传数据的地方。</p><p id="3fcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从 Colab 笔记本中，键入以下内容:</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="c5e0" class="kv kw iq kr b gy kx ky l kz la">from google.colab import drive<br/>drive.mount('/content/drive')</span></pre><p id="5ae7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">就像第三种方法一样，命令会将您带到 Google 身份验证步骤。您应该会看到一个屏幕，上面显示<strong class="jp ir"> Google Drive 文件流想要访问您的 Google 帐户。</strong>得到允许后，复制给定的验证码，粘贴到 Colab 中的框内。</p><p id="64ff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在笔记本中，点击笔记本左上角的炭笔<strong class="jp ir"> &gt; </strong>，点击<strong class="jp ir">文件</strong>。找到您之前创建的<strong class="jp ir">数据</strong>文件夹并找到您的数据。右击您的数据并选择<strong class="jp ir">复制路径</strong>。将这个复制的路径存储到一个变量中，就可以开始了。</p><pre class="km kn ko kp gt kq kr ks kt aw ku bi"><span id="412c" class="kv kw iq kr b gy kx ky l kz la">path = "<em class="kl">copied path</em>"<br/>df_bonus = pd.read_csv(path)</span><span id="5eac" class="kv kw iq kr b gy lx ky l kz la"># Dataset is now stored in a Pandas Dataframe</span></pre><p id="4d8a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种方法的伟大之处在于，你可以从你自己的 Google Drive 中创建的单独的数据集文件夹中访问数据集，而无需第三种方法中涉及的额外步骤。</p></div></div>    
</body>
</html>