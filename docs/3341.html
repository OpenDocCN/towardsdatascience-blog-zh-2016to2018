<html>
<head>
<title>Designing an IoT solution in 2018</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2018年设计物联网解决方案</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/designing-an-iot-solution-in-2018-7fe1356e63d6?source=collection_archive---------3-----------------------#2018-05-04">https://towardsdatascience.com/designing-an-iot-solution-in-2018-7fe1356e63d6?source=collection_archive---------3-----------------------#2018-05-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="64ef" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">几天前，我接到一个朋友的电话，他们有市场领先的产品，是时候推出他们的解决方案了。"外面是一片汪洋，你建议如何开始？"这些天，我主动给他写了一封电子邮件，提供了一些关于开始物联网系统设计的指导，以下是我的邮件:)</p></blockquote><h2 id="47a3" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">2018年更容易，2018年更难</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/1dd365dd2d8742e23ea654edac35eba6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sgdgTcF5D-VWg9K9."/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Going into the IoT world might feel like that in the begining</figcaption></figure><p id="be4d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">大约在2009年，当我们在构建<a class="ae mb" href="https://smartap-tech.com" rel="noopener ugc nofollow" target="_blank"> Smartap </a>的时候，我们已经进入了物联网世界，当时没有人称之为物联网，实际上很多人问我们:你到底为什么想把淋浴连接到互联网？你可以节约用水，这是我们道歉的回答，2009年美好的清洁技术时代。</p><p id="925b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">我想将淋浴器连接到互联网，生活很容易— <strong class="jt ir">你别无选择:)</strong>在接下来的几年里，我发现自己成为了物联网专家，我想做的只是将淋浴器连接到互联网，但它经历了<a class="ae mb" href="https://en.wikipedia.org/wiki/Zigbee" rel="noopener ugc nofollow" target="_blank"> Zigbee </a>、<a class="ae mb" href="https://en.wikipedia.org/wiki/Local_area_network" rel="noopener ugc nofollow" target="_blank">LAN</a>、wifi许多协议和开发套件，早期采用者付出了大量的尝试和错误。微控制器生态系统是如此之早，以至于你实际上只能使用http，并使用c语言通过ASCII代码来处理消息。</p><p id="6724" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">在物联网市场诞生后的几年里，直到2013年左右，我对大多数协议和设备都非常熟悉——在这里，决策非常容易(事实上它是连接的)—只需在你的<a class="ae mb" href="https://en.wikipedia.org/wiki/Bill_of_materials" rel="noopener ugc nofollow" target="_blank"> BOM </a>上加50美元，你就连接上了(wifi)。时代已经变了，我想我已经跟不上现在单月解决方案的数量了。</p><p id="5d34" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">从那以后，我设计了几个物联网系统，所以这是我看待事物的方式。这不是一个食谱帖子，但更多的是如何开始的指导(也就是说，不是方法，而是做它的方法)。如果你需要设计一个系统，或者想对这个领域有一个全面的了解，这将是一个很好的起点。</p><p id="55c3" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">这篇文章是关于一些基本的东西，在接下来的几年里，这些东西将与物联网系统的设计相关。它会帮助你将你必须做出的重大决定与较小的决定区分开来。</p><h2 id="6f60" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">IoT是什么？</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mc"><img src="../Images/15f7cde5ef8c6385fc63c1dfb2c2ec14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Pg2sKWijRM9b24YM.jpg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">IoT is a concept, not a technology</figcaption></figure><p id="aa6d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">很难从这些天的嗡嗡声中分离出价值，但一言以蔽之，这就是<strong class="jt ir"> <em class="js">连通性</em>。</strong>如果我被迫添加另一个单词那么它的<a class="ae mb" href="http://dataloop.ai" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir"> <em class="js">数据</em> </strong> </a> <strong class="jt ir">。</strong>我使用广义的物联网这个术语，它实际上是我们周围的一切:从智能手机到汽车。对我来说，这仅仅意味着如果我们把东西连接到互联网上，我们能得到什么？在某些情况下，连接是物联网产品的全部要素(如连接电源插座)，而在其他情况下，它只是整个系统中的一小部分(如汽车或机器人)，因此物联网产品可以是一个小的附加值或其价值主张基础，它非常依赖于您的产品和市场。但是这两个字一路带在身边，是根。</p><p id="2878" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">直到2013年，我的大部分时间都花在连接部分，大约在2013年，我完全转向了数据部分(这些天来<a class="ae mb" href="http://dataloop.ai" rel="noopener ugc nofollow" target="_blank"> dataloop.ai </a>，我目前的工作都是关于数据的)。</p><p id="ab19" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">我把这两个词翻译成两个解决方案:</p><ul class=""><li id="bbdc" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated"><strong class="jt ir">连接性—数据机制— </strong>从<strong class="jt ir">设备来回传送位。</strong></li><li id="7a98" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated"><strong class="jt ir">分析/机器学习—数据价值— </strong>一旦我们被连接和感知，我们获得的洞察力和采取的行动(机器智能来了)。</li></ul><blockquote class="jn jo jp"><p id="fcc5" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">在早期，物联网完全是关于数据机制的；如今，一切都是关于机器学习和智能。几年前，我曾抱着这样的假设大量输入数据:“每个人都在收集数据，就像收集免费的黄金一样，我将专注于从数据中提取价值，因为它在未来几年听起来非常有用”。</p></blockquote><p id="c033" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">截至2018年，确实有大量数据在流动，大多数公司几乎没有能力将这些数据转化为商业价值。这篇文章主要讲述了数据机制。平我，如果你对类似的分析部分感兴趣。</p><h2 id="ea59" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">为什么是IoT？</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mr"><img src="../Images/fa65c119f566da171757656d851f838c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*U_GLuhtIdCRIYQIv.jpg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">What is the value of connecting your product ?</figcaption></figure><p id="8a23" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果你对物联网感兴趣，这是你应该问的第一个问题，创建一个仪表板并希望看到它的商业价值的日子已经过去了。总的来说，将传感器读数放在一些图表上更多的是为你的系统提供调试和监控解决方案，而不是这么做的理由。你为什么要这么做？价值在哪里？这些问题至关重要，因为你能从你的产品中获得的价值与你应该在<a class="ae mb" href="https://en.wikipedia.org/wiki/Bill_of_materials" rel="noopener ugc nofollow" target="_blank"> BOM </a>、运营和<a class="ae mb" href="https://en.wikipedia.org/wiki/Non-recurring_engineering" rel="noopener ugc nofollow" target="_blank"> NRE </a>中进行的投资密切相关，而投资的金额将决定你的解决方案。</p><p id="547a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">或者，你可以采取更常见的方法，让我们收集数据，这些天它的价值很大，并在我们进行的过程中计算它。请记住，没有明确理由的数据收集很少产生有意义的价值或有用的数据。</p><h2 id="e82b" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">基础设计</h2><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ms"><img src="../Images/ba535d87d66f042535e2d4dbc3f3855b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ImJZidnkxm3v_pMACPTsOw.png"/></div></div></figure><p id="a630" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">在其余的帖子中，将忽略<strong class="jt ir">更重要的部分，</strong>也就是数据科学和分析本身。你很少在早期设计阶段处理机器学习，不是因为它不重要，而是因为你还没有数据来开发这些可爱的花哨模型并证明它们正在工作。然而，我会建议你在实际实施之前尝试并证明你的机器学习模型的概念，如果不是技术上的，至少是商业上的。此外，值得一提的是，在大多数情况下，这两个部分是由两个不同的专家在项目的两个不同阶段完成的。作为一名领域专家，您应该能够从第一天起就清楚地阐述业务价值。你不需要机器学习专家(数据定义的咨询除外)。就像自动驾驶汽车一样，你可以在不知道你实际上如何制造汽车的情况下理解商业影响。这是基本流程:</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mt"><img src="../Images/25af36f1ca070900a647a1c14a31dcb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PiAUhiM_imP_pfbNoPICMQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">IoT Phases &amp; Leader position</figcaption></figure><p id="1851" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">让我们深入一点</p><h2 id="ff15" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">我们烹饪食物的基本原料</h2><p id="d074" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">我们的基本成分如下:</p><ul class=""><li id="ee57" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">硬件平台/处理器</li><li id="7a4b" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">操作系统和驱动程序</li><li id="2f74" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">传感器和<a class="ae mb" href="https://en.wikipedia.org/wiki/Actuator" rel="noopener ugc nofollow" target="_blank">致动器</a>。</li><li id="b106" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">输入/输出(发光二极管、按钮、屏幕等)</li><li id="98b5" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">物理通道——比特如何进出设备。</li><li id="4b33" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">逻辑通道—软件使用什么协议来传输这些位</li><li id="d7f2" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">我们的网络/连接拓扑</li><li id="3f61" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">安全性</li><li id="36c0" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">准备金提取</li><li id="578c" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">维护</li></ul><p id="3d9e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">对于这些成分中的每一种，你都必须做出一些决定。<strong class="jt ir">在</strong>做出这些决定之前，<strong class="jt ir">设定你的系统目标和限制(投资和产品问题)</strong>:</p><ul class=""><li id="bde0" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">您的电力预算是多少(电池、运行时间等是否有限)？。</li><li id="dcb0" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">你允许的花费是多少？</li><li id="43ad" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">外形(尺寸)是什么？</li><li id="9b4c" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">您期望的数据传输速率是多少？</li><li id="f743" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">计算/内存要求是什么？</li><li id="deb8" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">监管会对你施加约束吗？</li></ul><p id="6d22" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">一旦你知道了你的边界，你就准备好选择栈了，这是你在每一个成分后面放置名字和协议的地方。</p><h1 id="fc08" class="mz kq iq bd kr na nb nc ku nd ne nf kx ng nh ni lb nj nk nl lf nm nn no lj np bi translated">如何挑选？</h1><p id="ec67" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">外面有大量的功能、工具和协议——从哪里开始呢？</p><p id="22b5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">我建议这三个阶段的过程:</p><ul class=""><li id="f2fc" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">根据系统目标选择基本配料要求。</li><li id="a19a" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">使用成分列表定义您的最小堆栈，并选择开发系统。</li><li id="8927" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">研究现有的物联网堆栈提供商，看看您能否使用开发套件找到PoC的最佳匹配。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mr"><img src="../Images/71cba0238ae581bfe39cbf425032d174.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HE86X64PjfEIlXjp.jpg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">Plan your ingredients with the end dish in mind</figcaption></figure><h2 id="ea39" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">硬件平台/处理器/操作系统</h2><p id="e35a" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">这可能对您的NRE成本和开发时间有最大的影响。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/207686dfdf6e7e6126dd05a33631dc0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5LXS0Dj4V8R2eWXU.jpeg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">RPI, My favorite board.</figcaption></figure><p id="b443" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">在这里，如果您的预算允许，我建议您使用完全兼容linux的操作系统，这里的预算是指成本和功耗预算。有许多供应商有许多电路板。ARM可能是最具优势的处理器提供商，但对于神经网络和图像处理，您可能希望使用Nvidia Tigra，对于CPU负载较重的情况，您可能希望使用Intel X86。</p><p id="1b92" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">您可以通过集成ARM处理器的硬件开发商直接购买ARM处理器(如ST、TI和许多其他产品)。英伟达和英特尔直接生产他们的芯片。</p><p id="554e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><a class="ae mb" href="https://www.silabs.com/documents/public/white-papers/Which-ARM-Cortex-Core-Is-Right-for-Your-Application.pdf" rel="noopener ugc nofollow" target="_blank"> Arm提供三个主要系列的处理器，M、R和A </a>。</p><p id="2b8c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">大多数使用M(小巧、高效、廉价)或A(丰富的功能和操作系统支持)。r系列不太常见，介于两者之间。</p><p id="37de" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果你选择M，你就进入了嵌入式世界，这意味着C ++编码，低级定制驱动和迷你内核。首席运营官，RTOS是我的最爱，TI通常会提供他们的套件，将样品集成到他们的OSAL中。</p><p id="ee94" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果您决定使用嵌入式解决方案，请注意开发环境，并准备好每个功能都将是工匠的工作。甜蜜的低BOM成本伴随着整个产品生命周期的NRE价格标签。</p><p id="aae3" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">对您的主板和处理器进行基准测试<a class="ae mb" href="https://thenewstack.io/10-diy-development-boards-iot-prototyping/" rel="noopener ugc nofollow" target="_blank">市面上有许多套件</a>提供示例代码，帮助您快速入门。</p><h2 id="bed5" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">传感器、执行器和I/o</h2><p id="6cb0" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">你想定制PCB板吗？如果您决定选择嵌入式解决方案，答案已经是肯定的。</p><p id="a637" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">尽量避免。当您需要带有定制传感器和执行器嵌入式系统时，这是不可避免的。如果是这种情况，至少准备3次电路板设计迭代，并开始寻找硬件设计师。在早期阶段使用外包硬件设计师<strong class="jt ir">真的</strong>不推荐。一旦你有了一个稳定的系统，你可以外包一些工作。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi mr"><img src="../Images/733d882cbcdf72056ac61b19e3e2fc81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*e51rvsfzGkgx5wFt.jpg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk">There are many sensor kits out there these days</figcaption></figure><p id="b7ab" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">选择传感器、执行器和I/O设备时，注意您选择的平台非常重要:</p><ul class=""><li id="d860" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">有足够的I/o(线/引脚)来处理所有这些</li><li id="8e90" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">您有适当的协议支持。相对于<a class="ae mb" href="https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter" rel="noopener ugc nofollow" target="_blank"> UART </a>、<a class="ae mb" href="https://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus" rel="noopener ugc nofollow" target="_blank"> SPI </a>、<a class="ae mb" href="https://en.wikipedia.org/wiki/I%C2%B2C" rel="noopener ugc nofollow" target="_blank">I2C</a>、…，许多系统在处理器上将具有有限的管脚集</li></ul><h2 id="346a" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">是时候联系了</h2><p id="4b4d" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">这是物联网的第一步。</p><p id="1e8f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">在决定物理通道时，有3个重要因素:</p><ul class=""><li id="96fd" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">数据率</li><li id="14d3" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">范围</li><li id="8c1d" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">连接类型</li></ul><p id="3eda" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">智能家居就是Zigbee，ZWave，Wifi</p><p id="ed54" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">可穿戴设备和近移动设备走向BLE</p><p id="ce3f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">高速户外go 3/4G/ LTE</p><p id="9b76" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">Lora提供廉价的低数据速率和良好的网格范围。</p><p id="1e4d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">此外，您需要确定网络拓扑:</p><ul class=""><li id="271a" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">Star —最简单，每个端点都走向云/数据中心</li><li id="bd41" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">树-端点连接到网关</li><li id="9112" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">网状—端点连接在它们之间，并且路由被定义为朝向网关。</li></ul><p id="642e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">我的建议是:试着坚持用星星，在大多数情况下，树应该是你停下来的地方。构建网状网络是一个痛苦的过程，实际上初创公司只是围绕这个问题建立公司。</p><p id="82c8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">有许多令人兴奋的新渠道，除非你有非常好的理由坚持使用可靠的技术。让启用者启用。当我们在2009年试图将Zigbee产品化时，我得到了惨痛的教训，该产品推出了w/o Zigbee，总的来说，我试图避免Zigbee(尽管街上的谣言说这些天它已经成长并变得可用)。</p><h2 id="3c20" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">逻辑信道</h2><p id="d5b2" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">所以你们是有联系的。这基本上意味着您有一个通过IP与云对话的设备(在树和网格中，该设备代表其连接中的多个端点设备)。那么你如何传递这些比特呢？</p><p id="c6f1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><a class="ae mb" href="https://www.postscapes.com/internet-of-things-protocols/" rel="noopener ugc nofollow" target="_blank">有许多协议</a>，我将介绍主要的协议，它们应该适用于大多数应用。</p><p id="929c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir"> HTTP </strong></p><p id="6c61" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">即使在物联网中，特别是在低成本微控制器上，仍然普遍使用传统的HTTP。它有很多好处，比如基于文本(调试和消息制作很容易)，很多库，我认为最重要的是，它可以通过防火墙。它最大的缺点是它不是全双工的，服务器不能与设备对话(轮询被用来克服这一点)。</p><p id="5e62" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir"> MQTT/AMQP </strong></p><p id="08f5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果物联网中有任何接近标准的东西，那么<a class="ae mb" href="https://en.wikipedia.org/wiki/MQTT" rel="noopener ugc nofollow" target="_blank"> MQTT </a>可能就是它。这是一个轻量级、简单、实时的消息协议。如果您没有交付大量数据，那么它是一个很好的候选。<a class="ae mb" href="https://en.wikipedia.org/wiki/Advanced_Message_Queuing_Protocol" rel="noopener ugc nofollow" target="_blank"> AMQP </a>与MQTT有很多相似之处，但有两个主要区别:它支持更复杂的网络管理，也允许P2P(仅从版本1开始)通信。</p><p id="6902" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">没有防火墙问题，数据量低，拓扑简单，占用空间小，那就用MQTT吧。</p><p id="d37e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">对于较大的数据、复杂的网络拓扑，请选择AMPQ。</p><p id="2c1a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">功率敏感设备很难保持开放连接，因此在选择此路径时，请确保这也不是一个问题。</p><p id="3ffb" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">值得一提的是:目前领先的代理(协议服务器)是rabbitMQ，它同时支持这两种协议，并且运行良好。</p><p id="955d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir">CoAP/阿尔乔因</strong></p><p id="d8bf" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">这些主要是控制智能家居的竞争:<a class="ae mb" href="http://coap.technology/" rel="noopener ugc nofollow" target="_blank"> CoAP </a>的优势是灵活性和强大的HTTP兼容性，而<a class="ae mb" href="https://en.wikipedia.org/wiki/AllJoyn" rel="noopener ugc nofollow" target="_blank"> AllJoyn </a>获得了更广泛的采用和更全面的方法(如供应、发现等)。).他们都提到安全是优势，但这是可以质疑的。回到一年前——一旦攻击者进入您的网络，就很难克服这一点，所以对所有的安全承诺要有所保留(CoAP确实应用了DTLS，它对这个问题给予了一些关注，但远远没有解决“问题”)。值得一提的是，MS已经从windows 10开始支持AllJoyn，给Quallcom和AllJoyn initiator带来了巨大的智能家居提升。</p><p id="8f78" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir"> XMPP-IoT </strong></p><p id="ad7f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">XMPP是驱动你的whatsapp的东西。你可以在你的移动应用中感受速度和吞吐量。基于XML的协议是非常组织化和冗长的(就像XML一样)。在我看来，XMPP的最大优势是服务器可以非常高效地处理大量负载(单个服务器机器处理许多连接)——因此，如果您预计高数据中心成本是一个问题，这可能是一个不错的选择。</p><p id="c692" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">就我个人而言，从2007年开始，除非迫不得已，我不再使用XML，只有在涉及数据格式化时才使用JSON(在云环境中，YAML甚至更好)。您可以将JSON封装在XML中，两者兼而有之，但这感觉是错误的。</p><p id="fb45" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><a class="ae mb" href="http://portals.omg.org/dds/" rel="noopener ugc nofollow" target="_blank"> DDS </a></p><p id="0378" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><a class="ae mb" href="http://portals.omg.org/dds/" rel="noopener ugc nofollow" target="_blank"> DDS </a>是关于lof的数据，快速，实时，有严格的格式。我还没有用它做过任何东西，但是当我在英特尔将它应用于一些机器人时，我用它作为基准。然而，ROS似乎将在他们的下一代操作系统(ROS2)中采用它。自主机器、机器人和大型数据系统会发现DDS是一种有吸引力的协议。</p><p id="b1d6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir"> Websockets </strong></p><p id="0694" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">与<a class="ae mb" href="https://www.techradar.com/news/internet/web/html5-what-is-it-1047393" rel="noopener ugc nofollow" target="_blank"> HTML5 </a>、<a class="ae mb" href="https://en.wikipedia.org/wiki/WebSocket" rel="noopener ugc nofollow" target="_blank"> Websockets </a>一起推出的是HTTP池问题的解决方案，其中服务器可以与客户端建立开放的流通道。Websockets享受MQTT/AMPQ提供的相同连接风格的好处，但对防火墙更友好，因为它们只是端口80上的HTTP连接被升级为<a class="ae mb" href="https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern" rel="noopener ugc nofollow" target="_blank"> pub/sub </a>通信。</p><p id="685c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">嵌入式设备上的Websockets支持还不成熟，该领域的开源软件还很年轻。此外，这将需要一些额外的工作，从你的服务器端，因为协议是非常基本的。</p><h2 id="54f3" class="kp kq iq bd kr ks kt dn ku kv kw dp kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">安全性和供应</h2><p id="9f98" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">物联网和安全仍在寻找正确的关系。从简单的事情开始:</p><ul class=""><li id="132a" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">你需要配对设备(Wifi、BLE或其他设备)</li><li id="0d8f" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">你需要加密链接</li><li id="e228" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">注册并验证设备</li><li id="3c5c" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated">更新机密、密钥和其他敏感信息。</li></ul><p id="8a7b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">这些基础知识带来了一些挑战，所以从第一天起就将安全性定义嵌入到您的设计中。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/03941e31d5a9d116a18eb504c3518d78.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*FbGghkel-ZPOishG.jpg"/></div></figure><p id="09bb" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">对于链接加密，你必须使用SSL，当选择廉价的wifi以确保其工作时，今天这不是一个大问题(除非你仍然在Arduino和ESP2866区)，但2年前这是痛苦的。</p><p id="6b04" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果可能，使用物理连接/配对按钮进行配对(用户/安装人员点击激活)。请记住，用户必须输入网络凭据(如wifi SSID和密码)。移动电话供应是理想的选择。</p><p id="8430" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果你想保护虚假注册，你需要在设备中嵌入一个秘密，如果你真的需要高墙，那么密钥也是唯一的。在我看来，物理配对给了你跳过它的选择。</p><p id="7506" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">设备注册后(确保您有设备的序列号/唯一id ),它需要执行一些密钥交换，这是一个秘密输入，将从现在开始用于验证设备。</p><p id="3305" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">设备密码可以是下列之一，具体取决于您的要求:</p><ul class=""><li id="dc4d" class="md me iq jt b ju jv jy jz ky mf lc mg lg mh ko mi mj mk ml bi translated">随机数只有你的设备知道——易于使用，无法控制过期时间(黑客设备)，没有元数据，更容易受到暴力攻击。</li><li id="aabc" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated"><a class="ae mb" href="https://jwt.io/" rel="noopener ugc nofollow" target="_blank"> JWT令牌</a> —我的最爱，允许你用元数据生成一个限定时间的令牌(在JWT世界中称为声明)。JWT的缺点是服务器必须是令牌生成的一部分。</li><li id="e886" class="md me iq jt b ju mm jy mn ky mo lc mp lg mq ko mi mj mk ml bi translated"><a class="ae mb" href="https://en.wikipedia.org/wiki/Client_certificate" rel="noopener ugc nofollow" target="_blank">客户端证书</a> —可能是最可靠的认证，它需要生成证书，并且可以在配对时在客户端完成(服务器不是必须的)。</li></ul><p id="604d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir">维修</strong></p><p id="5ae1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">您需要更新设备、密钥、算法、代码和配置。你会有很多设备，我的建议是，不要在没有升级和修复能力的情况下进行生产部署。像每个软件一样，您的设备会有一些错误、新功能和其他问题，需要您刷新其软件内容。</p><p id="f09c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">嵌入式世界更新是一个痛苦的过程，可能需要6个月的开发。如果你有一个操作系统在另一边，这将成为一个更简单的功能。</p><p id="a2c1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">此外，不要忘记为您的监控和警报设置一些仪表板。您已经在部署基础架构，因此也可以将其重新用于内部使用(客户不可见)。</p><h1 id="cb4e" class="mz kq iq bd kr na nb nc ku nd ne nf kx ng nh ni lb nj nk nl lf nm nn no lj np bi translated">一体式方法</h1><p id="9cac" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">到目前为止，您已经知道将传感器和命令的数据传输回来是一个相当大的挑战。<a class="ae mb" href="https://blog.profitbricks.com/top-49-tools-internet-of-things/" rel="noopener ugc nofollow" target="_blank">有许多物联网堆栈提供商</a>为您提供大量开箱即用的东西。您可以选择一个大型的一体化解决方案，或者集成几个简单的提供商。</p><p id="e2bf" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">如果你没有特殊的需求，这种一体化的方法会很有效。很多时候情况并非如此，您可能希望将几个更简单的功能集成在一起。</p><p id="36a9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><strong class="jt ir">不要在没有正确理解自己的需求和局限性的情况下寻求外部解决方案。计划你的堆栈需求，列出需求清单，然后<strong class="jt ir">购物，看看你是否能找到合适的。尽可能地集成现成的、可维护的解决方案。这将为您节省大量NRE和支持时间。</strong></strong></p><p id="4aa4" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">从2012年开始，我一直坚持使用超级简单的基础堆栈:<a class="ae mb" href="https://firebase.google.com/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>，Nodejs API gateway和<a class="ae mb" href="https://www.elastic.co/" rel="noopener ugc nofollow" target="_blank"> ElasticSearch </a>。这将让你开始，但预计你的后端和服务器拓扑可能会更加复杂，非常依赖于你的数据需求，类型和机器学习计划，但这是另一篇文章:)</p><h1 id="e508" class="mz kq iq bd kr na nb nc ku nd ne nf kx ng nh ni lb nj nk nl lf nm nn no lj np bi translated">摘要</h1><p id="3005" class="pw-post-body-paragraph jq jr iq jt b ju mu jw jx jy mv ka kb ky mw ke kf lc mx ki kj lg my km kn ko ij bi translated">我已经制定了设计物联网解决方案的方法，并希望这篇文章成为任何想在物联网世界开展活动的人的初步指南和参考列表。每个行业、领域和产品都有更多更高层次的细节，所以这只是一个起点。</p><p id="93fc" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">无论你最终做了什么，请记住，你所做的只是把数据从一个地方转移到另一个地方，更重要的问题是为什么？</p><p id="f9be" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated">伊兰·什洛莫，</p><p id="8404" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb ky kd ke kf lc kh ki kj lg kl km kn ko ij bi translated"><a class="ae mb" href="http://dataloop.ai" rel="noopener ugc nofollow" target="_blank"> dataloop.ai </a> CEO</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nr"><img src="../Images/f5f4209dd59f4abf76c6e654788e1cce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lRIGb48mK0ZjYOBn.jpg"/></div></div></figure></div></div>    
</body>
</html>