<html>
<head>
<title>How I trained a language detection AI in 20 minutes with a 97% accuracy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何在 20 分钟内训练一个语言检测人工智能，准确率达到 97%</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-i-trained-a-language-detection-ai-in-20-minutes-with-a-97-accuracy-fdeca0fb7724?source=collection_archive---------3-----------------------#2018-04-25">https://towardsdatascience.com/how-i-trained-a-language-detection-ai-in-20-minutes-with-a-97-accuracy-fdeca0fb7724?source=collection_archive---------3-----------------------#2018-04-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/8ad722ffcd71a1bb8cbb9166ce8be451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CeTTg-ZpSMVQVPSL2alkvg.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Weird — I actually kind of look like that guy</figcaption></figure><div class=""/><p id="dc29" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这个故事一步一步地指导我如何在 20 分钟内使用机器学习建立一个语言检测模型(最终准确率为 97%)。</p><p id="a23c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">语言检测是机器学习的一个很好的用例，更具体地说，是文本分类。给定来自电子邮件、新闻文章、语音到文本功能的输出或任何其他地方的一些文本，语言检测模型将告诉您它是什么语言。</p><p id="04d7" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这是快速对信息进行分类和排序，以及应用特定于语言的工作流的附加层的好方法。例如，如果您想对 Word 文档应用拼写检查，您首先必须为正在使用的词典选择正确的语言。否则你会发现拼写检查是完全错误的。</p><p id="295f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">其他用例可能包括将电子邮件路由到地理位置正确的客户服务部门，对视频应用正确的字幕或隐藏式字幕，或者对正在分析的文本应用一些其他语言特定的文本分类。</p><p id="5ddf" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">好了，你明白了，语言检测真的很有用，让我们继续我是如何这么快做到的。</p><p id="b087" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我从这个数据集开始。<a class="ae la" href="https://cloud.google.com/prediction/docs/language_id.txt" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/prediction/docs/language_id.txt</a></p><p id="f370" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它基本上是一个. csv 格式的文件，带有英语、法语和西班牙语的样本。我的目标是看看我是否可以训练一个机器学习模型来理解这些语言之间的差异，然后，给定一些新文本，预测它是哪种语言。</p><p id="ef94" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以我做的第一件事是启动<a class="ae la" href="https://goo.gl/PkjUxE" rel="noopener ugc nofollow" target="_blank">分类框</a>，一个运行在 Docker 容器中的机器学习模型生成器，有一个简单的 API。这用了不到一分钟。</p><figure class="lc ld le lf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lb"><img src="../Images/82749c727fcbcf5572d4234e66c7f83b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A2MerZ2KldCl7TnkGV9_ZQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">The output of the terminal</figcaption></figure><p id="8ed0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后我下载了<a class="ae la" href="https://github.com/machinebox/toys/tree/master/textclass" rel="noopener ugc nofollow" target="_blank">这个方便的工具</a>，它可以让你在电脑上用文本文件训练分类框变得非常容易。这又花了一分钟左右。</p><p id="cab1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">下一步是将 CSV 转换成文本文件，这样我就可以很容易地训练 Classificationbox。</p><blockquote class="lg lh li"><p id="01e9" class="kc kd lj ke b kf kg kh ki kj kk kl km lk ko kp kq ll ks kt ku lm kw kx ky kz ij bi translated">一个合格的开发人员会跳过这一步，直接解析 CSV 文件并从那里对 Classificationbox 进行 API 调用。</p></blockquote><p id="f60c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里是我写的一些不太好的<a class="ae la" href="https://golang.org/" rel="noopener ugc nofollow" target="_blank"> Go </a>代码，以防你感兴趣，如果不感兴趣，请跳到下一步。</p><figure class="lc ld le lf gt is"><div class="bz fp l di"><div class="ln lo l"/></div></figure><p id="78e0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">运行这个脚本后，我的硬盘上有了以不同语言命名的文件夹。每个文件夹里都有语言样本的文本文件。我花了大约 10 分钟编写脚本并运行它。</p><figure class="lc ld le lf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi lp"><img src="../Images/cb28acb0f69bd81110d9f670c6839f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*htv1aCnH_8vHEc2nDwufCg.png"/></div></div></figure><p id="adf1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在有趣的部分来了。我确保<a class="ae la" href="https://goo.gl/aJKLWi" rel="noopener ugc nofollow" target="_blank">分类框</a>已经启动并运行，然后我在语言文件夹的父目录上运行<code class="fe lq lr ls lt b">textclass</code>。大约花了 3 秒钟:</p><ol class=""><li id="d5c9" class="lu lv jf ke b kf kg kj kk kn lw kr lx kv ly kz lz ma mb mc bi translated">处理所有样本</li><li id="e0cd" class="lu lv jf ke b kf md kj me kn mf kr mg kv mh kz lz ma mb mc bi translated">将 20%的样本分成一个验证集</li><li id="9667" class="lu lv jf ke b kf md kj me kn mf kr mg kv mh kz lz ma mb mc bi translated">用训练集训练分类框</li><li id="1613" class="lu lv jf ke b kf md kj me kn mf kr mg kv mh kz lz ma mb mc bi translated">使用验证集进行验证</li></ol><p id="099f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这些是我的结果:</p><figure class="lc ld le lf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mi"><img src="../Images/858a9c7b115a55cd6c7c5f8501b22312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MugKal7t4blIrQBN8Rgxog.png"/></div></div></figure><p id="dd64" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">97% !对于只花 20 分钟训练语言检测机器学习模型来说，这已经很不错了。</p><p id="51aa" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">需要注意的一件重要事情是，我的班级并不是<strong class="ke jg">平衡的</strong>。我对每一个类都有不同数量的样本，这不符合训练模型的最佳实践。理想情况下，我会在每节课中有相同数量的例子。</p><p id="4ca9" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">关键是，机器学习最受益于实验。我强烈鼓励每个人尝试使用<a class="ae la" href="https://goo.gl/aJKLWi" rel="noopener ugc nofollow" target="_blank">机器盒</a>或任何其他工具。我希望我能够展示给定一个好的数据集，创建自己的机器学习/分类模型是多么容易。</p><h1 id="1899" class="mj mk jf bd ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng bi translated">什么是机器盒子？</h1><figure class="lc ld le lf gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nh"><img src="../Images/e581cf32ad5b72f99c5e504f96be67b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GPdHUaxzqp2dJYd0l_hwcA.jpeg"/></div></div></figure><p id="c4a1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><a class="ae la" href="https://goo.gl/aJKLWi" rel="noopener ugc nofollow" target="_blank"> Machine Box </a>将最先进的<strong class="ke jg">机器学习</strong>功能放入<strong class="ke jg"> Docker 容器</strong>中，这样像您这样的开发人员就可以轻松地将自然语言处理、面部检测、对象识别等融入其中。到您自己的应用程序中。</p><p id="cbb3" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">盒子<strong class="ke jg">是为扩展</strong>而建造的，所以当你的应用真正起飞时，只需水平地添加更多的盒子，直到无限甚至更远。哦，它比任何云服务都要便宜得多(<a class="ae la" href="https://hackernoon.com/which-face-recognition-technology-performs-best-c2c839eb04e7" rel="noopener ugc nofollow" target="_blank">而且可能更好</a>)……而且<strong class="ke jg">你的数据不会离开你的基础设施</strong>。</p></div></div>    
</body>
</html>