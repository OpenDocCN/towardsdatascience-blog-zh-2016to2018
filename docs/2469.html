<html>
<head>
<title>Expose Faulty Thinking by Visualizing Calculations</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过可视化计算暴露错误的想法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/expose-faulty-thinking-by-visualizing-calculations-c0cb6fa9c34c?source=collection_archive---------4-----------------------#2018-01-29">https://towardsdatascience.com/expose-faulty-thinking-by-visualizing-calculations-c0cb6fa9c34c?source=collection_archive---------4-----------------------#2018-01-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/d6d9ebc60a5a653df3111bbeb86f92f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjOyjzWH6o9jiO4nJvRtJQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Struck by Data (Jasper McChesney)</figcaption></figure><div class=""/><p id="b859" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们经常使用可视化来呈现<em class="la">数据。</em>但是我们对数据  <em class="la">做的<strong class="ke jg"><em class="la"/><em class="la">的可视化呢？我指的是聚合、算法和流程。</em></strong></em></p><p id="7289" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通常这些计算非常简单。但是人们总是把简单的事情弄错——尤其是数学方面的事情。可视化可以帮助显示正在发生的事情，以及为什么一种方法可能行不通。你知道，同事的方法。</p><h1 id="78c4" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">目标和“解决方案”</h1><p id="41c6" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">我在和某人一起写一份报告。我们需要向非技术观众解释如何根据行业趋势做出基本的预算预测。这些“趋势”实际上是<strong class="ke jg">逐年的百分比增长</strong>；以及在此期间<strong class="ke jg">的总体增长</strong>。它可能看起来像这样:</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi me"><img src="../Images/b4055285619b6630b6f56c6a6fd54fcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AMS7Cf3kBOe1sBKt9A7YIw.png"/></div></div></figure><p id="851b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">假设明年的增长将与过去几年的变化相似。但是我们不能规定任何花哨的建模:我们正在帮助人们用 Excel 或台式计算器进行粗略的猜测。</p><p id="05b1" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我的同事给人们提供了两种选择</p><ol class=""><li id="9e1d" class="mj mk jf ke b kf kg kj kk kn ml kr mm kv mn kz mo mp mq mr bi translated">取历史增长(%)的算术平均值。</li><li id="754a" class="mj mk jf ke b kf ms kj mt kn mu kr mv kv mw kz mo mp mq mr bi translated">求总体涨幅(%)，除以年数。</li></ol></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><p id="c783" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我不确定这些是否有意义。但是说服我的同事？没那么容易。什么有帮助？会议议程背面潦草的图表。</p><p id="5930" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">每张图都是一组示例数据，加上您要进行投影的操作。每一个都说明了为什么上面的方法有问题。</p><h1 id="5421" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">错误</h1><p id="0b3b" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">在数学层面上，这里的问题是根本性的:我的同事想要处理百分比增长，即<em class="la">比率</em>，就像他会处理美元增长一样，美元增长只是<em class="la">值</em>。</p><p id="6a0d" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是比率不是价值——事实上，它们将两个价值联系在一起。他们与自己互动的方式也不同。通常它们是通过乘法而不是加法结合在一起的；他们<em class="la">复合</em>。所以把每年的利率加在一起得到最终利率在概念上是没有意义的。</p><p id="98c2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">(你可以用量纲分析来证实这一点。我们在这里的增长是无量纲的比例。所以把一堆加在一起，然后除以年，就产生了 1/年的单位。这对预算有什么用呢？)</p><p id="5328" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是这个论证依赖于数学。也许我是一个坚持理论严谨的混蛋，当我们只需要一些有用的东西。好吧，让我们看看是不是这样。</p><h1 id="98ec" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">选项 2 拆卸(恒定百分比变化)</h1><p id="ea9f" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">选项#2 是额外的攻击，值得首先反驳。但是为什么一开始会有人想这么做呢？</p><p id="7cad" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果我们处理的是简单的数量，比如预算金额的变化(T1)，选项 2(T2)就可以了(T3):你可以将总的变化除以年数，得到一种年平均值。它之所以有效，是因为它在数学上<strong class="ke jg"> <em class="la">等同于</em> </strong>选项 1，即每年数值的平均值。</p><p id="45e2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="la">这是我们的第一个例子，对两个选项都进行了计算:</em></p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi me"><img src="../Images/823357526e9272e0ad127462b13e681b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TzzGOsm3EEpXAFyhH0STIQ.png"/></div></div></figure><p id="d827" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">处理简单数值时，<em class="la">变化总和</em>与<em class="la">总体变化相同。这就是为什么选项 2 很诱人。</em></p><h2 id="df57" class="ne lc jf bd ld nf ng dn lh nh ni dp ll kn nj nk lp kr nl nm lt kv nn no lx np bi translated">百分比变化打破了这一点</h2><p id="05a2" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">现在，让我们看看当我们尝试这些相同的计算时，百分比会发生什么变化(正如我的同事提议的那样):</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi me"><img src="../Images/7102119e39f2c892a9ec90e421a6f783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cYh3twfzDWR4OQmHhSRH2Q.png"/></div></div></figure><p id="94d0" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这个整洁的例子中，每个百分比变化都是相同的，这使得我们的“预测”非常容易:我们允许的任何解决方案都应该<em class="la">肯定</em>产生 50%。然而，选项 2 没有。它不仅在数学上没有意义，也不能产生合理的结果。我不仅仅是个混蛋！</p><h1 id="e0cd" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">选项 1 下降(振荡变化)</h1><p id="e09c" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">看到这个例子后，您可能会认为选项 1 是可行的。在这个简单的例子中，它确实是这样的，不断地变化。但那不是真正的测试。我们需要一个稍微现实一点的例子:年复一年的变化。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nq"><img src="../Images/d940aa5bf6ffc8e6b1cdbf2dd2b9ba2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ei38Lr9Mhpl0sBbXuRFYyA.png"/></div></div></figure><p id="56af" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">认识到一种模式，我们人类当然期待明年有+20 的变化。但是我们粗略估计的目标是简单地使用前几年的主要趋势；而不是去寻找不同的模式或体重年份。这些变化的中心趋势显然是相互平衡；以产生零净变化。</p><p id="5b8e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">事实上，当使用原始的数字变化时，我们的两个选项都计算零平均变化。</p><h2 id="f535" class="ne lc jf bd ld nf ng dn lh nh ni dp ll kn nj nk lp kr nl nm lt kv nn no lx np bi translated">百分比再次打破了事物</h2><p id="9816" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">但我们任务的另一个假设是，任何真正的趋势都将是百分比变化的趋势，而不是原始值(正如我们在上面看到的，这些显然是不一样的)。在本例中，我们看到两种百分比变化:+100%和-50%。如果我们把这些输入算法，我们会得到什么？</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nr"><img src="../Images/7fb7aa3acb347454ec5e4516a8660462.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihAChz5-BeX5aD3kUit7nQ.png"/></div></div></figure><p id="6f2f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这一次，选项 1 是明显的失败。变化的线性平均值为 25%。这意味着，如果我们假设所有年份都一样，那么每年都会有 25%的增长。但是如果我们算一下，从 20 岁开始，到 60 岁结束。差远了！</p><h2 id="4be7" class="ne lc jf bd ld nf ng dn lh nh ni dp ll kn nj nk lp kr nl nm lt kv nn no lx np bi translated">为什么不管用？</h2><p id="e1a1" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">同样，这是因为我们误用了简单的汇总统计数据(矩)，比如平均值。均值允许我们通过在所有项目之间分配总价值来假装所有项目都是相同的。通过加法，这种扩散是线性的。但是百分比不能把普通的数字相加。</p><p id="a117" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们通过例子来说明这一点。数据中没有上升或下降的总趋势:上升抵消了下降，所以它们是无用的。这意味着<strong class="ke jg">200%的变化必须被<em class="la">50%的变化抵消</em>。</strong>(我已经将增加的百分比转换为原始百分比；200%和 50%当然相当于+100%和-50%)。</p><p id="5c25" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是在<strong class="ke jg">加法</strong>的土地上，这两项<strong class="ke jg">并不</strong>平衡:200% + 50% = 250%，平均变化 125%。我们应该得到的结果是 100%。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4013991c00f0e6d31a6643734292658a.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*mpPWw_tJPqdh0nyVjrwS-g.png"/></div></figure><h1 id="c3d0" class="lb lc jf bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">什么会起作用？</h1><p id="9fd9" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">我们的变化如何平衡？与<strong class="ke jg">相乘</strong>。200%和 50%的乘积是 100%。没有变化。</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/0bd352c46948aad6a35e91e6243a1da2.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*3srg33Q_4FtXfnN5kv9dew.png"/></div></figure><p id="71f2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">乘法不仅仅是<em class="la">发生</em>计算出来:它在概念上是有意义的，因为百分比是这样运作的:增加的大小取决于之前的值。(而加法与它们无关:如果你在银行账户上增加更多的钱，你就获得了总数；你现有的平衡不会改变它。不像按揭付款！)</p><h2 id="e5c4" class="ne lc jf bd ld nf ng dn lh nh ni dp ll kn nj nk lp kr nl nm lt kv nn no lx np bi translated">另一种意思是</h2><p id="265e" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">当然，我们不只是想要组合百分比，我们想要它们的平均值；我们想知道如果它们都一样的话，哪一年会是什么样。通俗说法的“平均”就是算术平均值。但是均值有很多种，包括<strong class="ke jg">几何均值</strong>，它的工作原理是等效的，但是用于乘法运算。你不是把值相加，而是把它们相乘；你不用除以数值的个数，而是取那个<em class="la">的根</em>。</p><p id="5b9f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果我们回到我们的第一个例子，恒定+150%的增长，我们可以看到它是如何工作的，使用选项 1。我们将再次使用基本百分比而不是增加额(即 250%):</p><pre class="mf mg mh mi gt nt nu nv nw aw nx bi"><span id="b819" class="ne lc jf nu b gy ny nz l oa ob">2.5 x 2.5 x 2.5 x 2.5 x 2.5 = 97.66</span><span id="4d83" class="ne lc jf nu b gy oc nz l oa ob">97.66 ^(1/5) =<strong class="nu jg"> 2.5</strong></span></pre><p id="a865" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在第二个示例中也是如此，没有任何变化:</p><pre class="mf mg mh mi gt nt nu nv nw aw nx bi"><span id="bfbd" class="ne lc jf nu b gy ny nz l oa ob">2 x 0.5 x 2 x 0.5 x 2 x 0.5 = 1</span><span id="daee" class="ne lc jf nu b gy oc nz l oa ob">1 ^ (1/6) = <strong class="nu jg">1</strong></span></pre><p id="42bb" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以我们至少可以在我们的(奇怪的)测试案例中确认合理的行为。</p><h2 id="9554" class="ne lc jf bd ld nf ng dn lh nh ni dp ll kn nj nk lp kr nl nm lt kv nn no lx np bi translated">选项 1 和 2 再次变得等效</h2><p id="323e" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">我们也可以放心使用几何平均，因为这两个选项再次产生相同的结果。也就是说，百分比<em class="la">增长</em>的几何平均值与<em class="la">总体</em>增长百分比<em class="la">的几何平均值相同。</em>(因为将每一个连续的乘数相乘自然会产生总乘数。)</p><figure class="mf mg mh mi gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi me"><img src="../Images/823afe17d380a1193e70629d0208d11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*skwd89DCRLLoGURSq8Br0A.png"/></div></div></figure></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="edac" class="lb lc jf bd ld le od lg lh li oe lk ll lm of lo lp lq og ls lt lu oh lw lx ly bi translated">结论</h1><p id="7d1d" class="pw-post-body-paragraph kc kd jf ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">这里的一个小教训是要小心利率！更一般地说，要小心看似基本的数学，尤其是当你关注更大的问题时。</p><p id="db4e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是另一个主题是使用视觉来谈论<em class="la">思维</em>，特别是关于数据的数学或统计思维——即使操作很简单。这可能会为你赢得一场争论。</p></div></div>    
</body>
</html>