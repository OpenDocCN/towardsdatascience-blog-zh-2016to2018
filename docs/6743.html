<html>
<head>
<title>Spotify ReWrapped</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spotify 重新包装</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spotify-rewrapped-e2a7cc94fb4e?source=collection_archive---------6-----------------------#2018-12-29">https://towardsdatascience.com/spotify-rewrapped-e2a7cc94fb4e?source=collection_archive---------6-----------------------#2018-12-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e57b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Spotify 每年 12 月都会以酷炫的年终特价带给我们惊喜。然而，今年的一些报道让人感到可疑。这个不起眼的中等账户决定进行调查。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e1162fb1b5f1aa975a7054e1e9e292ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RVdxipomNiL7kV_Y41w_9A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photoshop skills: level 9000</figcaption></figure><p id="721a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每年我都期待 Spotify 的总结。2016 年是歌曲、艺术家和流派的前五名。花在听音乐上的时间，不同歌曲的数量，以及关于一周中你最喜欢哪一天听音乐的非常酷的见解。此外，你的热门歌曲播放列表。2017 年还带来了分钟数、热门歌曲播放列表和一个很酷的另一个播放列表，名为“The ones that away ”,可能是过去一年很酷的推荐。<br/>今年带来了<a class="ae lr" href="https://spotifywrapped.com/" rel="noopener ugc nofollow" target="_blank"> Spotify Wrapped </a>，它告诉你许多统计数据(我们将分析)和两个播放列表:Top 100 和 Tastebreakers。我需要承认，我爱上了前卫的❤.它们应该让你在新的一年里听到 Spotify 惊人的推荐算法为你量身定制的新内容。</p><p id="3d24" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">尽管这一次并不是一切都那么美好。<a class="ae lr" href="https://www.reddit.com/r/spotify/comments/a37thx/spotify_2018_wrapped/" rel="noopener ugc nofollow" target="_blank"> Spotify Wrapped 在 12 月</a>和<a class="ae lr" href="https://www.reddit.com/r/spotify/comments/a37thx/spotify_2018_wrapped/eb4m5j5/" rel="noopener ugc nofollow" target="_blank">前几天被泄露，并不是每个用户都对提供的见解感到高兴</a>。只要在 Reddit 的 r/spotify 中快速浏览一下，就足以意识到前 5 名艺术家或前 5 名歌曲中的大多数都很奇怪。尤其是我的，看起来很奇怪；就好像我最后的几个月根本不算在内。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/e2991e4e5e65cde92dad8c9ff721c7d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*dggZ-c7Gxd8Z-5iEdwxNYQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Charly and his famous bi-color moustache</figcaption></figure><p id="e669" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">像每一个音乐和数据极客一样，我用<a class="ae lr" href="https://www.last.fm/user/alexing10" rel="noopener ugc nofollow" target="_blank"> Last.fm </a>记录(并不断咨询和控制)我的听力故事。所以，我知道我的数据不准确。<strong class="kx ir">10 月份和 11 月份的大部分时间，我都在不停地听 Charly García 的音乐，尤其是他的一个乐队项目:Serú Girán</strong></p><p id="21fc" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">有点跑题</strong>:这两个名字都是阿根廷摇滚的精华部分，是阿根廷摇滚的精华。自 1967 年以来，Charly 一直在从事不同的优秀项目，他仍然非常活跃。在 1978 年至 1982 年期间，以及在 1992 年持续一年的短暂复出期间，Serú Girán 是他的主要乐队。信不信由你，他们被认为是“阿根廷披头士”。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Judge by yourself 💥💥💥💥</figcaption></figure><p id="a4d8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我也一直想用 Python 的熊猫库研究一点<strong class="kx ir">时间序列操作和可视化，所以这看起来是一个很好的借口。</strong></p><h1 id="ac17" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">技术</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/63ea69cbd7ed123a4525b335a44e572d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZY1rU-Vh17qRxcUF9dElg.png"/></div></div></figure><p id="43d6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">和我的大多数数据项目一样，我的主要盟友是<a class="ae lr" href="https://www.python.org/download/releases/3.0/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">Python 3</strong></a><strong class="kx ir"/><a class="ae lr" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">熊猫</strong> </a> <strong class="kx ir">和</strong><a class="ae lr" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"><strong class="kx ir">matplotlib</strong></a><strong class="kx ir">。</strong>我还与<a class="ae lr" href="https://seaborn.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Seaborn </a>、<a class="ae lr" href="https://github.com/plamere/spotipy" rel="noopener ugc nofollow" target="_blank"> Spotipy </a>合作，为<a class="ae lr" href="https://developer.spotify.com/documentation/web-api/" rel="noopener ugc nofollow" target="_blank"> Spotify Web API </a>做 Python 包装，并与<a class="ae lr" href="https://github.com/pylast/pylast" rel="noopener ugc nofollow" target="_blank"> Pylast </a>合作，为<a class="ae lr" href="https://www.last.fm/api" rel="noopener ugc nofollow" target="_blank"> Last.fm API </a>做 Python 包装。就环境而言，我只使用了 Jupyter 笔记本电脑和版本化我的作品。可以在<a class="ae lr" href="https://github.com/alexing/spotify_rewrapped" rel="noopener ugc nofollow" target="_blank">我的公众 Github 账号</a>查看数据库创建、数据分析、数据可视化的完整代码。</p><div class="mo mp gp gr mq mr"><a href="https://github.com/alexing/spotify_rewrapped" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">alexing/spotify_rewrapped</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">Spotify 重新包装。通过在 GitHub 上创建一个帐户，为 alexing/spotify_rewrapped 开发做出贡献。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kp mr"/></div></div></a></div><p id="9064" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些数据是从 Last.fm 的 API 中删除的，还用 Spotify 的 API 丰富了一点。此外，根据<a class="ae lr" href="https://ec.europa.eu/commission/priorities/justice-and-fundamental-rights/data-protection/2018-reform-eu-data-protection-rules_en" rel="noopener ugc nofollow" target="_blank"> GDPR 法律</a>，我联系了 Spotify 客户支持，试图访问我的全部收听历史数据并获得更多见解。到写这篇文章的时候，我还没有收到回信。</p><h1 id="0e36" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">数据分析</h1><p id="0e3a" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">数据集由我从 1 月 1 日到 12 月中旬的收听历史组成。Spotify Wrapped 于 12 月 1 日发布，所以这一年还没有结束并不重要。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="098c" class="nq lx iq nm b gy nr ns l nt nu">df.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/58ab5d333ab85675ead428e1a514bdf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qS8dn_7wsQ_YybClnI0CHQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Most of this features I won’t be using, like the listener_count, mbid, playcount and url.</figcaption></figure><p id="f148" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们通过逐一浏览 Spotify 的见解(<a class="ae lr" href="https://community.spotify.com/t5/Social-Off-Topic/Can-t-see-my-artists-zodiac-wrapped-2018/td-p/4626230" rel="noopener ugc nofollow" target="_blank">至少是有趣的……</a>)来开始分析，并决定它们是真是假。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/ee096d122b5829e7050dd9cf7b16278a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KGx4QQzIcp9KPL87UbcDTA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">I got the email in Spanish, sorry. You probably get the main idea, though.</figcaption></figure><h1 id="880e" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">1.今年你在 Spotify 上听了 8486 首不同的歌曲。</h1><p id="f54e" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi">.</p><p id="0bb5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">嗯，这个很容易检查。只需要询问数据帧中的唯一值。</p><p id="f4c4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi">.</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="e9ee" class="nq lx iq nm b gy nr ns l nt nu">unique_songs = df[df.date &lt; '2018-12-01'].drop_duplicates(subset=['artist', 'title', 'album']).shape[0]<br/>unique_songs</span></pre><p id="62ab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir"> 6538 </strong></p><p id="7d55" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这意味着 Spotify 的数字和我的数字之间有 1948 首歌曲的差异。</p><h2 id="0d2d" class="nq lx iq bd ly nx ny dn mc nz oa dp mg le ob oc mi li od oe mk lm of og mm oh bi translated">假的！</h2><p id="8407" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">考虑到 Wrapped 发行日期之后的歌曲没有计算在内，所以在数量上有相当大的差异。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/1dd4e238d3992372422181d004603790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8-qA_nLwXn_DpIJ1cgtUQ.png"/></div></div></figure><h1 id="c761" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">2.你开始了 2018 年，听了《浪费的生命》Pearl Jam 的 Brendan O' Brien Mix，你发现的第一个艺术家是 Faces。</h1><p id="e9a8" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">哦，这原来是辣的，而且超级容易检查。让我们开始吃吧。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="a054" class="nq lx iq nm b gy nr ns l nt nu">df.loc[df['timestamp'].idxmin()]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/09573ca0ab1097541c82087904cf75d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obTP5RcqxjuhF174Ed49Gw.png"/></div></div></figure><p id="8db8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">事实上，我听的第一首歌是浪费的生命(<strong class="kx ir">开始 2019 年的精彩歌曲，对吗？！</strong>)。Spotify 的第一个目标。1–1 是这场比赛的部分比分。</p><p id="ce59" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，这是灰色部分，它开始变得不那么科学严谨。我们如何衡量被发现的艺术家？我用了手头的东西，决定用<a class="ae lr" href="https://developer.spotify.com/documentation/web-api/reference/personalization/get-users-top-artists-and-tracks/" rel="noopener ugc nofollow" target="_blank">Spotify API 的功能来获取用户的顶级艺术家</a>。这可以让你每次请求获得多达 50 位艺术家，其中一个有趣的参数让你在<code class="fe ok ol om nm b">long_term</code>(根据几年的数据计算，包括所有可用的新数据)<code class="fe ok ol om nm b">medium_term</code>(大约过去 6 个月)和<code class="fe ok ol om nm b">short_term</code>(大约过去 4 周)之间进行选择。有一个偏移量参数来平衡限制，以便在列表中进一步前进，但是如果偏移量超过 50，它会返回一个异常。基本上每个学期只能接触到前 100 个。在每个术语收到的 100 位艺术家中，我创建了一个集合，这样就不会出现重复，然后如果一个新的艺术家不在这个集合中，我会认为这是一个“发现”。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="409e" class="nq lx iq nm b gy nr ns l nt nu">ranges = ['short_term', 'medium_term', 'long_term']<br/>top_artists = set()<br/>for a_range in ranges:<br/>    results = sp.current_user_top_artists(time_range=a_range, limit=50)<br/>    top_artists =top_artists.union({item['name'] for item in results['items']})<br/>    results = sp.current_user_top_artists(time_range=a_range, limit=50, offset=49)<br/>    top_artists =top_artists.union({item['name'] for item in results['items']})</span></pre><p id="028c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">基本上，第一个不在片场的艺术家将是我的第一个发现</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="2ed9" class="nq lx iq nm b gy nr ns l nt nu">reverse_df = df.iloc[::-1]<br/>for i, row in reverse_df.iterrows():<br/>    if row['artist'] not in top_artists:<br/>        print("Song n# %d of the year" % (len(df) - i))<br/>        print(row['artist'])<br/>        print("Played on %s" % str(row['date']))<br/>        break</span></pre><p id="864c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">年度歌曲第 74 首<br/> <strong class="kx ir">惠特尼</strong> <br/>播放时间 2018–01–01 16:04:00</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="ca25" class="nq lx iq nm b gy nr ns l nt nu">df[df[‘artist’] == ‘Faces’]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/2bfe055346c0af20eb4474d9d77ccb0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sC6ptu91btqguNTOKrU6hg.png"/></div></div></figure><p id="24fd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">太神奇了。不仅我第一个发现的艺术家不是面孔，而且今年我显然从未听过他们。所以这句话是:</p><h2 id="48d2" class="nq lx iq bd ly nx ny dn mc nz oa dp mg le ob oc mi li od oe mk lm of og mm oh bi translated"><strong class="ak">对/错</strong></h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/8dfa04d8b4841959fbc7bf908311ddf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sdKGH__xhBLP044KAq4mBw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Apparently Spotify calls me an overachiever 💪🏻</figcaption></figure><h1 id="b970" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">3.听了 58776 分钟。</h1><p id="a21c" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi">.</p><p id="10b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi">.</p><p id="36d3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这也是一件容易检查的事情。</p><p id="b7af" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi">.</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="0724" class="nq lx iq nm b gy nr ns l nt nu">df[df.date &lt; '2018-12-01'].duration.astype('int').sum() / 1000 / 60</span></pre><p id="ae67" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">26860 . 868686868626</strong></p><p id="e678" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们从 58776 分钟开始，有 281 分 13 秒的差距。如果我们计算今年(4:05)听的歌曲的平均持续时间，有 69 首歌曲的误差。</p><p id="b3e8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">又一个热门，Spotify！这种说法是:</p><p id="62a4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">假</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/2e1c0174f3a517862e686f2117786eaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bOkx3vDKcNbCbgzdoA5Xnw.png"/></div></div></figure><h1 id="74d2" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated"><strong class="ak"> 4。你和你最喜欢的艺术家荷西·德克勒一起度过了 41 个小时，这是他们的荣幸。</strong></h1><p id="d0af" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">毫无疑问，今年我最喜欢的艺术家是荷西·德克勒。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq lv l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Being retwitted by your favorite artist is better than Radiohead’s In Rainbows. Word.</figcaption></figure><p id="dda8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你之前浏览过这个博客，你可能知道我对他的音乐和歌词做了深入的分析，他的专辑是我那漫长时光的配乐。关于快乐是他的那部分我真的怀疑，但我知道他喜欢它。</p><p id="e200" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们检查小时数。</p><p id="e045" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi">.</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="2763" class="nq lx iq nm b gy nr ns l nt nu">top_listened = df[df.date &lt; '2018-12-01'].groupby(by=['artist']).agg('sum')['duration'].sort_values(ascending=False)[:1]<br/>top_listened = top_listened / 1000 / 60 / 60 # ms / s / m -&gt; h<br/>top_listened</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/1c8e42fd44ac81975fc9edf736e63b2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*FFjE9_J03eTWz8Xf59AgXQ.png"/></div></figure><p id="9a21" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">那是 42 小时 40 分钟。这意味着，如果我今年从 Drexler 那里听到的歌曲的平均值是 3:41，<strong class="kx ir"> Spotify 的数字相差近 22 首歌曲</strong>。</p><p id="01a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对不起，斯波提…但这是另一个</p><h2 id="1eb6" class="nq lx iq bd ly nx ny dn mc nz oa dp mg le ob oc mi li od oe mk lm of og mm oh bi translated">错误的</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="lu lv l"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Any excuse that I can get to embed a Drexler song, I’ll use.</figcaption></figure><p id="63fa" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi">.</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/59845a9dc13636b7a7d88fd51eb671ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1r5PcLk9cd6pDeWsTq035Q.png"/></div></div></figure><h1 id="6790" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">5.排行榜</h1><p id="731e" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">有趣的部分来了。看着顶级艺术家的部分，我意识到一切似乎并不准确。如上所述，<strong class="kx ir">查理·加西亚</strong>和<strong class="kx ir">塞鲁吉兰</strong>都不见了。此外，在热门歌曲中，有 3 首属于马丁·奥利弗的第二张专辑，这张专辑在 4 月份发行时我非常喜欢。<strong class="kx ir">Cirrus</strong>from<strong class="kx ir">Bonobo</strong>，我在一月和二月每天都在重复收听。事实上，我知道今年我最着迷的曲目是安德森的《色彩》。帕克和<strong class="kx ir">肯德里克·拉马尔</strong>——<strong class="kx ir"/>我的天啊多么有感染力的节拍。当然<strong class="kx ir">色彩</strong>也无处可寻。</p><p id="f88c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们不会进入流派，因为我真的不太相信它们。一个和另一个之间的界限变得如此模糊和武断，我有点看不到这一点。我只想说:“墨西哥人？那是什么意思？”</p><h1 id="73c3" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated"><strong class="ak">顶级艺人</strong></h1><p id="e451" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">Spotify 榜单如下:<strong class="kx ir">荷西·德克勒、电台司令、北极猴子、吸血鬼周末、古斯塔沃·塞拉蒂</strong>。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="b8de" class="nq lx iq nm b gy nr ns l nt nu">df[df.date &lt; '2018-12-01'].groupby(by=['artist']).agg('count')['track'].sort_values(ascending=False)[:10]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/83f40b1ee007268ae8d3382dbbf64d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7AknI9wnB6ah_COxKC9LAg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">I knew it.</figcaption></figure><p id="7135" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">真的很有趣。<strong class="kx ir">北极猴</strong>和<strong class="kx ir">电台司令</strong>倒相差 20 首(可以接受，也许？).塞鲁吉兰和查理·加西亚怎么样了？！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou lv l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/0057f4f8cb34c9fcb6f85ac9330cce86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*50SUHexetNMeq0PrwmbY4A.png"/></div></div></figure><p id="c88e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，<strong class="kx ir"> scrobble 是 Last.fm 发明的一个术语，用来描述你听的歌曲的日志</strong>。一个 scrobble 每复制一首歌。</p><p id="6ad1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">从图表中我们可以清楚地看到，在这一年的下半年有一个很大的增长。穿红色衣服的查理·加西亚在九月中旬大幅增加，而塞鲁吉兰则从十一月开始飙升。这与 Spotify 标记为顶级的其他艺术家相比如何？Spotify 的顶级艺术家是否会在某个时间范围内与现实相符？</p><p id="5eba" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">首先，让我告诉你。<strong class="kx ir">那些艺人<em class="lt">那个顺序</em>在整个 2018 年都没有发生过。</strong>但是如果我们不顾顺序，只关心他们五个是顶级艺术家，会发生什么？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou lv l"/></div></figure><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="e570" class="nq lx iq nm b gy nr ns l nt nu">The possible ranges are between 2018-06-18 and 2018-06-19<br/>The possible ranges are between 2018-08-07 and 2018-08-08<br/>The possible ranges are between 2018-08-16 and 2018-11-16</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/502742218a0c7f8be7af642171c36a8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GU_kusYPkyUTqfhJ24oqEQ.png"/></div></div></figure><p id="bd7d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这就是可能性域。如果 Spotify 顶级艺术家是在 6 月 16 日、8 月 7 日或 8 月 16 日和 11 月 16 日之间的 3 个月内计算的，那么不管顺序如何，他们都是可以的。这可能没问题，我们可以假设 Spotify 是在 11 月中旬计算出这个列表的。<br/>让我们继续追踪报道。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="34fa" class="nq lx iq nm b gy nr ns l nt nu">df[df.date &lt; '2018-12-01'].groupby(by=['title', 'artist']).agg('count')['track'].sort_values(ascending=False)[:20]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/8eb309adcedd550342fd876bbad3d4e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4gWf986kJ4_VjGuByVn_Eg.png"/></div></div></figure><p id="6339" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我就知道！<strong class="kx ir"> Tints </strong>是我的 2018 顶级曲目。另一方面，Spotify 表示，我最喜欢的 5 首歌曲依次是:<strong class="kx ir"> Estocolmo </strong>(实际上是 17 首)<strong class="kx ir"> Los días eternos </strong> (18 首)<strong class="kx ir"> Cirrus </strong>(不在前 20 首)<strong class="kx ir">Black trecle</strong>(5 首)和<strong class="kx ir"> Shangai Safari </strong> (8 首)。这里发生了 WTF？</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou lv l"/></div></figure><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="6496" class="nq lx iq nm b gy nr ns l nt nu">The possible ranges are between 2018-05-14 and 2018-05-21</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/b34e360955edfe16e4601e4fd40c12c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mTC6ZddmBiDsz7_XZHAaGg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk"><strong class="bd oy">Estocolmo</strong> and <strong class="bd oy">Los días eternos</strong> have exactly the same values everyday. Every time I listened to <strong class="bd oy">Martin Oliver</strong>’s album I did sequentially, so that probably explains it.</figcaption></figure><p id="8121" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">所有灰色线条都是我实际排名前 20 的歌曲，而不是 Spotify 的。Spotify 热门曲目出现的唯一时刻是在 5 月的一周，这是无视顺序的。<strong class="kx ir">回家 Spotify，你醉了！</strong></p><h2 id="02c7" class="nq lx iq bd ly nx ny dn mc nz oa dp mg le ob oc mi li od oe mk lm of og mm oh bi translated">大错误</h2><h1 id="0449" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated"><strong class="ak">结论</strong></h1><p id="78d0" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">我并没有从中吸取太多。有些东西真的很容易看到，比如他们是如何计算出顶级艺术家的，然后<strong class="kx ir">塞鲁吉兰</strong>和<strong class="kx ir">查理加西亚</strong>可能会在我的前五名中占据重要地位。其他的东西是可以理解的，一点点的误差应该被原谅，比如我花在听荷西·德克勒和全球范围内我所有的音乐上的时间。但是有些东西基本上无法解释。<br/>比如说<strong class="kx ir">脸</strong>怎么了？其实并不是 2018 年我没有发现他们……也是我这辈子都没有听过他们的事实。</p><pre class="kg kh ki kj gt nl nm nn no aw np bi"><span id="98da" class="nq lx iq nm b gy nr ns l nt nu">artist = pylast.Artist(“Faces”, network, username=’alexing10')<br/>print(“Faces has %d scrobbles.” % artist.get_userplaycount())</span></pre><p id="a778" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="lt">面孔没有 0 个阴囊。</em></p><p id="6355" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最大的谜团是顶部的轨道。那是怎么回事？怎么会差这么远？<br/>我猜他们认为 Spotify Wrapped 是他们需要在 12 月前快速发布的产品，为了减少资源或计算时间，他们没有使用所有用户的收听历史，而是随机抽取一些样本并从中进行计算。总而言之，我不得不说这是非常草率的。</p><p id="c792" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我仍然希望 Spotify 会把我在 GDPR 的数据反馈给我，或许那时我们会对这个谜有更多的了解。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/0ca51126af94ed54efc44ad8f6888663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3yStkiVfSETP0UCQ7Q-edw.png"/></div></div></figure><p id="9fbf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有些见解我决定不去核实，一方面是因为很难做到，另一方面是因为我真的不相信它们。例如，Spotify 告诉我<strong class="kx ir">我最喜欢的子类别是“现代摇滚”</strong>。那是什么？比如，有没有一年可以作为一个枢纽？1992 年以前发行的摇滚专辑都不是现代摇滚？格里塔·范·弗利特是现代摇滚吗尽管他们所有的歌听起来都无耻地像 1973 年以前的齐柏林飞艇？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/70e3a587eeb7e26f85270ba0c821f495.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nv7cZWTPjf3hHZlNXI0wOg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Why that song out of that album? It was all released in 1951.</figcaption></figure><p id="d3ab" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Spotify 还告诉我<strong class="kx ir">我听过的最老的歌是</strong>的 T4 的录音，当然还有<strong class="kx ir">塞隆尼斯·蒙克的</strong>。我很确定他们没有得到我的剧本或者坦哥·雷恩哈特 30 年代和 40 年代的录音…或者任何古典作曲家的任何作品。肖邦的钢琴前奏曲出版于 1839 年，马尔塔·阿格里齐在 1977 年录制了它们的最终版本，Spotify 将它们收录在目录中的“翻唱”日期:2002 年。就这样…</p><p id="d2bb" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">明年的想法:与其花时间检查你听得最多的黄道星座(说真的，这他妈的是什么？);他们可以检查每个人的最佳专辑。那可能是个更好的主意。</p><p id="3c54" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">再次，你可以在<a class="ae lr" href="https://github.com/alexing/spotify_rewrapped" rel="noopener ugc nofollow" target="_blank">我的公众 github 账号</a>查看数据库创建、数据分析、数据可视化的完整代码。</p><div class="mo mp gp gr mq mr"><a href="https://github.com/alexing/spotify_rewrapped" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">alexing/spotify_rewrapped</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">Spotify 重新包装。通过在 GitHub 上创建一个帐户，为 alexing/spotify_rewrapped 开发做出贡献。</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">github.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kp mr"/></div></div></a></div><h1 id="8245" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">附赠曲目</h1><p id="45aa" class="pw-post-body-paragraph kv kw iq kx b ky ng jr la lb nh ju ld le ni lg lh li nj lk ll lm nk lo lp lq ij bi translated">这是我 2018 年的顶级专辑:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/f0bf8b50fc797bf058eefb800aaa40ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRFb2zGVVT17beOXEUildQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">You can check the full list <a class="ae lr" href="https://www.last.fm/user/alexing10/library/albums?from=2018-01-01&amp;to=2018-12-31" rel="noopener ugc nofollow" target="_blank">here</a></figcaption></figure><p id="27ef" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">而且，虽然远不准确，但这是我的 Spotify 2018 年前 100 名播放列表。我非常喜欢它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc lv l"/></div></figure><p id="ea91" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">非常感谢，新年快乐！</p></div></div>    
</body>
</html>