<html>
<head>
<title>Deep Learning with Tensorflow: Part 3 — Music and text generation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Tensorflow进行深度学习:第3部分—音乐和文本生成</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/deep-learning-with-tensorflow-part-3-music-and-text-generation-8a3fbfdc5e9b?source=collection_archive---------3-----------------------#2017-08-04">https://towardsdatascience.com/deep-learning-with-tensorflow-part-3-music-and-text-generation-8a3fbfdc5e9b?source=collection_archive---------3-----------------------#2017-08-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/eaf0ce58bc6d5dcdac20e4f419e31001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/0*-kWlyda5oSri8aOo.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">text summarization: one example of generating text using Tensorflow</figcaption></figure><p id="f506" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">大家好，欢迎回到我的紧张流系列，这是第三部分。<br/>我已经在<a class="ae kz" href="https://medium.com/towards-data-science/deep-learning-with-tensorflow-part-1-b19ce7803428" rel="noopener">的第一部分</a>中描述了神经网络和Tenserflow的逻辑和功能，并在<a class="ae kz" href="https://medium.com/towards-data-science/deep-learning-with-tensorflow-part-2-image-classification-58fcdffa7b84" rel="noopener">的第二部分向你展示了如何进行图像分类。</a>在这一部分，我将向您概述Tensorflow应用程序，并向您展示如何生成音乐和文本。</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><p id="72ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Tensorflow允许我们构建复杂的应用程序。在处理多个输入源时，几乎所有事情都可以用Tensorflow来实现，甚至特斯拉的自动驾驶仪也可以用它来制作。为了更好地了解Tensorflow的可能性，我收集了人们已经用它制作的例子的简短摘要:</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div class="ab gu cl ll"><img src="../Images/09b7f9cdd2583309edda47a1f5640d4e.png" data-original-src="https://miro.medium.com/v2/format:webp/1*43heIIIUKnvL4kAA1rMbGA.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Predicting college basketball results through the use of Deep Learning</figcaption></figure><ul class=""><li id="bb76" class="lm ln it kd b ke kf ki kj km lo kq lp ku lq ky lr ls lt lu bi translated">处理文本:<a class="ae kz" href="http://jrmeyer.github.io/tutorial/2016/02/01/TensorFlow-Tutorial.html" rel="noopener ugc nofollow" target="_blank">垃圾邮件过滤器</a>，<a class="ae kz" href="https://research.googleblog.com/2015/11/computer-respond-to-this-email.html" rel="noopener ugc nofollow" target="_blank">电子邮件自动回答</a>，<a class="ae kz" href="https://chatbotsmagazine.com/contextual-chat-bots-with-tensorflow-4391749d0077" rel="noopener ugc nofollow" target="_blank">聊天机器人</a>，<a class="ae kz" href="https://blog.coast.ai/this-is-how-i-used-machine-learning-to-accurately-predict-villanova-to-win-the-2016-march-madness-ba5c074f1583" rel="noopener ugc nofollow" target="_blank">体育预测</a></li><li id="4fea" class="lm ln it kd b ke lv ki lw km lx kq ly ku lz ky lr ls lt lu bi translated">处理图像:<a class="ae kz" href="https://blog.insightdatascience.com/automating-breast-cancer-detection-with-deep-learning-d8b49da17950" rel="noopener ugc nofollow" target="_blank">自动癌症检测</a> n，<a class="ae kz" href="https://hackernoon.com/building-an-insanely-fast-image-classifier-on-android-with-mobilenets-in-tensorflow-dc3e0c4410d4" rel="noopener ugc nofollow" target="_blank">街道检测</a></li><li id="cf88" class="lm ln it kd b ke lv ki lw km lx kq ly ku lz ky lr ls lt lu bi translated">处理音频和语音:<a class="ae kz" href="https://magenta.tensorflow.org/nsynth-fastgen" rel="noopener ugc nofollow" target="_blank">声音生成</a>，<a class="ae kz" href="https://medium.com/towards-data-science/detecting-bats-by-recognising-their-sound-with-tensorflow-cdd5e1c22b14" rel="noopener">语音识别</a></li></ul><p id="1662" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我将更详细地解释音乐生成和文本生成。我们将开始研究音乐生成，今天生成音乐的可能性，我们将编写自己的流行音乐生成器。稍后，我们将看看文本生成，一个具体的例子，并建立我们自己的诗歌生成器。让我们开始吧。</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h1 id="4a79" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><a class="ae kz" href="https://emojipedia.org/musical-note/" rel="noopener ugc nofollow" target="_blank">🎵</a>音乐一代</h1><h2 id="451d" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">介绍</h2><p id="f2cc" class="pw-post-body-paragraph kb kc it kd b ke nk kg kh ki nl kk kl km nm ko kp kq nn ks kt ku no kw kx ky im bi translated">亲爱的歌曲作者，<br/>我很抱歉地告诉你，但在未来几年内，你将被机器学习算法取代。为什么？因为现在音乐可以由电脑生成。想象一下这种工具的威力。与创作一首歌所需的数百个小时相比，在一个程序中点击“开始”根本不算什么。</p><p id="3a7e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我想这对一些人来说可能听起来有点奇怪，考虑到音乐通常被称为“情感”和“感觉”的东西，而不是“事实”或“数学”的东西，但机器学习使这成为可能。但是它是如何工作的呢？</p><p id="1ad8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以，假设你想做一首特别的歌，一首“快乐”和“有趣”的歌。第一步是获得一组带有情感标签的歌曲数据。这个程序会把语音转换成文本。对于每个单词，程序会创建向量并训练模型。完成训练后，程序会找到你输入的相关向量(“快乐”和“有趣”)，并将它们与之前创建的向量进行比较。输出将是一组代表你想要的情感的和弦。</p><h2 id="c15e" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">生成音乐的可能性</h2><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Example song, generated with Magenta</figcaption></figure><p id="b8bc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae kz" href="https://magenta.tensorflow.org/" rel="noopener ugc nofollow" target="_blank"> Magenta </a>是目前最先进的机器学习音乐生成技术，但你自己听听。这是一个来自谷歌大脑团队的项目，它问:我们可以使用机器学习来创作引人注目的艺术和音乐吗？Magenta建立在TensorFlow之上，使用CNN系统。</p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h2 id="ef93" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">建造我们自己的音乐发电机</h2><p id="3115" class="pw-post-body-paragraph kb kc it kd b ke nk kg kh ki nl kk kl km nm ko kp kq nn ks kt ku no kw kx ky im bi translated">虽然Magenta非常强大，但我们将使用<em class="nr">受限玻尔兹曼机器(RBM) </em>构建我们自己的简单音乐生成器来生成短序列的流行音乐。</p><p id="a6e0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将收到多个文件，如果您将它们链接在一起，听起来会像这样:</p><figure class="lh li lj lk gt ju"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Transistions between the files aren’t smooth, that’s not because of the generated music itself!</figcaption></figure><p id="e1dc" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们的训练数据将在一百个流行歌曲的MIDI文件左右(<em class="nr"> MIDI </em>是一种直接编码音符的格式)。为了简单起见，我们不会像介绍中描述的那样给它们贴上情绪的标签，我们的输出将是另一种流行旋律，就像我们的训练文件一样。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/74a1972e6be735cb7d94b68aed8e829b.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/0*HAa_5uF9djhk63Tt.png"/></div></figure><p id="90a1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><em class="nr"> RBM </em>是一个有两层的神经网络，可见层和隐藏层。每个可见节点都连接到每个隐藏节点(反之亦然)，但没有可见-可见或隐藏-隐藏连接(节点只是进行计算的地方)。这就是<em class="nr">限制</em>。每个可见节点取一个弦。每个和弦乘以一个<em class="nr">权重</em>，然后是隐藏层节点的输出。与大多数神经网络不同，RBM是直接对数据的概率分布建模的生成模型。为了从RBM采样，我们执行一种称为<a class="ae kz" href="https://stats.stackexchange.com/questions/10213/can-someone-explain-gibbs-sampling-in-very-simple-words" rel="noopener ugc nofollow" target="_blank"> <em class="nr">吉布斯采样</em> </a> <em class="nr">的算法。如果你想了解更多关于RBM氏症的知识，请走这条路。</em></p><p id="07e2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">理论谈得够多了，让我们从从GitHub克隆我的repo开始构建吧。打开终端并键入:</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="964b" class="my mb it nu b gy ny nz l oa ob">git clone <a class="ae kz" href="https://github.com/koflerm/tensorflow-music-generator.git" rel="noopener ugc nofollow" target="_blank">https://github.com/koflerm/tensorflow-music-generator.git</a></span></pre><p id="4275" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">接下来，我们必须安装几个库:</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="c909" class="my mb it nu b gy ny nz l oa ob">pip3 install pandas<br/>pip3 install msgpack-python<br/>pip3 install glob2<br/>pip3 install tqdm<br/>pip3 install py-midi</span></pre><p id="f8d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们将按如下方式使用它们:</p><ul class=""><li id="fe1a" class="lm ln it kd b ke kf ki kj km lo kq lp ku lq ky lr ls lt lu bi translated">熊猫是我们的数据分析库</li><li id="7fe3" class="lm ln it kd b ke lv ki lw km lx kq ly ku lz ky lr ls lt lu bi translated">Midi作为我们音乐文件的辅助库</li><li id="a15f" class="lm ln it kd b ke lv ki lw km lx kq ly ku lz ky lr ls lt lu bi translated">TQDM，用于在进程中打印进度条。</li></ul><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi oc"><img src="../Images/60878ef24efe90c26d775c396b2a7729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4REurO6fBGD0T7UgiJUc-Q.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">set of pop song sequences</figcaption></figure><p id="1077" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">歌曲存储在<code class="fe oh oi oj nu b">Pop_Music_Midi</code>文件夹中。你也可以使用你自己的训练数据，但是歌曲必须是MIDI格式的。).在这里找到一些<a class="ae kz" href="http://www.midiworld.com/files/" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="fb0d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">基本上，这就是准备工作，你现在可以执行程序了。要运行该脚本，只需编写:</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="c11b" class="my mb it nu b gy ny nz l oa ob">python rbm_chords.py</span></pre><figure class="lh li lj lk gt ju gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/623d95753655e3be9d9e926e8c42fc71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*AlVjVGbbL2kRRedck7Y1Tw.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Training process</figcaption></figure><p id="4297" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">培训将需要5-10分钟。输出将是<code class="fe oh oi oj nu b">out</code>文件夹中MIDI文件的集合，每个文件大约10秒长。如果你只想听“一首歌”，你也可以写一个脚本把它们连接起来。</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi ol"><img src="../Images/dc7497d2cfc3430ca07463b9979a8bc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XQQi54Lgt-J3pCfa6FlHDw.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">output</figcaption></figure><p id="d801" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">就是这样，你成功创作了音乐。如果你没有理解我写的所有内容(对不起…)，我强烈推荐你分别阅读和聆听这两个帖子:</p><ul class=""><li id="96f6" class="lm ln it kd b ke kf ki kj km lo kq lp ku lq ky lr ls lt lu bi translated"><a class="ae kz" href="https://www.youtube.com/watch?v=ZE7qWXX05T0&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=ZE7qWXX05T0&amp;feature = youtu . be</a></li><li id="0d94" class="lm ln it kd b ke lv ki lw km lx kq ly ku lz ky lr ls lt lu bi translated"><a class="ae kz" href="http://danshiebler.com/2016-08-10-musical-tensorflow-part-one-the-rbm/" rel="noopener ugc nofollow" target="_blank">http://danshiebler . com/2016-08-10-musical-tensor flow-part-one-the-RBM/</a></li></ul></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h1 id="5ae8" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><a class="ae kz" href="https://emojipedia.org/writing-hand/" rel="noopener ugc nofollow" target="_blank"> ✍ </a>文字生成</h1><h2 id="a42f" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">介绍</h2><p id="f8eb" class="pw-post-body-paragraph kb kc it kd b ke nk kg kh ki nl kk kl km nm ko kp kq nn ks kt ku no kw kx ky im bi translated">如前所述，在不久的将来，算法可能会取代歌曲作者。嗯，这也适用于诗人。我们将编写一个程序，根据威廉·莎士比亚的戏剧生成一首诗。训练数据(诗歌)存储为文本文件，文件名也是标签。首先，我将向您展示另一个使用Tensorflow生成文本的示例。</p><h2 id="924a" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">谷歌收件箱中的智能回复</h2><figure class="lh li lj lk gt ju gh gi paragraph-image"><div class="gh gi om"><img src="../Images/f5666084c5d85cf414db125d0bbb5502.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*WI3YB_vb0POaLQ2-.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">Smart Reply System, integrated in the Inbox app on Android</figcaption></figure><p id="7b78" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">用手机回复电子邮件是一件非常痛苦的事情，即使是简短的回复。这就是谷歌在其收件箱应用中实现<em class="nr">智能回复</em>的原因。他们希望建立一个系统，可以自动确定电子邮件是否可以用简短的回复来回答(文本识别)，并为其撰写一些合适的回复(文本生成)。</p><p id="b39e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">他们需要建立一个机器学习系统，因为想象一下使用一个依赖于手工制作的常见回复场景规则的系统。任何工程师发明“规则”的能力都会很快被大量不同的写作风格超越。相比之下，机器学习系统可以自己捕捉不同的情况。它比基于规则的系统更好地概括和处理新输入。</p><p id="b8aa" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">谷歌选择在一对<a class="ae kz" href="https://en.wikipedia.org/wiki/Recurrent_neural_network" rel="noopener ugc nofollow" target="_blank">循环神经网络</a> (RNN)的基础上建立智能回复系统，一个用于编码收到的电子邮件，一个用于预测可能的回复。编码网络一次提取一个新邮件的单词，并生成一个向量。这种所谓的“<a class="ae kz" href="http://www.extremetech.com/extreme/206521-thought-vectors-could-revolutionize-artificial-intelligence" rel="noopener ugc nofollow" target="_blank">思维向量</a>”抓住了所说内容的核心，而不会纠结于它是如何说的(例如，向量“你明天有空吗？”应该与“明天你方便吗？”的向量相同).第二个网络从这个思维向量开始，一次一个单词地做出语法正确的回复，就像在打字一样。每个网络的详细操作完全是通过训练模型来预测可能的反应而学习的。</p><p id="1447" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对智能回复系统感兴趣？在这里阅读更详细的解释<a class="ae kz" href="https://research.googleblog.com/2015/11/computer-respond-to-this-email.html" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl la lb hx lc" role="separator"><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf lg"/><span class="ld bw bk le lf"/></div><div class="im in io ip iq"><h2 id="d14f" class="my mb it bd mc mz na dn mg nb nc dp mk km nd ne mo kq nf ng ms ku nh ni mw nj bi translated">建造我们自己的诗歌生成器</h2><p id="87e9" class="pw-post-body-paragraph kb kc it kd b ke nk kg kh ki nl kk kl km nm ko kp kq nn ks kt ku no kw kx ky im bi translated">是时候在威廉·莎士比亚的作品上建立我们的文本生成器了。我们将使用递归神经网络来训练我们的模型。在对它进行训练之后，我们的脚本将会生成一首诗，它既可以在终端中查看，也可以在文本文件中查看。</p><p id="326a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">首先，我知道诗歌一点也不有趣。但是不用担心，你可以很容易地改变数据集；).让我们深入研究一下。</p><p id="aefd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从从GitHub克隆我的库开始:</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="b14d" class="my mb it nu b gy ny nz l oa ob">git clone <a class="ae kz" href="https://github.com/koflerm/tensorflow-shakespeare-poem-generator.git" rel="noopener ugc nofollow" target="_blank">https://github.com/koflerm/tensorflow-shakespeare-poem-generator.git</a></span></pre><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi on"><img src="../Images/08f125ccf1f14cfdfd4fe9469bd6c209.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7giuh8QVULnDCdOE1Bypyw.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk">data set consisting of multiple poems</figcaption></figure><p id="83f8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以看到，有一个<code class="fe oh oi oj nu b">Shakespeare</code>文件夹，里面有多首诗。简单地把你自己的TXT文件放在那里，如果你想改变话题。</p><p id="1709" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">现在是时候训练我们的语言模型了。</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="7e33" class="my mb it nu b gy ny nz l oa ob">&gt; python3 rnn_train.py</span></pre><p id="8daf" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这需要几个小时，所以要小心！如果你没有那么多时间，你可以<a class="ae kz" href="https://drive.google.com/file/d/0B5njS_LX6IsDc2lWTmtyanRpOHc/view" rel="noopener ugc nofollow" target="_blank">下载</a>检查点文件(最终模型)。不用先训练模型！只需将文件解压到<code class="fe oh oi oj nu b">checkpoints</code>文件夹中。</p><p id="b6d9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一切都设置好了，是时候生成一些文本了。键入以下行:</p><pre class="lh li lj lk gt nt nu nv nw aw nx bi"><span id="c428" class="my mb it nu b gy ny nz l oa ob">&gt; python3 rnn_play.py</span></pre><p id="1e15" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">脚本rnn_play.py使用我们训练好的检查点生成一个新的“莎士比亚”剧本。你可以在终端和文件<code class="fe oh oi oj nu b">output_generated.txt</code>中看到输出</p><figure class="lh li lj lk gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gh gi oo"><img src="../Images/105a050f3515022d8954f2f98d087b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0bW4hM5Otc9HoqGa3jiaGA.png"/></div></div></figure><p id="23db" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这就是你自己的诗，用莎士比亚的方式写的。</p><h1 id="4d27" class="ma mb it bd mc md op mf mg mh oq mj mk ml or mn mo mp os mr ms mt ot mv mw mx bi translated">结论</h1><p id="4132" class="pw-post-body-paragraph kb kc it kd b ke nk kg kh ki nl kk kl km nm ko kp kq nn ks kt ku no kw kx ky im bi translated">恭喜你，你现在可以创作你自己的音乐，也可以创作你自己版本的莎士比亚戏剧了。在下一部分，我可能会更深入地研究图像分类和物体检测。所以请继续关注，直到下一篇文章！</p><p id="03d0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi">___</p><p id="d6da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">链接到第四部分:<a class="ae kz" href="https://medium.com/towards-data-science/deep-learning-with-tensorflow-part-4-face-classification-and-video-inputs-fa078f22c1e5" rel="noopener">https://medium . com/forward-data-science/deep-learning-with-tensor flow-Part-4-face-class ification-and-video-inputs-fa 078 f 22 C1 e 5</a></p></div></div>    
</body>
</html>