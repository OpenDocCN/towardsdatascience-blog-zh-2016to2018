<html>
<head>
<title>Color Identification in Images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像中的颜色识别</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/color-identification-in-images-machine-learning-application-b26e770c4c71?source=collection_archive---------1-----------------------#2018-12-17">https://towardsdatascience.com/color-identification-in-images-machine-learning-application-b26e770c4c71?source=collection_archive---------1-----------------------#2018-12-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5179" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">机器学习应用</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dde035005954d86b3540bc4dc7b78cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9H74uSINU-qGHWz5"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@henryatto?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Henry Lorenzatto</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="e283" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我最近开始阅读如何用 Python 处理图像。当我偶然发现 OpenCV 允许用 Python 导入和处理图像时，我开始想知道是否可以使用机器学习从这些图像中提取信息并以某种方式使用。</p><p id="0c81" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们都知道，我们可以基于某些过滤器进行在线搜索，其中一个过滤器是<em class="ls">颜色</em>。我受到启发，实际上编写了代码，可以从图像中提取颜色，并根据这些颜色过滤图像。</p><p id="ab00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我解释了我如何理解 OpenCV 的基础知识，使用 KMeans 算法从图像中提取颜色，并基于颜色的 RGB 值从图像集合中过滤图像。完整的笔记本可以在<a class="ae kv" href="https://github.com/kb22/Color-Identification-using-Machine-Learning" rel="noopener ugc nofollow" target="_blank">这个资源库</a>中找到。我点击了<code class="fe lt lu lv lw b">sample_image.jpg</code>，文件夹<code class="fe lt lu lv lw b">images</code>中的其他 5 张图片取自<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>。</p><h1 id="8a49" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">导入库</h1><p id="f266" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们导入的基本库包括<code class="fe lt lu lv lw b">matplotlib.pyplot</code>和<code class="fe lt lu lv lw b">numpy</code>。为了提取计数，我们将使用集合库中的<code class="fe lt lu lv lw b">Counter</code>。要用 OpenCV，我们就用<code class="fe lt lu lv lw b">cv2</code>。<code class="fe lt lu lv lw b">KMeans</code>算法是<code class="fe lt lu lv lw b">sklearn's cluster</code>子包的一部分。为了比较颜色，我们首先使用<code class="fe lt lu lv lw b">rgb2lab</code>将它们转换到 lab，然后使用<code class="fe lt lu lv lw b">deltaE_cie76</code>计算相似度。最后，为了在从目录中读取文件时组合路径，我们导入了<code class="fe lt lu lv lw b">os</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h1 id="ca8d" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">使用 OpenCV</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/476246d33ec95a207113ffb9a39c91e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lSvFUirQRKEI1TKN_BBVFA.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Sample Image</figcaption></figure><p id="e478" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了读取任何图像，我们使用方法<code class="fe lt lu lv lw b">cv2.imread()</code>并指定作为 Numpy 数组导入笔记本的图像的完整路径。然后我们可以使用 pyplot 的方法<code class="fe lt lu lv lw b">imshow()</code>来绘制它。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="7471" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数组的形状是(3456，4608，3)。前两个值匹配图像的像素。第三个值设置为 3，因为每个像素表示为三种颜色(红色、蓝色和绿色)的组合。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/195927fe0ba540dad2932cfda2a2eff2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3IryDnV96AMC6UWc3VfjlQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Image read by OpenCV</figcaption></figure><p id="ad5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">图像的颜色看起来有点不对。这是因为，默认情况下，OpenCV 按照蓝绿色红色(BGR)的顺序读取图像。因此，为了查看实际的图像，我们需要将渲染转换为红绿蓝(RGB)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="1655" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">方法<code class="fe lt lu lv lw b">cvtColor</code>允许我们将图像渲染转换到不同的颜色空间。为了从<code class="fe lt lu lv lw b">BGR</code>色彩空间移动到<code class="fe lt lu lv lw b">RGB</code>，我们使用方法<code class="fe lt lu lv lw b">cv2.COLOR_BGR2RGB</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/537343ab7a8cfbb0a8bd40016c9433df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Flwq4M0ZWQkLBteO4tQ4ug.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">RGB Colors set for the image</figcaption></figure><p id="cdb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在某些情况下，我们可能想要黑白图像。在这种情况下，我们可以将图像表示为灰色。我们现在使用转换空间作为<code class="fe lt lu lv lw b">cv2.COLOR_BGR2GRAY</code>，并用色图显示输出作为<code class="fe lt lu lv lw b">gray</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/268320973e7413c5d8593a189c08d6e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lIXUnd2PHqtNqeM5f-_kpQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Gray Image</figcaption></figure><p id="ee55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以将图像调整到给定的尺寸。我们使用<code class="fe lt lu lv lw b">cv2</code>提供的方法<code class="fe lt lu lv lw b">resize</code>。第一个参数是我们要调整大小的图像，第二个参数是括号内定义的宽度和高度。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/6a39e32228fcb9a5f3b8872a1660d95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sgFKuUwFa8DURGpmUXLQlw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Resized image to 1200 x 600</figcaption></figure><p id="6b11" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在让我们来识别图像中的颜色，并将顶部的颜色显示为饼图。</p><h1 id="6054" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">颜色识别</h1><h2 id="0793" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">RGB 到十六进制转换</h2><p id="8368" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们将首先定义一个将<code class="fe lt lu lv lw b">RGB</code>转换为<code class="fe lt lu lv lw b">hex</code>的函数，这样我们就可以将它们用作饼图的标签。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="c81c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在读取<code class="fe lt lu lv lw b">RGB</code>空间中的颜色时，我们返回一个字符串。<code class="fe lt lu lv lw b">{:02x}</code>简单显示相应颜色的十六进制值。</p><h2 id="62ab" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">读取 RGB 颜色空间中的图像</h2><p id="1931" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">接下来，我们定义一个方法，它将帮助我们在<code class="fe lt lu lv lw b">RGB</code>空间中把一个图像放入 Python。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="77cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们提供图像的路径作为参数。首先，我们使用<code class="fe lt lu lv lw b">imread</code>读取文件，然后在返回之前改变它的颜色空间。</p><h2 id="92d2" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">从图像中获取颜色</h2><p id="bf42" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们现在将完整的代码定义为一个方法，我们可以调用该方法从图像中提取顶部的颜色，并将它们显示为饼图。我将该方法命名为<code class="fe lt lu lv lw b">get_colors</code>，它有 3 个参数:</p><ol class=""><li id="6800" class="nm nn iq ky b kz la lc ld lf no lj np ln nq lr nr ns nt nu bi translated"><code class="fe lt lu lv lw b">image</code>:我们希望提取颜色的图像。</li><li id="f6b5" class="nm nn iq ky b kz nv lc nw lf nx lj ny ln nz lr nr ns nt nu bi translated"><code class="fe lt lu lv lw b">number_of_colors</code>:我们要提取的总颜色。</li><li id="4d2e" class="nm nn iq ky b kz nv lc nw lf nx lj ny ln nz lr nr ns nt nu bi translated"><code class="fe lt lu lv lw b">show_chart</code>:决定是否显示饼图的布尔值。</li></ol><p id="2a72" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了更好的理解，我们来分解一下这个方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="7e6a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将图像调整到尺寸<code class="fe lt lu lv lw b">600 x 400</code>。不需要将其调整到较小的尺寸，但我们这样做是为了减少像素，从而减少从图像中提取颜色所需的时间。KMeans 期望输入是二维的，所以我们使用 Numpy 的 reshape 函数来整形图像数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="1e93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">KMeans 算法根据提供的分类计数创建分类。在我们的例子中，它将形成颜色的集群，这些集群将是我们的顶部颜色。然后，我们在同一幅图像上用<code class="fe lt lu lv lw b">fit</code>和<code class="fe lt lu lv lw b">predict</code>将预测提取到变量<code class="fe lt lu lv lw b">labels</code>中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="6162" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<code class="fe lt lu lv lw b">Counter</code>来计算所有标签的数量。为了找到颜色，我们使用<code class="fe lt lu lv lw b">clf.cluster_centers_</code>。<code class="fe lt lu lv lw b">ordered_colors</code>遍历 count 中出现的键，然后将每个值除以<code class="fe lt lu lv lw b">255</code>。我们可以直接将每个值除以 255，但是这样会打乱顺序。</p><p id="8f60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们得到<code class="fe lt lu lv lw b">hex</code>和<code class="fe lt lu lv lw b">rgb</code>颜色。正如我们之前将每种颜色除以 255 一样，我们现在在寻找颜色时再次将其乘以 255。如果<code class="fe lt lu lv lw b">show_chart</code>是<code class="fe lt lu lv lw b">True</code>，我们绘制一个饼图，每个饼图部分使用<code class="fe lt lu lv lw b">count.values()</code>定义，标签为<code class="fe lt lu lv lw b">hex_colors</code>，颜色为<code class="fe lt lu lv lw b">ordered_colors</code>。我们最终返回了<code class="fe lt lu lv lw b">rgb_colors</code>，我们将在后面的阶段使用它。</p><blockquote class="oa"><p id="0699" class="ob oc iq bd od oe of og oh oi oj lr dk translated">瞧啊。！我们都准备好了！！</p></blockquote><p id="7d0c" class="pw-post-body-paragraph kw kx iq ky b kz ok jr lb lc ol ju le lf om lh li lj on ll lm ln oo lp lq lr ij bi translated">让我们把这个方法叫做<code class="fe lt lu lv lw b">get_colors(get_image(‘sample_image.jpg’), 8, True)</code>，我们的饼状图显示了图像的前 8 种颜色。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/ac84e5e556abf2d9cf92a2d800f6d5ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8T0uD2D1gCARfiuPErxoMQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Identified colors</figcaption></figure><blockquote class="oa"><p id="856f" class="ob oc iq bd od oe oq or os ot ou lr dk translated">这为许多高级应用打开了大门，例如在搜索引擎中搜索颜色，或者寻找一件有某种颜色的衣服。</p></blockquote><p id="20dc" class="pw-post-body-paragraph kw kx iq ky b kz ok jr lb lc ol ju le lf om lh li lj on ll lm ln oo lp lq lr ij bi translated">我们刚刚确定了图像中存在的 8 种主要颜色。让我们尝试实现一个搜索机制，它可以根据我们提供的颜色过滤图像。</p><h1 id="cc7e" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">使用颜色搜索图像</h1><p id="1152" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们现在将深入研究基于我们想要的颜色过滤一组五个图像的代码。对于我们的用例，我们将提供颜色<em class="ls">绿色</em>、<em class="ls">蓝色</em>和<em class="ls">黄色</em>的 RGB 值，并让我们的系统过滤图像。</p><h2 id="071f" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">获取所有图像</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="f685" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">图像在文件夹<code class="fe lt lu lv lw b">images</code>中。我们把<code class="fe lt lu lv lw b">COLORS</code>定义为颜色的字典。然后，我们读取该文件夹中的所有图像，并将它们的值保存在<code class="fe lt lu lv lw b">images</code>数组中。</p><h2 id="cc4d" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">显示所有图像</h2><p id="5a22" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们首先使用下面提到的<code class="fe lt lu lv lw b">for</code>循环显示文件夹中的所有图像。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="111c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将该区域分割成与图像数量相等的支线剧情。该方法采用的参数为<em class="ls">行数= 1 </em>，<em class="ls">列数=所有图像，即在我们的例子中为 5 </em>以及<em class="ls">索引</em>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/ffcd8a6db937e2decc4f9ec9f982ca97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r_8yWiuwInCDX-pTebwboA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">All images in the ‘images’ folder</figcaption></figure><h2 id="b501" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">用颜色匹配图像</h2><p id="93dd" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们现在定义一个方法<code class="fe lt lu lv lw b">match_image_by_color</code>来过滤所有匹配所选颜色的图像。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="3e21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们首先使用之前定义的方法<code class="fe lt lu lv lw b">get_colors</code>以<code class="fe lt lu lv lw b">RGB</code>格式提取图像颜色。我们使用方法<code class="fe lt lu lv lw b">rgb2lab</code>将选择的颜色转换成我们可以比较的格式。<code class="fe lt lu lv lw b">for</code>循环简单地遍历从图像中获取的所有颜色。</p><p id="0836" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于每种颜色，循环将其更改为<code class="fe lt lu lv lw b">lab</code>，在迭代中找到所选颜色和该颜色之间的差值(基本上是差异),如果该差值小于阈值，则选择该图像与该颜色匹配。我们需要计算增量，并将其与阈值进行比较，因为每种颜色都有许多阴影，我们无法始终将所选颜色与图像中的颜色完全匹配。</p><blockquote class="oa"><p id="d2ab" class="ob oc iq bd od oe of og oh oi oj lr dk translated">通过说绿色，用户可以指浅绿色、绿色或深绿色。我们需要扫描所有的可能性。</p></blockquote><p id="c625" class="pw-post-body-paragraph kw kx iq ky b kz ok jr lb lc ol ju le lf om lh li lj on ll lm ln oo lp lq lr ij bi translated">如果我们从一幅图像中提取 5 种颜色，即使其中一种颜色与所选颜色匹配，我们也会选择该图像。<code class="fe lt lu lv lw b">threshold</code>基本上定义了图像和所选颜色的差异。</p><p id="6904" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们考虑这样的情况，我们试图找到绿色的图像。如果阈值太高，我们可能会在搜索中看到蓝色图像。类似地，另一方面，如果阈值太低，那么绿色甚至可能不匹配包含深绿色的图像。这都是基于手头情况的需要，我们可以相应地修改这些值。我们需要仔细设置<code class="fe lt lu lv lw b">threshold</code>值。</p><h2 id="3832" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">显示选定的图像</h2><p id="0a38" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们定义了一个函数<code class="fe lt lu lv lw b">show_selected_images</code>，它遍历所有图像，调用上面的函数根据颜色过滤它们，并使用<code class="fe lt lu lv lw b">imshow</code>将它们显示在屏幕上。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><p id="ffeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在将简单地调用这个方法，并让它绘制结果。</p><h1 id="0766" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">过滤结果</h1><p id="4073" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">我们按如下方式调用该方法。我们将变量<code class="fe lt lu lv lw b">selected_color</code>替换为绿色的<code class="fe lt lu lv lw b">COLORS['GREEN']</code>，蓝色的<code class="fe lt lu lv lw b">COLORS['BLUE']</code>，黄色的<code class="fe lt lu lv lw b">COLORS['YELLOW']</code>。我们设置阈值为<code class="fe lt lu lv lw b">60</code>，从图像中提取的总颜色为<code class="fe lt lu lv lw b">5</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mu mv l"/></div></figure><h2 id="d526" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">寻找绿色</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/8ea8f38e804cf0bfff9318cc5590d819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kZSAiaV3JyE1HH7ckKEpw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Search for ‘GREEN”</figcaption></figure><h2 id="7488" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">寻找蓝色</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/9c7d0fe15512a54c2961f449cd55fe8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*8pv4jcNiEOGH5pbf1vhOSg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Search for ‘BLUE’</figcaption></figure><h2 id="d814" class="na ly iq bd lz nb nc dn md nd ne dp mh lf nf ng mj lj nh ni ml ln nj nk mn nl bi translated">寻找黄色</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/37bd71f7b9984eb6e21b976af3a5f6c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s29UZgDgxO2i5asgZ2Sj8g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Search for ‘YELLOW’</figcaption></figure><h1 id="9b34" class="lx ly iq bd lz ma mb mc md me mf mg mh jw mi jx mj jz mk ka ml kc mm kd mn mo bi translated">结论</h1><p id="5e7c" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">在本文中，我们讨论了使用 KMeans 算法从图像中提取颜色，然后使用该算法基于颜色搜索图像的方法。</p></div><div class="ab cl oz pa hu pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="ij ik il im in"><p id="da5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">希望你喜欢我的作品。请分享你的想法和建议。</p></div></div>    
</body>
</html>