<html>
<head>
<title>Wordcloud Web App In 40 Lines of R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">40 行代码的 Wordcloud Web 应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/wordcloud-web-app-in-40-lines-of-code-1be8f8fbd745?source=collection_archive---------2-----------------------#2017-10-18">https://towardsdatascience.com/wordcloud-web-app-in-40-lines-of-code-1be8f8fbd745?source=collection_archive---------2-----------------------#2017-10-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/fedf4bb31fa1ba5b198dab34d9b0f4c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lHrRuwx7XQKJJAdWAHD5kA.png"/></div></div></figure><div class=""/><p id="69db" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些天来，r 的成长势头迅猛。鉴于其统计学根源，这种受欢迎程度可能看起来有些奇怪。然而，通过<a class="ae kw" href="https://en.wikipedia.org/wiki/Hadley_Wickham" rel="noopener ugc nofollow" target="_blank">哈德利·韦翰</a>和整个 R 工作室团队的惊人工作，这种情况正在改变。这种新发现的能力的一个例子是能够用少得可笑的代码编写清晰的 web 应用程序。在这篇文章中，我将演示如何使用 R！没有 Javascript，HTML 或 CSS 什么的。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><figure class="lf lg lh li gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi le"><img src="../Images/53150f6500aab5f237b5584ad715a415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ev5Dwpel8jpRZnd6HfnFYw.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Final project</figcaption></figure></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><h1 id="c488" class="ln lo jb bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">启动和运行</h1><figure class="lf lg lh li gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ml"><img src="../Images/737475b7a604c6fb290b9db1531e10c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fFp11zuUTaTIk8L934dFQw.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Simple ‘Hello World’ with R + Shiny</figcaption></figure><p id="4d6a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通往 Hello World 的道路很简单。你需要安装 r。对于 Mac 用户来说，最简单的方法是<a class="ae kw" href="https://brew.sh" rel="noopener ugc nofollow" target="_blank">自制</a>。如果没有，你总是可以从<a class="ae kw" href="https://cran.r-project.org" rel="noopener ugc nofollow" target="_blank">曲柄</a>处得到它。你只需在你选择的终端上输入 R 就可以得到一个 R 控制台。</p><p id="5a81" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">接下来，您需要创建一个名为 app 的文件。r 用下面的代码。我们将要做的一切背后的主要驱动力是一个叫做<a class="ae kw" href="https://github.com/rstudio/shiny" rel="noopener ugc nofollow" target="_blank">闪亮</a>的 R 包。这个神奇的包到底是什么？</p><blockquote class="mm"><p id="3dbc" class="mn mo jb bd mp mq mr ms mt mu mv kv dk translated"><a class="ae kw" href="http://shiny.rstudio.com/" rel="noopener ugc nofollow" target="_blank"> Shiny </a>是一个开源的 R 包，它为使用 R 构建 web 应用程序提供了一个优雅而强大的 web 框架。Shiny 帮助您将您的分析转化为交互式 web 应用程序，而不需要 HTML、CSS 或 JavaScript 知识。</p></blockquote><figure class="mw mx my mz na is"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1a22" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一旦你做到了。您可以通过调用 R 并键入以下命令来运行该应用程序:</p><pre class="lf lg lh li gt nd ne nf ng aw nh bi"><span id="3719" class="ni lo jb ne b gy nj nk l nl nm">library(shiny)<br/>shiny::runApp()</span></pre><p id="b208" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">很简单，对吧？好吧，这只是开始。</p><ul class=""><li id="bc4d" class="nn no jb ka b kb kc kf kg kj np kn nq kr nr kv ns nt nu nv bi translated">闪亮的应用程序会像电子表格一样自动“活”起来。当用户修改输入时，输出会立即改变，不需要重新加载浏览器。</li><li id="7208" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">闪亮的用户界面可以完全使用 R 构建，也可以直接用 HTML、CSS 和 JavaScript 编写，以获得更大的灵活性。</li><li id="e7d2" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">可在任何 R 环境下工作(控制台 R、用于 Windows 或 Mac 的 Rgui、ESS、StatET、RStudio 等。)</li><li id="42aa" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">基于<a class="ae kw" href="http://twitter.github.com/bootstrap" rel="noopener ugc nofollow" target="_blank"> Twitter Bootstrap </a>的有吸引力的默认 UI 主题。</li><li id="cf98" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">一个高度可定制的滑块部件，内置动画支持。</li><li id="6987" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">预构建的输出部件，用于显示 R 对象的绘图、表格和打印输出。</li><li id="5456" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">使用<a class="ae kw" href="http://illposed.net/websockets.html" rel="noopener ugc nofollow" target="_blank"> websockets </a>包在 web 浏览器和 R 之间进行快速双向通信。</li><li id="f3c6" class="nn no jb ka b kb nw kf nx kj ny kn nz kr oa kv ns nt nu nv bi translated">使用<a class="ae kw" href="http://en.wikipedia.org/wiki/Reactive_programming" rel="noopener ugc nofollow" target="_blank">反应式</a>编程模型，消除混乱的事件处理代码，因此您可以专注于真正重要的代码。</li></ul></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="6cc2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">至此，我们的项目已经启动。下一步是添加侧边栏，滑块和设置我们的主面板。</p><figure class="lf lg lh li gt is"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="1d60" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">尽管有些语法是新的，但它相当简单。我们用 fluidPage 定义了我们的页面样式，它允许我们利用 Bootstrap 的网格系统。然后，我们建立我们的侧边栏。接下来，我们设置两个幻灯片输入。这将允许用户在我们的 wordcloud 中更改值，这将立即反映在我们的云中。这种对输入及其后续变化的关注是 Shiny 的核心。这一过程的方法论基础是反应性。</p><p id="c777" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在很大程度上，反应超出了本文的范围，但是我将从 RStudio 的优秀人员那里提供一个快速的概述。</p><blockquote class="mm"><p id="eae8" class="mn mo jb bd mp mq mr ms mt mu mv kv dk translated">闪亮的 web 框架从根本上说是让从 web 页面连接<em class="ob">输入值</em>变得容易，让它们在 R 中对你可用，并且让你的 R 代码的结果作为<em class="ob">输出值</em>写回到 web 页面。</p></blockquote><pre class="mw mx my mz na nd ne nf ng aw nh bi"><span id="b616" class="ni lo jb ne b gy nj nk l nl nm">input values =&gt; R code =&gt; output values</span></pre><blockquote class="mm"><p id="9a08" class="mn mo jb bd mp mq oc od oe of og kv dk translated">由于闪亮的 web 应用程序是交互式的，输入值可以随时更改，输出值需要立即更新以反映这些更改。</p><p id="222a" class="mn mo jb bd mp mq mr ms mt mu mv kv dk translated">Shiny 附带了一个<strong class="ak">反应式编程</strong>库，你可以用它来构建你的应用程序逻辑。通过使用这个库，更改输入值自然会导致 R 代码的正确部分被重新执行，这又会导致任何更改的输出被更新。</p></blockquote></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="9055" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们已经完成了这个应用程序的 UI 所需的所有代码。现在，我们将关注服务器端。如果你是 R 和 Tidyverse 的新手，下面的语法看起来完全陌生，但是请耐心听我说。这比看起来容易。</p><figure class="lf lg lh li gt is"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="2266" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">信不信由你，就是这样。如果你想在本地运行这个，你需要声明你正在使用什么库。你可以在这里 找到这个演练<a class="ae kw" href="https://github.com/beigebrucewayne/RandomShinyApps/blob/master/wordcloud/app.R" rel="noopener ugc nofollow" target="_blank"> <em class="oh">的最终代码。</em></a></p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="8eca" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">本演练绝非详尽无遗。Shiny 提供了很多东西，有一个看似无穷无尽的工具箱。如果你愿意，你可以编写自定义的 HTML 和 CSS。此外，像<a class="ae kw" href="https://github.com/daattali/shinyjs" rel="noopener ugc nofollow" target="_blank"> ShinyJS </a>这样的包将会给更有经验的开发者一个机会，通过开发 Javascript 让他们的应用大放异彩。</p><p id="daa5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">希望这个简单的概述能揭示使用 R 和 Shiny 是多么的简单和有趣。这对于围绕模型或数据的内部工具来说是非常好的。绝对值得一个周末的黑客会议。你可以在 RStudio 上看到一系列例子来获得一些灵感。</p></div><div class="ab cl kx ky hu kz" role="separator"><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc ld"/><span class="la bw bk lb lc"/></div><div class="ij ik il im in"><p id="15f5" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果你正在寻找一个更深入的教程<a class="ae kw" href="http://deanattali.com/blog/building-shiny-apps-tutorial/" rel="noopener ugc nofollow" target="_blank">，由迪安·阿塔利撰写的这个</a>是一个很好的起点！</p></div></div>    
</body>
</html>