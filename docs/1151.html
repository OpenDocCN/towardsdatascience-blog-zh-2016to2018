<html>
<head>
<title>High Resolution Weather Data with R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有 R 的高分辨率天气数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/high-resolution-weather-data-with-r-410e5e5f12e5?source=collection_archive---------3-----------------------#2017-08-03">https://towardsdatascience.com/high-resolution-weather-data-with-r-410e5e5f12e5?source=collection_archive---------3-----------------------#2017-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="b62d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在<a class="kl km ep" href="https://medium.com/u/6e55e5c37908?source=post_page-----410e5e5f12e5--------------------------------" rel="noopener" target="_blank"> WeatherDecTech </a>遇到的一个棘手问题是客户需要大量天气数据，但没有科学数据格式的经验。</p><p id="b201" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">自从我们的高分辨率分析数据(NetCDF 格式)发布以来，这个问题越来越频繁地出现。虽然我们过去提供过 CSV 文件，但是这种方法有很多限制。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/d35fe61be04c505d3cb0f0af556c43f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2LjbfXIQlwpwW0hL5ZxzCA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Australian High Resolution Hourly Temperature</figcaption></figure><p id="a63d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最大的问题是 CSV 文件的大小通常是 NetCDF 的 20-30 倍。因此，查看我们对 10 个变量一年的每小时分析数据，NetCDF 分布可能为 750GB，而同等 CSV 数据为 20TB。</p><p id="26ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用 NetCDF 数据的其他好处在其<a class="ae ld" href="http://www.unidata.ucar.edu/software/netcdf/docs/faq.html" rel="noopener ugc nofollow" target="_blank">常见问题解答</a>中有最佳描述:</p><blockquote class="le lf lg"><p id="e290" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated">NetCDF 数据是:</p><p id="31a1" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">自诩</em>。netCDF 文件包含有关它所包含的数据的信息。</p><p id="d067" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">便携</em>。netCDF 文件可以由具有不同存储整数、字符和浮点数方式的计算机访问。</p><p id="0e6d" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">可扩展</em>。可以有效地访问大型数据集的小子集。</p><p id="756b" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">可追加</em>。可以将数据附加到结构正确的 netCDF 文件中，而无需复制数据集或重新定义其结构。</p><p id="330a" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">可共享</em>。一个编写器和多个读取器可以同时访问同一个 netCDF 文件。</p><p id="e699" class="jn jo lh jp b jq jr js jt ju jv jw jx li jz ka kb lj kd ke kf lk kh ki kj kk ij bi translated"><em class="iq">可建</em>。该软件的当前和未来版本将支持对所有早期形式的 netCDF 数据的访问。</p></blockquote><p id="2499" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然好处是显而易见的，但这仍然不能使格式变得容易使用。为了解决这些可访问性问题，我又写了 2 个 R 包。第一个是一个瘦 API 包装器，它允许你以一种方便的方式下载数据:<a class="ae ld" href="https://github.com/wdtinc/SkyWiseDataTransferR" rel="noopener ugc nofollow" target="_blank">skywisedataferrer</a></p><p id="74b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用法很简单:</p><pre class="ko kp kq kr gt ll lm ln lo aw lp bi"><span id="6fd8" class="lq lr iq lm b gy ls lt l lu lv">&gt; Authorize('app_id', 'app_key')<br/>&gt; DataTransfer('skywise-conus-surface-analysis', directory = '.')</span></pre><p id="af89" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第二个是用于处理 NetCDF 文件的库:<a class="ae ld" href="https://github.com/wdtinc/SkyWiseNetCDFR" rel="noopener ugc nofollow" target="_blank"> SkyWiseNetCDFR </a></p><pre class="ko kp kq kr gt ll lm ln lo aw lp bi"><span id="949a" class="lq lr iq lm b gy ls lt l lu lv"># extract the temperature grid<br/>&gt; grid &lt;- ExtractGrid(fileName, "temperature")<br/><br/># find the data value at a certain lat / lon<br/>&gt; val &lt;- GetValueAtPoint(35, -97, grid)</span><span id="b654" class="lq lr iq lm b gy lw lt l lu lv"># Extract a subset of the grid<br/>&gt; vals &lt;- mapply(GetValueAtPoint, lats, lons, MoreArgs = list(grid))</span></pre><p id="4f23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你想访问这些数据，请访问 WDT 进行注册或联系销售。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/eace617f117fff9afbef9da4ec0035ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N1c7tkI5VF3RUon5-aB7iQ.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">CONUS High Resolution Temperature</figcaption></figure><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="lx ly l"/></div></figure></div></div>    
</body>
</html>