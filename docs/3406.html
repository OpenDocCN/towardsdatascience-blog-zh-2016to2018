<html>
<head>
<title>Javascript performance test - for vs for each vs (map, reduce, filter, find).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript 性能测试——针对每个 vs 的 vs(映射、归约、过滤、查找)。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/javascript-performance-test-for-vs-for-each-vs-map-reduce-filter-find-32c1113f19d7?source=collection_archive---------1-----------------------#2018-05-09">https://towardsdatascience.com/javascript-performance-test-for-vs-for-each-vs-map-reduce-filter-find-32c1113f19d7?source=collection_archive---------1-----------------------#2018-05-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/17aed37d40aec439c6636d44068c0a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*a8S2F2rugn4HnvaS."/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@stairhopper?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alex Holyoake</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0eb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们都知道 for 循环比 each 或<a class="ae kf" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> javascript </a>函数要快，因为在 javascript 函数的掩护下，可能会使用 for 循环或其他我不确定的东西。我用一组对象做了一个简单的测试，通过 for <a class="ae kf" href="https://hackernoon.com/tagged/loop" rel="noopener ugc nofollow" target="_blank">循环</a> / for each / javascript 函数做了一些操作，并观察了执行所花费的时间。</p></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><blockquote class="ll lm ln"><p id="1425" class="kg kh lo ki b kj kk kl km kn ko kp kq lp ks kt ku lq kw kx ky lr la lb lc ld im bi translated"><strong class="ki iu">这些结果来自小的例子，并且可能根据所执行的操作、执行环境的选择而变化。和虚拟机的选择。</strong></p></blockquote><h1 id="3a23" class="ls lt it bd lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp bi translated">1.减少 for 循环 vs foreach 的 vs</h1><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="29fe" class="mz lt it mv b gy na nb l nc nd">// calculated the sum of upVotes<br/>const posts = [ <br/>  {id: 1, upVotes: 2},<br/>  {id: 2, upVotes: 18}, <br/>  {id: 3, upVotes: 1}, <br/>  {id: 4, upVotes: 30}, <br/>  {id: 5, upVotes: 50} <br/>];</span><span id="797c" class="mz lt it mv b gy ne nb l nc nd">let sum = 0;<br/>console.time('reduce');<br/>sum = posts.reduce((s, p)=&gt; s+=p.upVotes,0);<br/>console.timeEnd('reduce')</span><span id="393b" class="mz lt it mv b gy ne nb l nc nd">sum = 0;<br/>console.time('for loop');<br/>for(let i=0; i&lt;posts.length; i++) {<br/>    sum += posts[i].upVotes;<br/>}<br/>console.timeEnd('for loop');</span><span id="1e82" class="mz lt it mv b gy ne nb l nc nd">sum = 0;<br/>console.time('for each');<br/>posts.forEach(element =&gt; {<br/>    sum += element.upVotes;<br/>});</span><span id="c431" class="mz lt it mv b gy ne nb l nc nd">console.timeEnd('for each');</span></pre><blockquote class="nf"><p id="5e04" class="ng nh it bd ni nj nk nl nm nn no ld dk translated"><strong class="ak">注:下面是结果列表，代码可以在</strong>  <strong class="ak">这里找到</strong> <a class="ae kf" href="https://github.com/dg92/Performance-analysis-es6" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">。</strong></a></p></blockquote><h2 id="2289" class="mz lt it bd lu np nq dn ly nr ns dp mc kr nt nu mg kv nv nw mk kz nx ny mo nz bi translated">所有的结果都清楚地表明<strong class="ak"> <em class="oa">对于循环比对于每一个都更精通于映射/归约/过滤/查找。</em> </strong></h2><p id="e9ef" class="pw-post-body-paragraph kg kh it ki b kj ob kl km kn oc kp kq kr od kt ku kv oe kx ky kz of lb lc ld im bi translated">映射/减少/过滤/查找速度慢有很多原因，其中一些原因是</p><ol class=""><li id="bccd" class="og oh it ki b kj kk kn ko kr oi kv oj kz ok ld ol om on oo bi translated">他们有一个回调来执行，所以这是一个开销。</li><li id="d09b" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">javascript 函数会考虑很多极端情况，比如 getters、稀疏数组以及检查传递的参数是否是数组，这些都会增加开销。</li></ol><blockquote class="ll lm ln"><p id="7db3" class="kg kh lo ki b kj kk kl km kn ko kp kq lp ks kt ku lq kw kx ky lr la lb lc ld im bi translated"><em class="it">我找到了一个</em><a class="ae kf" href="https://github.com/codemix/fast.js/tree/master" rel="noopener ugc nofollow" target="_blank"><em class="it">lib</em></a><em class="it">。它重新实现了几个常见的内置原生 JavaScript 函数。</em></p></blockquote><p id="7bfe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是使用方式的选择不仅仅取决于性能，还需要考虑更多因素，其中包括:</p><ol class=""><li id="6295" class="og oh it ki b kj kk kn ko kr oi kv oj kz ok ld ol om on oo bi translated">代码可读性和可维护性</li><li id="b561" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">轻松代码</li><li id="ed5e" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">快速编码</li><li id="631e" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">实施与优化</li><li id="5419" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">个人选择</li></ol></div><div class="ab cl le lf hx lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="im in io ip iq"><p id="e434" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就我个人而言，我喜欢地图，减少，过滤，查找，并且我已经用了很长时间了。他们帮助我写出干净、精确、快速且切中要点的代码，这些代码符合我的思维过程。当我别无选择时，我使用 for 循环。</p><p id="0113" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就优化而言，映射/减少/过滤/查找替换应该是最后一个选项，或者不是一个选项，这取决于所需的优化级别。</p><blockquote class="ll lm ln"><p id="f21e" class="kg kh lo ki b kj kk kl km kn ko kp kq lp ks kt ku lq kw kx ky lr la lb lc ld im bi translated">注意:如果你正在使用循环，总是习惯性地使用它们，因为编译器现在足够聪明来正确地优化习惯性循环</p></blockquote><p id="07a6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">更新:<a class="ae kf" href="https://github.com/dg92/Performance-analysis-es6" rel="noopener ugc nofollow" target="_blank">在这里</a>你可以找到大数据集和繁重计算的结果。</p><p id="24d6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我写了一些关于<a class="ae kf" href="https://overflowjs.com/" rel="noopener ugc nofollow" target="_blank">overflowjs.com</a>的文章，这篇文章的第 2 部分比较了 ramada 内联缓存热缓存和一些 GC 的东西。所以，别忘了继续关注 overflowjs.com 的<a class="ae kf" href="https://overflowjs.com/" rel="noopener ugc nofollow" target="_blank"/></p><p id="d10c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想加入我的电子邮件列表，请考虑在此输入您的电子邮件地址<a class="ae kf" href="https://goo.gl/forms/MOPINWoY7q1f1APu2" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu"/></a><strong class="ki iu">关注我在</strong><a class="ae kf" href="https://medium.com/@ideepak.jsd" rel="noopener"><strong class="ki iu">medium</strong></a><strong class="ki iu">上阅读更多关于 javascript 的文章，并在</strong><a class="ae kf" href="https://github.com/dg92" rel="noopener ugc nofollow" target="_blank"><strong class="ki iu">github</strong></a><strong class="ki iu">上查看我的疯狂代码</strong>。如果有什么不清楚或者你想指出什么，请在下面评论。</p><ol class=""><li id="1c60" class="og oh it ki b kj kk kn ko kr oi kv oj kz ok ld ol om on oo bi translated"><a class="ae kf" href="https://levelup.gitconnected.com/javascript-execution-context-and-hoisting-c2cc4993e37d" rel="noopener ugc nofollow" target="_blank"> Javascript 执行上下文和提升</a></li><li id="ae72" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/javascript-generator-yield-next-async-await-8442d2c77185" rel="noopener">Javascript-生成器-产出/下一个&amp;异步-等待🤔</a></li><li id="edcb" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/javascript-context-this-keyword-9a78a19d5786" rel="noopener">理解 Javascript 'this '关键字(上下文)</a>。</li><li id="43be" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://levelup.gitconnected.com/write-beautiful-javascript-with-%CE%BB-fp-es6-350cd64ab5bf" rel="noopener ugc nofollow" target="_blank"> Javascript 数据结构与映射、归约、过滤</a></li><li id="201e" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/javascript-currying-vs-partial-application-4db5b2442be8" rel="noopener"> Javascript- Currying VS 部分应用</a></li><li id="7b8f" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/javascript-es6-iterables-and-iterators-de18b54f4d4" rel="noopener"> Javascript ES6 —可迭代程序和迭代器</a></li><li id="a8af" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://codeburst.io/write-beautiful-javascript-with-%CE%BB-fp-es6-350cd64ab5bf" rel="noopener" target="_blank"> Javascript 性能测试—针对 vs 针对每个 vs (map，reduce，filter，find)。</a></li><li id="18e5" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/why-to-use-javascript-proxy-5cdc69d943e3" rel="noopener"> Javascript —代理</a></li><li id="5443" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/datadriveninvestor/still-confused-in-js-scopes-f7dae62c16ee" rel="noopener"> Javascript —作用域</a></li><li id="1c9f" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://levelup.gitconnected.com/image-object-detection-with-tensorflow-js-b8861119ed46" rel="noopener ugc nofollow" target="_blank">用 Tensorflow-js 进行图像目标检测🤔</a></li><li id="8621" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated">Nodejs 应用程序结构——构建高度可扩展的架构。</li><li id="60fb" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://codeburst.io/node-js-10-0-0-what-to-expect-as-a-backend-developer-security-enthusiast-f8680f132320" rel="noopener" target="_blank"> Node.js 10.0.0，作为后端开发人员/安全爱好者有什么期待？</a></li><li id="05aa" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://levelup.gitconnected.com/image-processing-making-custom-image-filters-react-js-part-2-ee2787f56b0d" rel="noopener ugc nofollow" target="_blank">图像处理——在 React.js 中制作自定义图像滤镜</a></li><li id="a05c" class="og oh it ki b kj op kn oq kr or kv os kz ot ld ol om on oo bi translated"><a class="ae kf" href="https://medium.com/@ideepak.jsd/google-india-phone-call-interview-question-software-developer-5a164e97ddeb" rel="noopener">谷歌印度面试问题</a></li></ol><p id="87c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">谢谢！</strong></p></div></div>    
</body>
</html>