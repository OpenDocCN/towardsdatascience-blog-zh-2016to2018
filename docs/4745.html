<html>
<head>
<title>Self-driving cars using Deep Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用深度学习的自动驾驶汽车</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/self-driving-cars-using-deep-learning-14add64fa8a2?source=collection_archive---------5-----------------------#2018-09-04">https://towardsdatascience.com/self-driving-cars-using-deep-learning-14add64fa8a2?source=collection_archive---------5-----------------------#2018-09-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d21d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">无人驾驶汽车无疑将成为未来的标准交通方式。从优步和谷歌到丰田和通用汽车的大公司都愿意花费数百万美元来实现它们，因为未来的市场预计价值数万亿美元。在过去的几年里，我们看到了这一领域的巨大发展，优步、特斯拉和 Waymo 的汽车记录中总共有 800 万英里。</p><p id="fb3d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当然，由于硬件和软件方面的许多不同技术进步，自动驾驶汽车现在已经成为现实。激光雷达传感器、照相机、全球定位系统、超声波传感器协同工作，从每一个可能的来源接收数据。这些数据使用先进的算法进行实时分析，使自动驾驶功能成为可能。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/4a07c030bd4ddd2eb7bc621d6e9690ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4P9TeFcSHguq4Sz8.jpg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="https://www.technologyreview.com/s/609674/whats-driving-autonomous-vehicles/" rel="noopener ugc nofollow" target="_blank">https://www.technologyreview.com/s/609674/whats-driving-autonomous-vehicles/</a></figcaption></figure><p id="c5da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">形成自动驾驶管道有 5 个基本步骤，顺序如下:</p><ol class=""><li id="aa96" class="lc ld iq jp b jq jr ju jv jy le kc lf kg lg kk lh li lj lk bi translated">本地化</li><li id="330d" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">感觉</li><li id="a236" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">预言；预测；预告</li><li id="bc46" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">规划</li><li id="3a0b" class="lc ld iq jp b jq ll ju lm jy ln kc lo kg lp kk lh li lj lk bi translated">控制</li></ol><p id="a4f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">定位基本上是自动驾驶车辆如何准确地知道它在世界上的位置。在这一步中，他们从所有上述传感器(传感器融合)获得数据，并使用一种称为卡尔曼滤波器的技术以最高的精度找到他们的位置。<a class="ae lb" href="https://en.wikipedia.org/wiki/Kalman_filter" rel="noopener ugc nofollow" target="_blank">卡尔曼滤波器</a>是一种概率方法，使用随时间变化的测量值来估计物体的位置状态。另一种广泛使用的技术是<a class="ae lb" href="https://en.wikipedia.org/wiki/Particle_filter#Particle_filters" rel="noopener ugc nofollow" target="_blank">粒子过滤器</a>。</p><p id="89d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感知是汽车感知和理解周围环境的方式。这就是计算机视觉和神经网络发挥作用的地方。但稍后会详细介绍。</p><p id="e578" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在预测步骤中，汽车预测周围每个物体(车辆或人)的行为。它们将如何运动，朝哪个方向，以什么速度，沿着什么轨迹运动。这里最常用的模式之一是递归神经网络，因为它可以从过去的行为中学习并预测未来。</p><p id="342d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">路径规划是不言自明的。它是汽车规划路线的地方，或者说是产生轨迹的地方。这是通过搜索算法(如<a class="ae lb" href="https://en.wikipedia.org/wiki/A*_search_algorithm" rel="noopener ugc nofollow" target="_blank"> A* </a>)、点阵规划和强化学习来完成的。</p><p id="407b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后，控制工程师从这里接手。他们使用上一步生成的轨迹来相应地改变汽车的转向、加速和刹车。最常见的方法是<a class="ae lb" href="https://en.wikipedia.org/wiki/PID_controller" rel="noopener ugc nofollow" target="_blank"> PID </a>控制，但也有一些其他方法，如<a class="ae lb" href="https://en.wikipedia.org/wiki/Linear%E2%80%93quadratic_regulator" rel="noopener ugc nofollow" target="_blank">线性二次调节器(LQR) </a>和<a class="ae lb" href="https://en.wikipedia.org/wiki/Model_predictive_control" rel="noopener ugc nofollow" target="_blank">模型预测控制(MPC) </a></p><p id="f59a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">顺便说一句，如果你想了解更多，请查看 Udacity 免费提供的两门精彩课程:</p><p id="8dae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">嗯，我认为现在是我们自己制造自动驾驶汽车的时候了。好吧，不全是。但我们能做的是使用驾驶模拟器，记录下摄像头看到的东西。然后，我们可以将这些帧输入神经网络，希望汽车能够学会如何自己驾驶。让我想想…</p><p id="1f55" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们将使用 Udacity 开源的<a class="ae lb" href="https://github.com/udacity/self-driving-car-sim" rel="noopener ugc nofollow" target="_blank">自动驾驶汽车模拟器</a>。要使用它，你需要安装 Unity 游戏引擎。现在有趣的部分来了:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi lq"><img src="../Images/05ca7aab129401e874ebd230a8fe514b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OsCCdtkdq4i_gK2X.jpg"/></div></div></figure><p id="67ed" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不言而喻，我花了大约一个小时记录帧。是一些认真工作的人。我不是在鬼混。</p><p id="d793" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">无论如何，现在模拟器已经从 3 个不同的角度产生了 1551 帧，还记录了 517 个不同状态下的转向角、速度、油门和刹车。</p><p id="0071" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 keras 中构建模型之前，我们必须读取数据，并将它们分成训练集和测试集。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="c5ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">之后，我们将建立我们的模型，该模型具有 5 个卷积层、1 个漏失层和 4 个密集层。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="e13a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">网络将只输出一个值，即转向角。</p><p id="134e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我们传递模型的输入之前，我们应该做一些预处理。请注意，这是通过 OpenCV 完成的，OpenCV 是一个为图像和视频操作而构建的开源库。</p><p id="69a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我们必须产生更多数据，我们将通过扩充现有数据来做到这一点。例如，我们可以翻转现有的图像，翻译它们，添加随机阴影或改变它们的亮度。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="508a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">接下来，我们必须确保裁剪和调整图像大小，以适应我们的网络。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="46ea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">培训时间:</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="27c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们有了经过训练的模型。它本质上克隆了我们的驾驶行为。让我们看看我们是怎么做的。为此，我们需要一个简单的服务器(socketio server)将模型预测实时发送给模拟器。我不打算谈论太多关于服务器的细节。重要的是我们利用模拟器实时生成的帧和日志来预测转向角度的部分。</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="lr ls l"/></div></figure><p id="adda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果是:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/bfaa216a041d2e2c63c9b8d853b76c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/0*rAk2J7y3DN_6d1oY.gif"/></div></figure><p id="ba79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">还不错。一点也不差。</p><p id="8a73" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们真的做到了。我认为 Udacity 的模拟器是开始学习自动驾驶车辆的最简单的方法。</p><p id="fd9f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总而言之，自动驾驶汽车已经开始成为主流，毫无疑问，它们比我们大多数人想象的更快变得司空见惯。建造一个非常复杂，因为它需要从传感器到软件的许多不同的组件。但是这里我们只是迈出了非常非常小的第一步。</p><p id="8c23" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">重要的是未来就在眼前。令人兴奋的是…</p><blockquote class="lu lv lw"><p id="47a2" class="jn jo lx jp b jq jr js jt ju jv jw jx ly jz ka kb lz kd ke kf ma kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="iq">如果您有任何想法、评论、问题或者您只想了解我的最新内容，请随时在</em></strong><a class="ae lb" href="https://www.linkedin.com/in/sergios-karagiannakos/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Linkedin</strong></a><strong class="jp ir">，</strong><a class="ae lb" href="https://twitter.com/KarSergios" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Twitter</strong></a><strong class="jp ir">，</strong><a class="ae lb" href="https://www.instagram.com/sergios_krg/" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">insta gram</strong></a><strong class="jp ir">，</strong><a class="ae lb" href="https://github.com/SergiosKar" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">Github</strong></a><strong class="jp ir">或在我的</strong></p></blockquote></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><p id="f55c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lx">原载于 2018 年 9 月 4 日</em><a class="ae lb" href="https://sergioskar.github.io/Self_driving_cars/" rel="noopener ugc nofollow" target="_blank"><em class="lx">sergioskar . github . io</em></a><em class="lx">。</em></p></div></div>    
</body>
</html>