<html>
<head>
<title>Recreating (more) data visualizations from the book “Knowledge is Beautiful”: Part II</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从《知识是美丽的》一书中再现(更多)数据可视化:第二部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/recreating-more-data-visualizations-from-the-book-knowledge-is-beautiful-part-ii-2f1d1da68e3a?source=collection_archive---------5-----------------------#2018-06-22">https://towardsdatascience.com/recreating-more-data-visualizations-from-the-book-knowledge-is-beautiful-part-ii-2f1d1da68e3a?source=collection_archive---------5-----------------------#2018-06-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7da2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本系列的第二部分中，我将继续重现 David McCandless 在 r。</p><p id="797f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">David McCandless 是两本最畅销的信息图书籍的作者，他在 TED 上做了一个关于数据可视化的精彩演讲。他的第二本书<a class="ae kl" href="https://informationisbeautiful.net/2014/knowledge-is-beautiful/" rel="noopener ugc nofollow" target="_blank"> <em class="km">知识是美丽的</em> </a> <em class="km"> </em>，于 2015 年出版，包含 196 幅美丽的信息图，耗时 15832 小时完成。</p><p id="f4b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当你完成了这一部分，看看这个系列的其他帖子:第一部分<a class="ae kl" rel="noopener" target="_blank" href="/recreating-data-visualizations-from-the-book-knowledge-is-beautiful-e455e7126071">、</a><a class="ae kl" rel="noopener" target="_blank" href="/recreating-more-data-visualizations-from-the-book-knowledge-is-beautiful-part-iii-5fd393b4c548">第三部分</a>、<a class="ae kl" rel="noopener" target="_blank" href="/recreating-more-data-visualizations-from-the-book-knowledge-is-beautiful-part-iv-686938a84c9e">第四部分</a>。</p><h1 id="103d" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">密码</h1><p id="6e28" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">这个可视化图形是一个散点图，根据密码中的第一个字符[A 到 Z]，然后是[0 到 9]，沿 x 轴从左到右排列常用密码。密码根据类别进行颜色编码，根据密码的强度和 y 轴上的使用频率进行大小调整。</p><p id="1cf9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在上一篇文章中，我从 Google Docs 下载了 excel 格式的数据，并用<code class="fe lq lr ls lt b">readxl</code>包中的<code class="fe lq lr ls lt b">read_excel()</code>函数加载了相应的工作表。</p><p id="32d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">令人沮丧的是，数据有时可以在 pdf 中分发。例如，拉斐尔·伊里扎里(Rafael Irizarry)使用波多黎各政府新发布的数据，对 2017 年毁灭性飓风玛丽亚(Maria)后波多黎各的超额死亡率进行了新的计算。<a class="ae kl" href="https://simplystatistics.org/2018/06/08/a-first-look-at-recently-released-official-puerto-rico-death-count-data/" rel="noopener ugc nofollow" target="_blank"> Irizarry 的帖子附有数据，但遗憾的是它是 PDF 格式的</a>。</p><p id="2caf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kl" href="https://github.com/ropensci/tabulizer" rel="noopener ugc nofollow" target="_blank"> tabulizer </a>库提供了到<a class="ae kl" href="https://github.com/tabulapdf/tabula-java/" rel="noopener ugc nofollow" target="_blank"> Tabula java 库</a>的 R 绑定，可以用来从 PDF 文档中提取表格。</p><p id="3321" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">数据集位于这里:<a class="ae kl" href="https://docs.google.com/spreadsheets/d/1cz7TDhm0ebVpySqbTvrHrD3WpxeyE4hLZtifWSnoNTQ/edit#gid=24" rel="noopener ugc nofollow" target="_blank">bit.ly/KIB_Passwords</a>。我们来导入一下:</p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="394e" class="mc ko iq lt b gy md me l mf mg"># Download tabular data from a pdf spanning multiple pages<br/>library(tabulizer)</span><span id="7653" class="mc ko iq lt b gy mh me l mf mg">passwords &lt;- "~/passwords.pdf"</span><span id="b65a" class="mc ko iq lt b gy mh me l mf mg"># The table spreads across five pages<br/>pages &lt;- c(1:5)</span><span id="2188" class="mc ko iq lt b gy mh me l mf mg">df_total &lt;- data.frame()</span><span id="22f6" class="mc ko iq lt b gy mh me l mf mg">for (i in pages) {<br/>    out &lt;- extract_tables(passwords, page = i)<br/>    out &lt;- as.data.frame(out)<br/>    colnames(out) &lt;- c("rank","password","category", "online_crack", "offline_crack", "rank_alt", "strength","font_size")<br/>    out &lt;- out[-1,1:8]<br/>    df_total &lt;- rbind(df_total, out)<br/>}</span></pre><p id="114a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在继续之前，需要对数据进行一些清理。</p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="6dc9" class="mc ko iq lt b gy md me l mf mg">df_total &lt;- na.omit(df_total)<br/>df_total$rank &lt;- as.numeric(df_total$rank)</span></pre><p id="b831" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">沿着 x 轴，根据密码的第一个字符对密码进行分类。我们可以使用<code class="fe lq lr ls lt b">dplyr</code>的<code class="fe lq lr ls lt b">mutate()</code>函数内的<code class="fe lq lr ls lt b">grepl</code>来创建新的宁滨列的每个密码。</p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="2d9a" class="mc ko iq lt b gy md me l mf mg"># make a group for passwords beginning in A-Z and through 0-9<br/>df_total &lt;- df_total %&gt;% <br/>  mutate(group = case_when(grepl("^A", password, ignore.case = TRUE) ~ "A",<br/>  grepl("^B", password, ignore.case = TRUE) ~ "B",<br/>  grepl("^C", password, ignore.case = TRUE) ~ "C",<br/>  grepl("^D", password, ignore.case = TRUE) ~ "D",<br/>  grepl("^E", password, ignore.case = TRUE) ~ "E",<br/>  grepl("^F", password, ignore.case = TRUE) ~ "F",<br/>  grepl("^G", password, ignore.case = TRUE) ~ "G",<br/>  grepl("^H", password, ignore.case = TRUE) ~ "H",<br/>  grepl("^I", password, ignore.case = TRUE) ~ "I",<br/>  grepl("^J", password, ignore.case = TRUE) ~ "J",<br/>  grepl("^K", password, ignore.case = TRUE) ~ "K",<br/>  grepl("^L", password, ignore.case = TRUE) ~ "L",<br/>  grepl("^M", password, ignore.case = TRUE) ~ "M",<br/>  grepl("^N", password, ignore.case = TRUE) ~ "N",<br/>  grepl("^O", password, ignore.case = TRUE) ~ "O",<br/>  grepl("^P", password, ignore.case = TRUE) ~ "P",<br/>  grepl("^Q", password, ignore.case = TRUE) ~ "Q",<br/>  grepl("^R", password, ignore.case = TRUE) ~ "R",<br/>  grepl("^S", password, ignore.case = TRUE) ~ "S",<br/>  grepl("^T", password, ignore.case = TRUE) ~ "T",<br/>  grepl("^U", password, ignore.case = TRUE) ~ "U",<br/>  grepl("^V", password, ignore.case = TRUE) ~ "V",<br/>  grepl("^W", password, ignore.case = TRUE) ~ "W",<br/>  grepl("^X", password, ignore.case = TRUE) ~ "X",<br/>  grepl("^Y", password, ignore.case = TRUE) ~ "Y",<br/>  grepl("^Z", password, ignore.case = TRUE) ~ "Z",<br/>  grepl("^0", password, ignore.case = TRUE) ~ "0",<br/>  grepl("^1", password, ignore.case = TRUE) ~ "1",<br/>  grepl("^2", password, ignore.case = TRUE) ~ "2",<br/>  grepl("^3", password, ignore.case = TRUE) ~ "3",<br/>  grepl("^4", password, ignore.case = TRUE) ~ "4",<br/>  grepl("^5", password, ignore.case = TRUE) ~ "5",<br/>  grepl("^6", password, ignore.case = TRUE) ~ "6",<br/>  grepl("^7", password, ignore.case = TRUE) ~ "7",<br/>  grepl("^8", password, ignore.case = TRUE) ~ "8",<br/>  grepl("^9", password, ignore.case = TRUE) ~ "9"))</span><span id="4ab7" class="mc ko iq lt b gy mh me l mf mg"># get rid of NA's<br/>df_total &lt;- na.omit(df_total)</span></pre><p id="f880" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">默认情况下，0–9 在 A-Z 之前，但是 McCandless 可视化将 A-Z 放在 0–9 之前，所以让我们重新安排一下。</p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="c15a" class="mc ko iq lt b gy md me l mf mg">df_total$group &lt;- factor(df_total$group, levels = c("A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U" , "V", "W", "X", "Y", "Z", "1", "2", "3", "4", "5", "6", "7", "8", "9"))</span></pre><p id="fa22" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">是时候重新创建数据可视化了。我们使用<code class="fe lq lr ls lt b">geom_text()</code>来显示密码，根据密码强度调整大小，颜色与 McCandless 使用的主题和颜色相协调</p><figure class="lu lv lw lx gt mj gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/e04f76104422f8a7227f67a1beff3f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*dbytfLj_yCXUvvLUgDBrsw.png"/></div></figure><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="4c41" class="mc ko iq lt b gy md me l mf mg">library(ggplot2)<br/>library(extrafont) # For the Georgia font</span><span id="a77d" class="mc ko iq lt b gy mh me l mf mg">ggplot(df_total, aes(x = group, y = rank)) +<br/>geom_text(aes(label = password, color=category, size = font_size, alpha = 0.95)) + <br/>  # add the custom colors<br/>  scale_color_manual(values=c("#477080", "#A3968A", "#C08B99", "#777C77", "#C8AB6D", "#819DAB", "#C18A6F", "#443F36", "#6A9577", "#BF655A")) +<br/>  scale_y_continuous(position = "right", breaks = c(1,10,50,100,250,500)) + <br/>  scale_x_discrete(breaks = c("A","Z","1","9")) +<br/>  scale_y_reverse() +<br/>  labs(title = "Top 500 Passwords", subtitle = "Is yours here?", caption = "Source: bit.ly/KIB_Passwords") +<br/>  labs(x = NULL, position = "top") +<br/>theme(legend.position = "none",<br/>      panel.background = element_blank(),<br/>        plot.title = element_text(size = 13, <br/>                                  family = "Georgia", <br/>                                  face = "bold", lineheight = 1.2), plot.subtitle = element_text(size = 10,<br/>                                     family = "Georgia"), <br/>        plot.caption = element_text(size = 5,<br/>                                    hjust = 0.99, family = "Georgia"),  <br/>        axis.text = element_text(family = "Georgia"))</span></pre><figure class="lu lv lw lx gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mm"><img src="../Images/03ed1f183821f25eb2a1ef8e9f455341.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4YQZp7ScnPVB7NTlE6gBoA.jpeg"/></div></div></figure><p id="245f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">McCandless 制作的数据集包含了很多关于密码如何被破解的信息。<a class="ae kl" href="https://docs.google.com/spreadsheets/d/1cz7TDhm0ebVpySqbTvrHrD3WpxeyE4hLZtifWSnoNTQ/edit#gid=23" rel="noopener ugc nofollow" target="_blank">它也有一些选择密码的提示</a>。不过，这个<a class="ae kl" href="https://xkcd.com/" rel="noopener ugc nofollow" target="_blank"> xkcd </a>漫画可以很好地解释 TLDR:</p><figure class="lu lv lw lx gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mr"><img src="../Images/a7a99b48dfe7e4e2b20e93c746369efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wP0a-jnMT49bIev8KdS0bQ.png"/></div></div></figure><p id="b113" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在顶部框架中，密码破解软件更容易猜出<strong class="jp ir"> Tr0ub4dor &amp; 3 </strong>密码，因为它比<strong class="jp ir">correct horse battery staple</strong>的熵更小，而且人类也更难记住，导致不安全的做法，如将密码写在显示器上的便利贴上。所以你应该总是把一个容易记住的句子转换成一个容易记住的密码，而不是一个随机的字母数字。</p><h1 id="3ebd" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">一茶匙糖</h1><p id="dd18" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated"><a class="ae kl" href="https://docs.google.com/spreadsheets/d/1NUvUicSvcUq-BEoK5ATR2cCpXHmP7oRGEFgHuAhnBww/edit#gid=31" rel="noopener ugc nofollow" target="_blank">糖数据集</a>可视化是一个圆形条形图，显示了常见饮料中的糖的茶匙数。该图使用了<code class="fe lq lr ls lt b">ggplot2</code> <em class="km">的<code class="fe lq lr ls lt b">coord_polar</code>选项(为了简化这篇文章，我排除了数据管理代码，而是提供了一个</em> <code class="fe lq lr ls lt b"><em class="km">.csv</em></code> <em class="km">文件以备绘图)。</em></p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="9ecf" class="mc ko iq lt b gy md me l mf mg">sugar &lt;- read.csv("sugar.csv")</span><span id="3a64" class="mc ko iq lt b gy mh me l mf mg"># Re-order the factors the way they appear in the data frame<br/>names &lt;- sugar$drinks<br/>names<br/>sugar$drinks &lt;- factor(sugar$drinks, levels = rev(sugar$drinks), ordered = TRUE)</span><span id="f796" class="mc ko iq lt b gy mh me l mf mg"># Create a custom color palette<br/>custompalette &lt;- c("#C87295", "#CE7E9C", "#CE7E9C", "#C3C969", "#B77E94", "#693945", "#63645D", "#F9D9E0", "#B96E8E", "#18090E", "#E1E87E", "#B47E8F", "#B26F8B", "#B47E8F", "#B26F8B", "#B47E8F", "#B26F8B", "#9397A0", "#97B7C4", "#9AA24F", "#6B4A4F", "#97A053", "#B7BB6B", "#97A053", "#B7BB6B", "#97A053", "#B7BB6B", "#97A053", "#B7BB6B",<br/>"#CED97B", "#E4E89C", "#C87295", "#CE7E9C")</span><span id="da26" class="mc ko iq lt b gy mh me l mf mg">ggplot(sugar, aes(x = drinks, y = teaspoons, fill = drinks)) +<br/>  geom_bar(width = 0.75, stat = "identity") +<br/>  coord_polar(theta = "y") +<br/>  xlab("") + ylab("") +<br/>  labs(title = "Teaspoons", caption = "Source: bit.ly/KIB_Sugar") +<br/>  # Increase ylim to avoid having a complete circle and set custom breaks to range of teaspoons<br/>  scale_y_continuous(limits = c(0,65), breaks=seq(0,26,1)) +<br/>  scale_fill_manual(values = custompalette) +<br/>  theme(legend.position = "none", <br/>        axis.text.y = element_blank(),<br/>        axis.text.x = element_text(color = "white", family = "Georgia"),<br/>        axis.ticks = element_blank(), <br/>        panel.background = element_rect(fill = "black", color = NA),<br/>        plot.title = element_text(color = "white", <br/>                                  size = 13, <br/>                                  family = "Georgia", <br/>                                  face = "bold", lineheight = 1.2), <br/>        plot.caption = element_text(size = 5,<br/>                                    hjust = 0.99, <br/>                                    color = "white", <br/>                                    family = "Georgia"),<br/>        panel.grid.major.y = element_line(color = "grey48", size = 0.05, linetype = "dotted"),<br/>        panel.grid.minor.y = element_blank(),<br/>        panel.grid.major.x = element_blank())</span></pre><figure class="lu lv lw lx gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi mm"><img src="../Images/2aba0424ce5b1120d14af11bdf76e1ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ot-tjWdFEpdnlac9Q4lBAA.jpeg"/></div></div></figure><p id="30a3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最好是在条形旁边手动添加标签，而不是在<code class="fe lq lr ls lt b">axis.text.y =</code>中调整<code class="fe lq lr ls lt b">hjust</code>。</p><p id="3fdd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">尽管我认为这种视觉效果在美学上是令人愉悦的，但如果不提这些类型的图形最终应该被避免，那将是我的失职，因为很难/误导性地辨别群体之间的差异(<a class="ae kl" href="http://www.visualisingdata.com/2017/09/problems-barc-charts/" rel="noopener ugc nofollow" target="_blank">这里有一个很好的链接，深入解释了 wh </a> y)。</p><p id="ec4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">说到良好的数据可视化实践，大多数人会告诉你避免饼图、炸药图等。然而，我每天都能在学术出版物、政府报告等中看到它们。</p><p id="e94c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谁知道呢，你的雇主可能会要求你制作一份背景带有公司标志的定制信息图。嗯，你很幸运！</p><p id="8bd3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大卫·麦克肯多斯在书中加入了一个 pieplot，我认为复制这个 pie plot 会很有用；仅仅是为了展示如何在绘图中包含背景图像。</p><h1 id="234c" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">谁拥有北极？</h1><p id="e175" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">根据国际法，包括北极及其周围北冰洋区域在内的公海不属于任何国家。然而，延伸至北极大陆架的领土主张属于加拿大、俄罗斯、丹麦、挪威、美国和冰岛。</p><p id="4974" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">虽然在<a class="ae kl" href="https://docs.google.com/spreadsheets/d/1WUdFWTjR5UMLJtjVtKjOOvoTBApI2qJ_WDJr65S6Z5Q/edit#gid=0" rel="noopener ugc nofollow" target="_blank">数据集中有很多信息</a>，但我找不到他用于可视化的原始数据。因此，在这个例子中，我只给出一个大概的估计。</p><pre class="lu lv lw lx gt ly lt lz ma aw mb bi"><span id="69cd" class="mc ko iq lt b gy md me l mf mg">library(magick)</span><span id="e00a" class="mc ko iq lt b gy mh me l mf mg"># use image under Creative Commons Attribution-Share Alike 3.0 Unported license.<br/>img &lt;- image_read("<a class="ae kl" href="https://upload.wikimedia.org/wikipedia/commons/9/91/Arctic_Ocean_location_map.svg" rel="noopener ugc nofollow" target="_blank">https://upload.wikimedia.org/wikipedia/commons/9/91/Arctic_Ocean_location_map.svg</a>")</span><span id="efe2" class="mc ko iq lt b gy mh me l mf mg">bitmap &lt;- img[[1]]<br/>bitmap[4,,] &lt;- as.raw(as.integer(bitmap[4,,]) * 0.4)<br/>taster &lt;- image_read(bitmap)</span><span id="88a9" class="mc ko iq lt b gy mh me l mf mg"># custom pallete<br/>my_palette &lt;- c("#ADDFEA","#E3E9A3", "#FFD283", "#CAC3CF", "#62465F", "#B8E29B")</span><span id="339f" class="mc ko iq lt b gy mh me l mf mg"># Make data frame<br/>df &lt;- data.frame(<br/>  country = c("USA", "Russia", "Norway", "Iceland", "Denmark", "Canada"), <br/>  percentage = c(10,46,13,5,18,18))</span><span id="aa1f" class="mc ko iq lt b gy mh me l mf mg"># Re-order the factors the way they appear in the data frame<br/>df$country &lt;- factor(df$country, levels = c("USA", "Canada", "Denmark", "Iceland", "Norway", "Russia"), ordered = TRUE)</span><span id="683c" class="mc ko iq lt b gy mh me l mf mg">g &lt;- ggplot(df, aes(x = "", y=percentage, fill = country)) +<br/>  geom_bar(width = 1, stat = "identity") +<br/>  coord_polar("y", start=0) +<br/>  scale_y_continuous(breaks = c(105,25,53,62,75,90),labels = c("USA", "Russia", "Norway", "Iceland", "Denmark", "Canada")) +<br/>    xlab("") + ylab("") +<br/>  labs(title = "Who owns the Arctic?", caption = "Source: bit.ly/KIB_PolePosition") +<br/>  scale_fill_manual(values = my_palette) +<br/>  theme(legend.position = "none", <br/>        axis.text.y = element_blank(),<br/>        axis.text.x = element_text(color = c("#ADDFEA","#B8E29B", "#62465F", "#CAC3CF", "#FFD283", "#E3E9A3"), family = "Georgia", size = 7.6),<br/>        axis.ticks = element_blank(), <br/>        panel.background = element_blank(),<br/>        axis.line = element_blank(),<br/>        plot.title = element_text(size = 13, <br/>                                  family = "Georgia", <br/>                                  face = "bold", lineheight = 1.2), <br/>        plot.caption = element_text(size = 5,<br/>                                    hjust = 0.99, <br/>                                    vjust = 15,<br/>                                    family = "Georgia"),<br/>        panel.grid.minor = element_blank(),<br/>        panel.grid.major = element_blank())</span><span id="26b6" class="mc ko iq lt b gy mh me l mf mg"># You need to fiddle with the settings in RStudio and then Export to PDF, JPG, TIFF, etc.<br/>library(grid)<br/>grid.newpage()<br/>g<br/>grid.draw(rasterGrob(width = 0.34, height = 0.666, image=taster, just = "centre", hjust = 0.46, vjust = 0.47))</span></pre><figure class="lu lv lw lx gt mj gh gi paragraph-image"><div role="button" tabindex="0" class="mn mo di mp bf mq"><div class="gh gi ms"><img src="../Images/47b79e6947424d8434205bd86c27bdd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZ8L61SpszK8RoVwksvX2Q.jpeg"/></div></div></figure><p id="ba78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">更多怪异但(有时)有用的情节见<a class="ae kl" href="https://xeno.graphics/?utm_campaign=Data_Elixir&amp;utm_medium=email&amp;utm_source=Data_Elixir_179" rel="noopener ugc nofollow" target="_blank">异种图</a>。</p><p id="5fba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本系列可复制的代码和内容可以在<a class="ae kl" href="https://github.com/moldach/dataRbeautiful" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到</p><p id="b46a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">希望你喜欢这篇文章，并继续关注第三部分！</p></div></div>    
</body>
</html>