<html>
<head>
<title>Fast.ai Lesson 1 on Google Colab (Free GPU)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Google Colab 上的 Fast.ai 第一课(免费 GPU)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/fast-ai-lesson-1-on-google-colab-free-gpu-d2af89f53604?source=collection_archive---------3-----------------------#2018-01-21">https://towardsdatascience.com/fast-ai-lesson-1-on-google-colab-free-gpu-d2af89f53604?source=collection_archive---------3-----------------------#2018-01-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/2fd751b9a13b6039cdde765535714ea8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0aJebtztCdf2RPbsIEEmEg.jpeg"/></div></div></figure><div class=""/><p id="2f8a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在这篇文章中，我将演示如何为 fastai 使用 google colab。</p><h2 id="f6bb" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">关于谷歌可乐的一点…(<a class="ae lp" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank">https://colab.research.google.com/</a>)</h2><p id="1a3b" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">Google colab 是 Google 内部的数据科学研究工具，已经有一段时间了。他们早些时候向公众发布了该工具，其崇高目标是传播机器学习教育和研究。虽然已经有一段时间了，但有一个新功能会引起很多人的兴趣。</p><blockquote class="lv lw lx"><p id="0f7b" class="jy jz ly ka b kb kc kd ke kf kg kh ki lz kk kl km ma ko kp kq mb ks kt ku kv ij bi translated">一次可以免费使用 GPU 作为后端 12 个小时。</p></blockquote><p id="dff2" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">GPU 计算免费？你在开玩笑吗？</p><p id="d508" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些是我脑海中立即闪现的问题，我试了一下。事实上，它工作得很好，非常有用。请仔细阅读本次<a class="ae lp" href="https://www.kaggle.com/getting-started/47096" rel="noopener ugc nofollow" target="_blank">讨论</a>，了解关于此次发布的更多细节。讨论中的几个要点。</p><ol class=""><li id="9502" class="mc md jb ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated"><em class="ly">后端使用的 GPU 是 K80(此时此刻)。</em></li><li id="abbc" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated"><em class="ly">12 小时的限制适用于 VM 的连续分配。这意味着我们可以通过连接到不同的虚拟机来使用 GPU 计算，即使在 12 小时结束后也是如此。</em></li></ol><p id="3f02" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">Google Colab 有很多不错的功能，协作是其中一个主要功能。我不打算在这里介绍这些特性，但这是一个很好的探索，尤其是当你和一群人一起工作的时候。</p><p id="a647" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">因此，让我们开始使用 fastai 和这项服务。</p><h2 id="e7c5" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">入门指南</h2><ol class=""><li id="15f2" class="mc md jb ka b kb lq kf lr kj mq kn mr kr ms kv mh mi mj mk bi translated">你需要<a class="ae lp" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank">注册</a>并申请访问权限，才能开始使用 google colab。</li><li id="4c3f" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">获得访问权限后，您可以使用“文件”-&gt;“上传笔记本”来上传笔记本。我已经上传了第一课的笔记本。请访问本<a class="ae lp" href="https://drive.google.com/file/d/1Yhmmws6eelhXs2WQHJ7BUMQO9Wu5MoQj/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">笔记本</a>以供参考。设置单元格将在共享笔记本中可用。</li><li id="c0b2" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">为您的笔记本电脑启用 GPU 后端。运行时-&gt;更改运行时类型-&gt;硬件加速器-&gt;GPU。</li><li id="f1af" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">要交叉检查是否启用了 GPU，您可以运行共享笔记本中的第一个单元。</li></ol><figure class="mu mv mw mx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mt"><img src="../Images/4c8112b982c652607d6117e8b9476c5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1FDHoB3FON1woCGrIFWiwA.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Cross Check to see if GPU is enabled</figcaption></figure><p id="640e" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">安装 Pytorch </strong></p><p id="c1bf" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">由于默认环境没有 Pytorch，我们必须自己安装它。请记住，每次连接到新虚拟机时都必须这样做。所以不要删除单元格。</p><figure class="mu mv mw mx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nc"><img src="../Images/2cff0f17d0a6695a6557e4aa23aefe86.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCC61b3g9SxY0ARnobiDQQ.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Installing Pytorch</figcaption></figure><p id="9189" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">安装 fastai </strong></p><p id="c475" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">fastai 也一样。我们将使用 pip 来安装 fastai。</p><figure class="mu mv mw mx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nd"><img src="../Images/f40c34744a9a8f35d9b48f1c1ac39cca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UGRB-h-CHzqlhDLnrcdV1g.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Installing fastai</figcaption></figure><p id="e3c8" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">除此之外，还有一个缺失的库 libSM，所以我们必须安装它。</p><p id="b5a1" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka jc">下载数据</strong></p><p id="3c2c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我们可以下载猫和狗的数据集，并使用几个 bash 命令对其进行解压缩</p><figure class="mu mv mw mx gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ne"><img src="../Images/29724a07e30913e89da2a22596b55ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xjmrxfECU3BSpzmG4_M6-Q.png"/></div></div><figcaption class="my mz gj gh gi na nb bd b be z dk">Downloading Data</figcaption></figure><p id="cb1a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">完成这些步骤后，我们就可以在 Google Colab 上学习第一课了。在我们庆祝之前让我们讨论一些问题。</p><h2 id="ddff" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">过程顺利吗？？？</h2><p id="b10e" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">目前还没有。但这是意料之中的。我们来看一些小问题。</p><ol class=""><li id="21c3" class="mc md jb ka b kb kc kf kg kj me kn mf kr mg kv mh mi mj mk bi translated">当试图连接到 GPU 运行时，它有时会抛出一个错误，说它不能连接。这是由于大量的人试图使用这项服务，而不是 GPU 机器的数量。根据之前分享的 kaggle 讨论，他们计划添加更多的 GPU 机器。</li><li id="6ba2" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">有时，运行时只是间歇性地死亡。这可能有许多潜在的原因。</li><li id="cb9d" class="mc md jb ka b kb ml kf mm kj mn kn mo kr mp kv mh mi mj mk bi translated">可用的内存容量大约是 13GB，这对于空闲的内存来说太好了。但是对于像第 1 课中的 resnet 这样的大型网络，大多数时候都会出现内存警告。当用解冻和不同的学习率尝试最终的完整网络时，我几乎总是遇到问题，我怀疑是由于内存。</li></ol><h2 id="1cef" class="kw kx jb bd ky kz la dn lb lc ld dp le kj lf lg lh kn li lj lk kr ll lm ln lo bi translated">结论:</h2><p id="aeba" class="pw-post-body-paragraph jy jz jb ka b kb lq kd ke kf lr kh ki kj ls kl km kn lt kp kq kr lu kt ku kv ij bi translated">谷歌确实在帮助降低深度学习的准入门槛。而像这样的工具，会帮助很多买不起 GPU 资源的人。我真的希望这将是一个全面的服务很快，并保持免费。</p><p id="3fd4" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我会继续更新这个帖子，因为我想出了如何处理这些小问题，并使这个过程顺利。如果有人能够解决这些小问题，请在评论中告诉我。</p></div></div>    
</body>
</html>