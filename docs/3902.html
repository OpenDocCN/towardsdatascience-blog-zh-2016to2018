<html>
<head>
<title>Facial mapping (landmarks) with Dlib + python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Dlib + python 绘制面部地图(地标)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/facial-mapping-landmarks-with-dlib-python-160abcf7d672?source=collection_archive---------5-----------------------#2018-06-29">https://towardsdatascience.com/facial-mapping-landmarks-with-dlib-python-160abcf7d672?source=collection_archive---------5-----------------------#2018-06-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/ca9b9faf7cf6f0344abea95539413616.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*Y1pp8dGs9NdWvh8kX3YrhA.png"/></div></figure><p id="96fe" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在照片或视频中识别人脸非常酷，但这不足以创建强大的应用程序，我们需要更多关于人脸的信息，如位置，嘴是张开还是闭合，眼睛是睁开还是闭合，抬头等等。在这篇文章中，我将(以一种快速而客观的方式)向你展示 Dlib，一个能够给你 68 分(landkmarks)的人脸库。</p></div><div class="ab cl ks kt hu ku" role="separator"><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx ky"/><span class="kv bw bk kw kx"/></div><div class="ij ik il im in"><h2 id="aef5" class="kz la iq bd lb lc ld dn le lf lg dp lh kf li lj lk kj ll lm ln kn lo lp lq lr bi translated">什么是 Dlib？</h2><p id="afa5" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">这是一个具有预训练模型的地标面部检测器，dlib 用于估计 68 个坐标(x，y)的位置，这些坐标映射了一个人脸上的面部点，如下图所示。</p><figure class="ly lz ma mb gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="gh gi lx"><img src="../Images/02233ae8bf6b959973f98fde934a7485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mArsPXT2PB19dF4sPR-VSA.jpeg"/></div></div></figure><p id="ba7d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这些点是从使用了<a class="ae mg" href="https://ibug.doc.ic.ac.uk/resources/facial-point-annotations/" rel="noopener ugc nofollow" target="_blank"> iBUG300-W </a>数据集的预训练模型中确定的。</p><h2 id="9b26" class="kz la iq bd lb lc ld dn le lf lg dp lh kf li lj lk kj ll lm ln kn lo lp lq lr bi translated">给我看看代码！</h2><p id="c1bb" class="pw-post-body-paragraph ju jv iq jw b jx ls jz ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr ij bi translated">在这个“Hello World”中，我们将使用:</p><ul class=""><li id="9bbf" class="mh mi iq jw b jx jy kb kc kf mj kj mk kn ml kr mm mn mo mp bi translated">numpy</li><li id="980a" class="mh mi iq jw b jx mq kb mr kf ms kj mt kn mu kr mm mn mo mp bi translated">opencv</li><li id="7b82" class="mh mi iq jw b jx mq kb mr kf ms kj mt kn mu kr mm mn mo mp bi translated"><a class="ae mg" href="https://github.com/jrosebr1/imutils" rel="noopener ugc nofollow" target="_blank">伊穆蒂尔斯</a></li></ul><p id="18de" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在本教程中，我将用 dlib 编写一个简单的例子。我们正在识别和绘制图像上的人脸点，在以后的文章中，我会详细介绍这个漂亮的库的使用。</p><p id="b81d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">正在安装依赖项。</p><pre class="ly lz ma mb gt mv mw mx my aw mz bi"><span id="eb15" class="kz la iq mw b gy na nb l nc nd">pip install numpy opencv-python dlib imutils</span></pre><p id="622b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">从我们将要处理的图像捕获开始，我们将使用 OpenCV 在一个“无限”循环中捕获图像的网络摄像头，从而给人一种观看视频的感觉。</p><figure class="ly lz ma mb gt jr"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="b37f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">运行您的脚本，并确保您的网络摄像头的图像被捕获(它会为您打开一个窗口，显示网络摄像头的图像)。</p><p id="4e5c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">拿到照片后，让我们来创造奇迹吧。</p><p id="62ce" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">提醒:</strong>我们正在使用已经训练好的模型，我们将需要下载文件 shape _ predictor _ 68 _ face _ landmarks . dat，你可以在这里找到它<a class="ae mg" href="https://github.com/italojs/facial-landmarks-recognition-/blob/master/shape_predictor_68_face_landmarks.dat" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="ly lz ma mb gt jr"><div class="bz fp l di"><div class="ne nf l"/></div></figure><p id="c489" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">之后，只需运行脚本，您就可以在 Dlib 中运行“hello_world ”,在以后的文章中，我将详细介绍如何提取图像中人脸的更多信息。</p><p id="75b4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所有代码都在我的<a class="ae mg" href="https://github.com/italojs/facial-landmarks-recognition" rel="noopener ugc nofollow" target="_blank"> github </a>上。</p><p id="2091" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">TKS。</p></div></div>    
</body>
</html>