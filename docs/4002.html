<html>
<head>
<title>Customizing Plots with Python Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python Matplotlib 自定义地块</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/customizing-plots-with-python-matplotlib-bcf02691931f?source=collection_archive---------3-----------------------#2018-07-09">https://towardsdatascience.com/customizing-plots-with-python-matplotlib-bcf02691931f?source=collection_archive---------3-----------------------#2018-07-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5033" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">通过漂亮的可视化效果获得更好的洞察力</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7f501530ba5c03bf7a7a2c8a32d94e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3twfhWDTCUD--Rg2JdevHQ.jpeg"/></div></div></figure><p id="7083" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">数据科学和数据分析的核心部分是如何可视化数据。你如何利用可视化工具在定义你如何交流见解方面有着重要的作用。</p><p id="fe2f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我选择的探索和可视化数据的语言是 Python。</p><p id="d04b" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这篇文章中，我想向您介绍我的框架，从可视化原始数据到拥有一个漂亮的情节，不仅引人注目，而且强调您想要传达的核心见解。</p></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="7ae5" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在这个例子中，我将使用在<a class="ae lu" rel="noopener" target="_blank" href="/k-means-in-real-life-clustering-workout-sessions-119946f9e8dd">上一篇文章</a>中使用的一组锻炼时间。它看起来像这样</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/7aa289d6a914c040ad5ad47edd9a7646.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*B0NeuevYOOvMaZZBLByO5A.jpeg"/></div><figcaption class="lw lx gj gh gi ly lz bd b be z dk">Workout Dataset, where day category = 0/1 corresponds to weekday/weekend</figcaption></figure><p id="4540" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">一个简单的散点图应该是这样的</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/6b0da6203f0688b0a47ba1bea0abe2a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*moXiDkhcyFCZd8xXIoxpZw.png"/></div></div></figure><p id="0c6c" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">您可以用下面的代码复制它</p><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="c60f" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="8052" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="332a" class="mg mh iq mc b gy mm mj l mk ml"><br/>def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="040f" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))<br/>  ax.scatter(x, y)</span><span id="362e" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="a134" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><p id="8065" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对我来说，通常的下一步是标记轴并添加标题，这样每个图都被适当地标记。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/5b160024a43222096f2c07de99652217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPqMS0OwO7RUk4omajQTZQ.jpeg"/></div></div></figure><p id="86d4" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">代码变化很小，但绝对有所不同。</p><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="1e62" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="b1e2" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="3c9c" class="mg mh iq mc b gy mm mj l mk ml"><br/>def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="7539" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))<br/>  ax.scatter(x, y)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')</span><span id="4b84" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="34ab" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><h2 id="9ca2" class="mg mh iq bd mo mp mq dn mr ms mt dp mu la mv mw mx le my mz na li nb nc nd ne bi translated">去掉那个<em class="nf">盒子</em>怎么样？</h2><p id="89e4" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">为了改变图周围的缺省框，我们必须实际移除一些图的边界。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/0fefe3274dfe53c64b6128babe9191e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1mi9wkKh0sqR5DqbzZzyow.jpeg"/></div></div></figure><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="b3f8" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="d989" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="fef2" class="mg mh iq mc b gy mm mj l mk ml"><br/>def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="8932" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))<br/>  ax.scatter(x, y)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')<br/> <br/>  #removing top and right borders<br/>  ax.spines['top'].set_visible(False)<br/>  ax.spines['right'].set_visible(False)</span><span id="778d" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="e9e3" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><h2 id="dedf" class="mg mh iq bd mo mp mq dn mr ms mt dp mu la mv mw mx le my mz na li nb nc nd ne bi translated">主要网格线</h2><p id="47ee" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">我通常喜欢在我的图中添加一些主要的网格线。它通过减少白色背景的数量来提高可读性。你可以调整它的宽度<code class="fe nm nn no mc b">linewidth</code>和透明度<code class="fe nm nn no mc b">alpha</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/2de9e01069d348e896395cebde00a7ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9aYlHjXQ3SZgmMZNGmiGw.jpeg"/></div></div></figure><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="65f1" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="2bf7" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]<br/></span><span id="ebe5" class="mg mh iq mc b gy mm mj l mk ml">def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="1fc9" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))<br/>  ax.scatter(x, y)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')<br/> <br/>  #removing top and right borders<br/>  ax.spines['top'].set_visible(False)<br/>  ax.spines['right'].set_visible(False)</span><span id="7910" class="mg mh iq mc b gy mm mj l mk ml">  #adds major gridlines<br/>  ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)</span><span id="fde1" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="9058" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><h2 id="8fb8" class="mg mh iq bd mo mp mq dn mr ms mt dp mu la mv mw mx le my mz na li nb nc nd ne bi translated">美学</h2><p id="151f" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">你可以看到图中的一些<em class="nq">点</em>重叠。为了进一步提高可读性，我们可以调整<em class="nq">点</em>‘透明度——<code class="fe nm nn no mc b">alpha</code>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/9a6504253fc33a5a4450ec1bac8f2f53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vf0DSCQ_SBSY40LbLmZnYQ.jpeg"/></div></div></figure><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="9652" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="4168" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="ba43" class="mg mh iq mc b gy mm mj l mk ml">def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="05e1" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))</span><span id="a098" class="mg mh iq mc b gy mm mj l mk ml">  #customizes alpha for each dot in the scatter plot<br/>  ax.scatter(x, y, alpha=0.70)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')<br/> <br/>  #removing top and right borders<br/>  ax.spines['top'].set_visible(False)<br/>  ax.spines['right'].set_visible(False)</span><span id="6ca4" class="mg mh iq mc b gy mm mj l mk ml">  #adds major gridlines<br/>  ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)</span><span id="a8eb" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="04de" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><p id="c8c6" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仍然有一点重叠，但至少透明度提高了大部分点的可读性。</p><h2 id="5f8c" class="mg mh iq bd mo mp mq dn mr ms mt dp mu la mv mw mx le my mz na li nb nc nd ne bi translated">颜色；色彩；色调</h2><p id="008c" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">由于我们有了<em class="nq">天类别</em>，我们也可以尝试用不同的颜色来标识我们图中的每个点。</p><p id="e53f" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为此，您可以从两种不同的方法中进行选择:</p><ul class=""><li id="5e89" class="ns nt iq kt b ku kv kx ky la nu le nv li nw lm nx ny nz oa bi translated">使用像<a class="ae lu" href="https://color.adobe.com/create/color-wheel/" rel="noopener ugc nofollow" target="_blank"> Adobe Kuler 的色轮</a>这样的工具自己选择颜色</li><li id="dd9c" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">使用 Python 的<a class="ae lu" href="https://matplotlib.org/users/colormaps.html" rel="noopener ugc nofollow" target="_blank">颜色贴图</a></li></ul><p id="c9a2" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> #1 定义您自己的调色板</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/59682b39e88d030679d7a721a93f1824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_4e75sMZ4njUv9--ZSfzg.jpeg"/></div></div></figure><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="eea9" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.pyplot as plt</span><span id="f2bf" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="3ded" class="mg mh iq mc b gy mm mj l mk ml">def scatterplot(df, x_dim, y_dim):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="850f" class="mg mh iq mc b gy mm mj l mk ml">fig, ax = plt.subplots(figsize=(10, 5))<br/> <br/>  #defining an array of colors  <br/>  colors = ['#2300A8', '#00A658']</span><span id="ec4c" class="mg mh iq mc b gy mm mj l mk ml">  #assigns a color to each data point<br/>  ax.scatter(x, y, alpha=0.70, color=colors)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')<br/> <br/>  #removing top and right borders<br/>  ax.spines['top'].set_visible(False)<br/>  ax.spines['right'].set_visible(False)</span><span id="b43b" class="mg mh iq mc b gy mm mj l mk ml">#adds major gridlines<br/>  ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)</span><span id="d29c" class="mg mh iq mc b gy mm mj l mk ml">plt.show()</span><span id="8e0d" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’)</span></pre><p id="b560" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt ir"> #2 使用 Python 绘制彩色地图</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ma"><img src="../Images/9a916e31a1c879d5dee38621693fed95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ur_9SSRXRw9o9TcEnnI4LQ.png"/></div></div></figure><p id="670d" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了根据<em class="nq">天类别</em>绘制每个点，我需要在代码中引入一些新的组件</p><ul class=""><li id="f888" class="ns nt iq kt b ku kv kx ky la nu le nv li nw lm nx ny nz oa bi translated">导入颜色映射库</li><li id="3304" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">将<em class="nq">天类别</em>作为参数，可以映射出相应的颜色</li><li id="3a72" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">使用<code class="fe nm nn no mc b">scatter</code>方法中的参数<code class="fe nm nn no mc b">c</code>分配颜色序列</li><li id="5159" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">使用参数<code class="fe nm nn no mc b">cmap</code>指定要使用的颜色图。我将使用<em class="nq">桥</em>彩色地图</li></ul><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="bf36" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.cm as cm<br/>import matplotlib.pyplot as plt</span><span id="2515" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="139a" class="mg mh iq mc b gy mm mj l mk ml">def scatterplot(df, x_dim, y_dim, category):<br/>  x = df[x_dim]<br/>  y = df[y_dim]</span><span id="8bd6" class="mg mh iq mc b gy mm mj l mk ml">  fig, ax = plt.subplots(figsize=(10, 5))</span><span id="cfb3" class="mg mh iq mc b gy mm mj l mk ml">  #applies the custom color map along with the color sequence<br/>  ax.scatter(x, y, alpha=0.70, c= df[category], cmap=cm.brg)<br/> <br/>  #adds a title and axes labels<br/>  ax.set_title('Distance vs Workout Duration')<br/>  ax.set_xlabel('Distance (Km)')<br/>  ax.set_ylabel('Workout Duration (min)')<br/> <br/>  #removing top and right borders<br/>  ax.spines['top'].set_visible(False)<br/>  ax.spines['right'].set_visible(False)</span><span id="a32e" class="mg mh iq mc b gy mm mj l mk ml">  #adds major gridlines<br/>  ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)</span><span id="3e8f" class="mg mh iq mc b gy mm mj l mk ml">  plt.show()</span><span id="9177" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, ‘distance_km’, ‘duration_min’, ‘day_category’)</span></pre><h2 id="143e" class="mg mh iq bd mo mp mq dn mr ms mt dp mu la mv mw mx le my mz na li nb nc nd ne bi translated">传说</h2><p id="b27c" class="pw-post-body-paragraph kr ks iq kt b ku ng jr kw kx nh ju kz la ni lc ld le nj lg lh li nk lk ll lm ij bi translated">到目前为止，我们一直使用原生的<code class="fe nm nn no mc b">scatter</code>方法来绘制每个数据点。为了添加一个图例，我们需要稍微修改一下代码。</p><p id="44cb" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">我们将不得不</p><ul class=""><li id="e874" class="ns nt iq kt b ku kv kx ky la nu le nv li nw lm nx ny nz oa bi translated">将<em class="nq">日类别</em>作为参数，这样我们就有了自己的标签</li><li id="e10e" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">将数字(0，1)标签转换为分类标签(工作日、周末)</li><li id="0382" class="ns nt iq kt b ku ob kx oc la od le oe li of lm nx ny nz oa bi translated">遍历数据集，为每个数据点分配一个标签</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7f501530ba5c03bf7a7a2c8a32d94e5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3twfhWDTCUD--Rg2JdevHQ.jpeg"/></div></div></figure><pre class="kg kh ki kj gt mb mc md me aw mf bi"><span id="07fb" class="mg mh iq mc b gy mi mj l mk ml">import pandas as pd<br/>import matplotlib.cm as cm<br/>import matplotlib.pyplot as plt</span><span id="1503" class="mg mh iq mc b gy mm mj l mk ml">#loading dataset<br/>df = pd.read_csv(‘workout_log.csv’)<br/>df.columns = [‘date’, ‘distance_km’, ‘duration_min’, ‘delta_last_workout’, ‘day_category’]</span><span id="4046" class="mg mh iq mc b gy mm mj l mk ml">def scatterplot(df, x_dim, y_dim, category):<br/>   x = df[x_dim]<br/>   y = df[y_dim]</span><span id="7c0c" class="mg mh iq mc b gy mm mj l mk ml">   #converting original (numerical) labels into categorical labels<br/>   categories = df[category].apply(lambda x: 'weekday' if x == 0 else 'weekend')</span><span id="eb43" class="mg mh iq mc b gy mm mj l mk ml">   fig, ax = plt.subplots(figsize=(10, 5))</span><span id="b58e" class="mg mh iq mc b gy mm mj l mk ml">   #assigns a color to each data point<br/>   colors = ['#2300A8', '#00A658']</span><span id="373c" class="mg mh iq mc b gy mm mj l mk ml">   #iterates through the dataset plotting each data point and assigning it its corresponding color and label<br/>   for i in range(len(df)):<br/>     ax.scatter(x.ix[i], y.ix[i], alpha=0.70, color = colors[i%len(colors)], label=categories.ix[i])</span><span id="5de8" class="mg mh iq mc b gy mm mj l mk ml">   #adds title and axes labels<br/>   ax.set_title('Distance vs Workout Duration')<br/>   ax.set_xlabel('Distance (Km)')<br/>   ax.set_ylabel('Workout Duration (min)')</span><span id="256c" class="mg mh iq mc b gy mm mj l mk ml">   #removing top and right borders<br/>   ax.spines['top'].set_visible(False)<br/>   ax.spines['right'].set_visible(False)</span><span id="c968" class="mg mh iq mc b gy mm mj l mk ml">   #adds major gridlines<br/>   ax.grid(color='grey', linestyle='-', linewidth=0.25, alpha=0.5)<br/>   #adds legend<br/>   ax.legend(categories.unique())<br/>   plt.show()</span><span id="9a6a" class="mg mh iq mc b gy mm mj l mk ml">scatterplot(df, 'distance_km', 'duration_min', 'day_category')</span></pre></div><div class="ab cl ln lo hu lp" role="separator"><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls lt"/><span class="lq bw bk lr ls"/></div><div class="ij ik il im in"><p id="2054" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">现在你知道了！定制的散点图，现在可以更容易地理解数据并获得一些见解。</p><p id="2559" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><em class="nq">感谢阅读！</em></p></div></div>    
</body>
</html>