<html>
<head>
<title>Scaling up Keras with Estimators</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用估计器扩大 Keras</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/scaling-up-keras-with-estimators-2e1f3f759d9f?source=collection_archive---------12-----------------------#2018-09-05">https://towardsdatascience.com/scaling-up-keras-with-estimators-2e1f3f759d9f?source=collection_archive---------12-----------------------#2018-09-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/4bfd5b9f3995016e84c6771773f63ab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cM29_Gx7zu4iHiMOoIZrew.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Keras can’t scale up Mt. Hood, but TensorFlow can!</figcaption></figure><div class=""/><p id="9cce" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你知道你可以把一个<a class="ae la" href="https://www.tensorflow.org/api_docs/python/tf/keras/Model" rel="noopener ugc nofollow" target="_blank"> Keras 模型</a>转换成一个张量流<a class="ae la" href="https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator" rel="noopener ugc nofollow" target="_blank">估算器</a>吗？围绕分布式培训和扩展，它将为您提供一整套选项。我们将准备一个 Keras 模型，通过将其转换为张量流估计量来进行大规模运行。</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><h1 id="d30e" class="lh li jf bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">Keras 模型，符合估计量</h1><p id="5e51" class="pw-post-body-paragraph kc kd jf ke b kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz ij bi translated">所以我们有一个 Keras 模型。易于定义，易于阅读，易于维护。但是我们在扩展到更大的数据集或跨多台机器运行方面做得不太好。</p><blockquote class="mk ml mm"><p id="33cd" class="kc kd mn ke b kf kg kh ki kj kk kl km mo ko kp kq mp ks kt ku mq kw kx ky kz ij bi translated">幸运的是，Keras 和 TensorFlow 有一些很棒的互操作性特性。</p></blockquote><p id="d1b3" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们想要做的是将我们的 Keras <em class="mn">模型</em>转换为 TensorFlow <em class="mn">估算器</em>，它内置了分布式训练。这是我们解决扩展挑战的入场券。</p><p id="1b33" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">另外，一旦我们的培训结束，做<a class="ae la" rel="noopener" target="_blank" href="/deploying-scikit-learn-models-at-scale-f632f86477b8">模型服务</a>也变得很容易。</p><div class="ip iq gp gr ir mr"><a rel="noopener follow" target="_blank" href="/deploying-scikit-learn-models-at-scale-f632f86477b8"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd jg gy z fp mw fr fs mx fu fw je bi translated">大规模部署 scikit-learn 模型</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">Scikit-learn 非常适合组装一个快速模型来测试数据集。但是如果你想运行它…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">towardsdatascience.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf ix mr"/></div></div></a></div><h1 id="84fe" class="lh li jf bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">事实真相</h1><p id="1f96" class="pw-post-body-paragraph kc kd jf ke b kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz ij bi translated">我们感兴趣的函数叫做<code class="fe ng nh ni nj b">model_to_estimator</code>。“模型”部分指的是 Keras <em class="mn">模型</em>，而“估算器”指的是 TensorFlow <em class="mn">估算器。</em></p><figure class="lb lc ld le gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/d8b4ecda070b8311e003cb6308749246.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDpEpY2wRcc7vAsuZh-G4w.png"/></div></div></figure><p id="9a8b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我已经拿了我们在<a class="ae la" rel="noopener" target="_blank" href="/getting-started-with-keras-e9fc04f7ea6a">上一集</a>中从开始的<a class="ae la" href="https://www.kaggle.com/yufengg/fashion-mnist-with-keras-model-to-tf-estimator" rel="noopener ugc nofollow" target="_blank">笔记本，并用新代码更新了它，以将我们的 Keras 模型转换为张量流估计器。培训完成后，我们还将了解如何导出 Keras 模型和 TensorFlow 模型。</a></p><div class="ip iq gp gr ir mr"><a rel="noopener follow" target="_blank" href="/getting-started-with-keras-e9fc04f7ea6a"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd jg gy z fp mw fr fs mx fu fw je bi translated">演练:Keras 入门，使用 Kaggle</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">这是一个简短的帖子——真正的内容在下面的截屏中，我在这里浏览代码！</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">towardsdatascience.com</p></div></div><div class="na l"><div class="nl l nc nd ne na nf ix mr"/></div></div></a></div><p id="a129" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我用我的 Kaggle 内核录制了一段视频来帮助说明这一切是如何进行的细节:</p><figure class="lb lc ld le gt is"><div class="bz fp l di"><div class="lf lg l"/></div></figure><h1 id="4c95" class="lh li jf bd lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me bi translated">包扎</h1><p id="ae06" class="pw-post-body-paragraph kc kd jf ke b kf mf kh ki kj mg kl km kn mh kp kq kr mi kt ku kv mj kx ky kz ij bi translated">使用张量流估值器获得分布式训练是对 Keras 模型的简单调整。因此，现在您拥有了两个世界的精华:易于阅读的 Keras 模型创建语法，以及通过 TensorFlow 估值器进行的分布式训练。</p><p id="5665" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请记住，使用 Keras 模型获得分布式培训只需使用<code class="fe ng nh ni nj b">model_to_estimator</code>。</p></div><div class="ab cl nm nn hu no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="ij ik il im in"><p id="4284" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">感谢阅读这一集的<a class="ae la" href="http://yt.be/AIAdventures" rel="noopener ugc nofollow" target="_blank">云人工智能冒险</a>。如果你喜欢这个系列，请为这篇文章鼓掌让我知道。如果你想要更多的机器学习动作，一定要关注媒体上的<a class="ae la" href="https://medium.com/@yufengg" rel="noopener">me</a>或<a class="ae la" href="http://yt.be/AIAdventures" rel="noopener ugc nofollow" target="_blank">订阅 YouTube 频道</a>以观看未来的剧集。更多剧集即将推出！</p></div></div>    
</body>
</html>