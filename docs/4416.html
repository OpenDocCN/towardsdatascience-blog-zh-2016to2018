<html>
<head>
<title>Beginning to Walk the Data Science Road (Part 1) : Pandas Series</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始走数据科学之路(上) :熊猫系列</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/beginning-to-walk-the-data-science-road-part-1-pandas-series-920e2237c336?source=collection_archive---------10-----------------------#2018-08-14">https://towardsdatascience.com/beginning-to-walk-the-data-science-road-part-1-pandas-series-920e2237c336?source=collection_archive---------10-----------------------#2018-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/db894afb4d160b22ceb1e686291a9635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YOPSS1Bicwz3E_ui"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@yakimadesign?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Jordan Rowland</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="072e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">既然我们已经迈出了数据科学的第一步，</p><div class="lb lc gp gr ld le"><a rel="noopener follow" target="_blank" href="/first-step-in-data-science-with-python-numpy-5e99d6821953"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">Python 数据科学的第一步— NumPy</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">我读到过学习的最好方法是写博客。因为我学习数据科学已经有一段时间了…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">towardsdatascience.com</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jw le"/></div></div></a></div><p id="de62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们继续沿着这条路走下去，探索周围的世界。在本帖中，我们将寻求解决更多的问题，这次使用的是<strong class="kf ir">熊猫</strong>。这将是一个两部分的系列，有趣的是，第一部分是关于<strong class="kf ir">系列</strong>。</p><h1 id="fc82" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">熊猫？</h1><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/86960a9658c755fad71056b6d1e5a731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*28W8wOYw4m2R_3xP"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@damianpatkowski?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Damian Patkowski</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0d1b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不，不是动物。虽然刚开始学的时候真的以为是以动物命名的。这并不奇怪，因为这种语言本身就是以一种蛇命名的。也许 Python 生态系统只是对动物有一种爱。后来我才知道，这种语言实际上是以<a class="ae kc" href="http://effbot.org/pyfaq/why-is-it-called-python.htm" rel="noopener ugc nofollow" target="_blank">巨蟒剧团的</a>命名的，熊猫与功夫熊猫没有任何关系。尽管一旦你掌握了熊猫，你就可以在数据科学方面下功夫。</p><p id="abe7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我知道熊猫实际上是“盘”的意思时，我明白了很多。因为这就是我们在熊猫身上遇到的一切。我们有一些以表格结构排列的数据，我们使用不同的方法和属性来分析这些数据。如果你熟悉结构化查询语言(SQL)，你会发现数据的组织方式有很多相似之处。如果没有，也不用担心。只是按行和列排列的数据。</p><p id="3342" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据<a class="ae kc" href="http://pandas.pydata.org/pandas-docs/stable/" rel="noopener ugc nofollow" target="_blank">文档</a>，pandas 是一个 Python 包，它提供了快速、灵活和富有表现力的数据结构，旨在使处理“关系”或“标签”数据变得既简单又直观。Pandas 有两个主要的数据结构——一维的<strong class="kf ir">系列</strong>和二维的<strong class="kf ir">数据帧</strong>。在这一部分中，我们将查看系列，然后在下一部分中以此为基础来理解数据框架。</p><h2 id="edb2" class="mv lu iq bd lv mw mx dn lz my mz dp md ko na nb mh ks nc nd ml kw ne nf mp ng bi translated">让我们编码</h2><p id="f831" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">你可以在下面的链接中找到这篇文章的完整代码。</p><div class="lb lc gp gr ld le"><a href="https://github.com/bajracharya-kshitij/pandas" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">bajracharya-kshi tij/熊猫</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">GitHub 是人们构建软件的地方。超过 2800 万人使用 GitHub 来发现、分享和贡献超过…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">github.com</p></div></div><div class="ln l"><div class="nm l lp lq lr ln ls jw le"/></div></div></a></div><p id="afc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码使用 Python3 和安装了<a class="ae kc" href="https://anaconda.org/" rel="noopener ugc nofollow" target="_blank"> anaconda </a>的熊猫。见<a class="ae kc" href="http://pandas.pydata.org/pandas-docs/stable/install.html" rel="noopener ugc nofollow" target="_blank">此处</a>如何安装熊猫。</p><p id="64a0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像往常一样，第一步是导入我们将要使用的包。所以，还是进口熊猫吧。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="103c" class="mv lu iq no b gy ns nt l nu nv">import pandas as pd</span></pre><p id="344f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里<strong class="kf ir"> pd </strong>是 pandas 的别名，今后将用于访问 pandas 包中的方法和属性。</p><h2 id="ddcc" class="mv lu iq bd lv mw mx dn lz my mz dp md ko na nb mh ks nc nd ml kw ne nf mp ng bi translated">问题出在哪里？</h2><p id="052a" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">随着 pandas 的安装和导入，我们已经准备好正式定义我们要在这里解决的问题。</p><h1 id="9aa5" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">问题</h1><p id="b857" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">给你 5 个人的身高(英寸)和体重(磅)，如下表所示:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="6480" class="mv lu iq no b gy ns nt l nu nv">+--------+--------------+-------------+<br/>| Person | Height(inch) | Weight(lbs) |<br/>+--------+--------------+-------------+<br/>| A      |           72 |         186 |<br/>| B      |           69 |         205 |<br/>| C      |           70 |         201 |<br/>| D      |           62 |         125 |<br/>| E      |           57 |          89 |<br/>+--------+--------------+-------------+</span></pre><p id="4668" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">后来发现，该表实际上遗漏了人 F 和 G 的条目，他们的身高分别是 65 英寸和 60 英寸，F 的体重是 121 磅，但是遗漏了 G 的体重数据。此外，发现所有高度的值都比它应有的值小 5 英寸，而所有重量的值都比它应有的值大 5 磅。如果可能的话，为每个人找到正确的体重指数(身体质量指数)。</p><h1 id="dd69" class="lt lu iq bd lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq bi translated">解决办法</h1><p id="fe8b" class="pw-post-body-paragraph kd ke iq kf b kg nh ki kj kk ni km kn ko nj kq kr ks nk ku kv kw nl ky kz la ij bi translated">首先，我们从上表中创建一个身高的字典。字典的关键字是人名，值是相应的身高条目。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="de45" class="mv lu iq no b gy ns nt l nu nv">height_dictionary = {'A': 72, 'B': 69, 'C': 70, 'D': 62, 'E': 57}</span></pre><p id="d54b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们可以使用这个字典生成一个熊猫系列。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="903a" class="mv lu iq no b gy ns nt l nu nv">height_series = pd.Series(height_dictionary)</span></pre><p id="5f7f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您现在打印<code class="fe nw nx ny no b">height_series</code>，您将看到以下内容。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="a299" class="mv lu iq no b gy ns nt l nu nv">A    72<br/>B    69<br/>C    70<br/>D    62<br/>E    57<br/>dtype: int64</span></pre><p id="a995" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该系列只是采用字典，并将键设置为索引，将值设置为相应的数据点。它与 NumPy 非常相似，因为我们可以使用整数索引来访问数据点。例如，如果我们打印<code class="fe nw nx ny no b">height_series[1]</code>，它将打印出<code class="fe nw nx ny no b">69</code>。但是 pandas 带来的好处是，现在我们也可以使用我们的自定义索引来访问数据点。所以，使用<code class="fe nw nx ny no b">height['B']</code>也会生成相同的数字<code class="fe nw nx ny no b">69</code>。</p><p id="2068" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">熊猫和 NumPy 关系密切，当我们和熊猫一起工作时，我们会经常看到 NumPy 的用法。接下来，让我们使用 NumPy 数组为权重创建一个熊猫系列。在此之前，我们需要导入 NumPy。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="8cda" class="mv lu iq no b gy ns nt l nu nv">import numpy as np</span></pre><p id="5276" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当使用字典创建一个序列时，我们可以只传递一个参数，因为索引和数据点都是可用的。但是，为了使用 NumPy 数组创建序列，我们需要两个单独的数组——一个用于索引，另一个用于数据点。让我们创建这些数组。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="0f75" class="mv lu iq no b gy ns nt l nu nv">weight_data = np.array([186, 205, 201, 125, 89])<br/>weight_label = np.array(['A','B','C','D','E'])</span></pre><p id="9d77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们提供这两个数组作为创建熊猫系列的参数。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="8e08" class="mv lu iq no b gy ns nt l nu nv">weight_series = pd.Series(data=weight_data, index=weight_label)</span></pre><p id="e811" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nw nx ny no b">weight_series</code>现在看起来如下:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="d0da" class="mv lu iq no b gy ns nt l nu nv">A    186<br/>B    205<br/>C    201<br/>D    125<br/>E     89<br/>dtype: int64</span></pre><p id="9910" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">身高体重系列准备好了。但是现在我们发现表中缺少了一些数据。因此，我们为这些缺失的数据创建另一个系列。首先，我们将为缺失的高度创建一个系列。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="50af" class="mv lu iq no b gy ns nt l nu nv">missing_height = pd.Series([65,60],['F','G'])</span></pre><p id="da22" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们省略了数据和索引的显式定义，因为我们以默认顺序提供参数。此外，我们传递一个简单的 Python 列表，而不是 NumPy 数组，它也工作得很好。</p><p id="c1a1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nw nx ny no b">missing_height</code>现在看起来如下:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="fa24" class="mv lu iq no b gy ns nt l nu nv">F    65<br/>G    60<br/>dtype: int64</span></pre><p id="8ed3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们对丢失的重量做同样的处理。这一次我们将改变索引和数据的顺序。为此，我们需要在参数中显式定义索引和数据，否则<code class="fe nw nx ny no b">F</code>将被视为数据而<code class="fe nw nx ny no b">121</code>将被视为索引。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="2961" class="mv lu iq no b gy ns nt l nu nv">missing_weight = pd.Series(index=['F'],data=[121])</span></pre><p id="7c8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这导致<code class="fe nw nx ny no b">missing_weight</code>等于</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="bc77" class="mv lu iq no b gy ns nt l nu nv">F    121 <br/>dtype: int64</span></pre><p id="8cab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这一点上，我们有四个系列，但这不是我们想要的。我们创造后两个系列只是因为我们之前错过了。我们真正想要的只是两个系列——一个是身高系列，一个是体重系列。所以，让我们继续把丢失的值添加到原始序列中。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="9237" class="mv lu iq no b gy ns nt l nu nv">updated_height_series = height_series.append(missing_height)<br/>updated_weight_series = weight_series.append(missing_weight)</span></pre><p id="b114" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们有了<code class="fe nw nx ny no b">updated_height_series</code>的完整数据:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="722d" class="mv lu iq no b gy ns nt l nu nv">A    72<br/>B    69<br/>C    70<br/>D    62<br/>E    57<br/>F    65<br/>G    60<br/>dtype: int64</span></pre><p id="bae6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并且<code class="fe nw nx ny no b">updated_weight_series</code>为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="c166" class="mv lu iq no b gy ns nt l nu nv">A    186<br/>B    205<br/>C    201<br/>D    125<br/>E     89<br/>F    121<br/>dtype: int64</span></pre><p id="23b4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们只需要两个系列。但是现在我们发现这个系列的数据仍然是不正确的。这些人的身高被发现比正常情况下少了 5 磅，体重被发现比正常情况下多了 5 磅。让我们用<code class="fe nw nx ny no b">correction_series</code>来纠正这一点。在这里，我们为 7 个人创建了一个包含 7 个条目的序列，其中每个条目都是 5。我们将使用 NumPy 的<code class="fe nw nx ny no b">ones</code>方法来完成这项工作。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="2bcb" class="mv lu iq no b gy ns nt l nu nv">correction_series = pd.Series(5*np.ones(7),index=['A','B','C','D','E','F','G'])</span></pre><p id="0e34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你本来也可以做<code class="fe nw nx ny no b">5+np.zeros(7)</code>。无论如何，我们现在有了一个如下所示的修正系列:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="2638" class="mv lu iq no b gy ns nt l nu nv">A    5.0<br/>B    5.0<br/>C    5.0<br/>D    5.0<br/>E    5.0<br/>F    5.0<br/>G    5.0<br/>dtype: float64</span></pre><p id="9037" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们可以用这个修正系列来修正这两个系列。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="603d" class="mv lu iq no b gy ns nt l nu nv">corrected_height_series = updated_height_series + correction_series<br/>corrected_weight_series = updated_weight_series - correction_series</span></pre><p id="d31c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在有了<code class="fe nw nx ny no b">corrected_height_series</code>作为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="0335" class="mv lu iq no b gy ns nt l nu nv">A    77.0<br/>B    74.0<br/>C    75.0<br/>D    67.0<br/>E    62.0<br/>F    70.0<br/>G    65.0<br/>dtype: float64</span></pre><p id="954e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">而<code class="fe nw nx ny no b">corrected_weight_series</code>为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="ccf3" class="mv lu iq no b gy ns nt l nu nv">A    181.0<br/>B    200.0<br/>C    196.0<br/>D    120.0<br/>E     84.0<br/>F    116.0<br/>G      NaN<br/>dtype: float64</span></pre><p id="01fc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注意，添加<code class="fe nw nx ny no b">correction_series</code>后，系列的数据类型从<code class="fe nw nx ny no b">int64</code>变为<code class="fe nw nx ny no b">float64</code>，因为<code class="fe nw nx ny no b">correction_series</code>创建了一个类型为<code class="fe nw nx ny no b">float64</code>的系列。还要注意，对于<code class="fe nw nx ny no b">corrected_weight_series</code>，<code class="fe nw nx ny no b">G</code>的值不是数字<code class="fe nw nx ny no b">NaN</code>。这是因为原始的<code class="fe nw nx ny no b">updated_weight_series</code>不包含<code class="fe nw nx ny no b">G</code>的条目。因此，当我们试图从一个不存在的值中减去 5 时，我们得到了一个<code class="fe nw nx ny no b">NaN</code>。</p><p id="2d4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于 G 的重量是不可得的，我们不能计算 G 的身体质量指数。因此，让我们从<code class="fe nw nx ny no b">corrected_height_series</code>和<code class="fe nw nx ny no b">corrected_weight_series</code>中删除 G 的条目。</p><p id="f6ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要从<code class="fe nw nx ny no b">corrected_height_series</code>中移除 G 的条目，我们可以使用索引来删除该条目。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="f515" class="mv lu iq no b gy ns nt l nu nv">corrected_height_series.drop(['G'])</span></pre><p id="7b6b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以传递一个索引列表作为参数来删除想要的条目。但是，如果我们现在检查<code class="fe nw nx ny no b">corrected_height_series</code>，我们将会看到什么都没有改变。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="19e7" class="mv lu iq no b gy ns nt l nu nv">A    77.0<br/>B    74.0<br/>C    75.0<br/>D    67.0<br/>E    62.0<br/>F    70.0<br/>G    65.0<br/>dtype: float64</span></pre><p id="ccd5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">pandas 这样做是为了避免数据意外丢失。为了使放置永久化，我们需要在<code class="fe nw nx ny no b">drop</code>方法中指定另一个参数。这个参数叫做<code class="fe nw nx ny no b">inplace</code>，必须设置为<code class="fe nw nx ny no b">True</code>。在熊猫身上,<code class="fe nw nx ny no b">inplace</code>的说法被用在许多方法中。让我们继续下去，使下降永久化。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="053d" class="mv lu iq no b gy ns nt l nu nv">corrected_height_series.drop(['G'],inplace=True)</span></pre><p id="44d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，当我们检查原始序列<code class="fe nw nx ny no b">corrected_height_series</code>时，G 的条目将被删除。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="fa8e" class="mv lu iq no b gy ns nt l nu nv">A    77.0<br/>B    74.0<br/>C    75.0<br/>D    67.0<br/>E    62.0<br/>F    70.0<br/>dtype: float64</span></pre><p id="28d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于重量的情况，G 的重量是不可得的。为了删除 G 的条目，我们可以简单地使用<code class="fe nw nx ny no b">dropna</code>方法。使用上述<code class="fe nw nx ny no b">drop</code>方法删除所选的指数及其数值。<code class="fe nw nx ny no b">dropna</code>删除数据点不可用的所有指数。同样，我们需要指定<code class="fe nw nx ny no b">inplace=True</code>，否则 drop 不会反映在原系列中。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="62ec" class="mv lu iq no b gy ns nt l nu nv">corrected_weight_series.dropna(inplace=True)</span></pre><p id="86da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们有了<code class="fe nw nx ny no b">corrected_weight_series</code>作为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="7c65" class="mv lu iq no b gy ns nt l nu nv">A    181.0<br/>B    200.0<br/>C    196.0<br/>D    120.0<br/>E     84.0<br/>F    116.0<br/>dtype: float64</span></pre><p id="7c63" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们在两个系列中都有了想要的值。现在，是时候计算体重指数了。计算身体质量指数的公式如下:</p><figure class="mr ms mt mu gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3cbfc241c7e7dd5922f903ef4b80b9c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*7Pk-4kFp72O6d371-0l4hg.png"/></div></figure><p id="fc51" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们看到我们需要以千克为单位的重量和以米为单位的高度。但是我们上面的数据是以磅为单位的重量和以英寸为单位的高度。因此，在应用公式之前，我们必须首先进行必要的转换。</p><p id="088e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们知道，1 磅= 0.453592 千克，1 英寸= 0.0254 米，我们先用变量来定义这些。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="73cb" class="mv lu iq no b gy ns nt l nu nv">lbs_to_kg_ratio = 0.453592<br/>inch_to_meter_ratio = 0.0254</span></pre><p id="5530" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们可以使用 NumPy 的<code class="fe nw nx ny no b">multiply</code>方法进行必要的转换。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="c9c9" class="mv lu iq no b gy ns nt l nu nv">weights_in_kg = np.multiply(corrected_weight_series,lbs_to_kg_ratio)</span></pre><p id="2219" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么，<code class="fe nw nx ny no b">weights_in_kg</code>就是:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="41a9" class="mv lu iq no b gy ns nt l nu nv">A    82.100152<br/>B    90.718400<br/>C    88.904032<br/>D    54.431040<br/>E    38.101728<br/>F    52.616672<br/>dtype: float64</span></pre><p id="e6d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样的，</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="6b97" class="mv lu iq no b gy ns nt l nu nv">heights_in_m = np.multiply(corrected_height_series,inch_to_meter_ratio)</span></pre><p id="697d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">导致<code class="fe nw nx ny no b">heights_in_m</code>为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="d5ad" class="mv lu iq no b gy ns nt l nu nv">A    1.9558<br/>B    1.8796<br/>C    1.9050<br/>D    1.7018<br/>E    1.5748<br/>F    1.7780<br/>dtype: float64</span></pre><p id="35b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们可以用上面的公式来计算身体质量指数。</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="47b1" class="mv lu iq no b gy ns nt l nu nv">BMI = np.divide(weights_in_kg,np.square(heights_in_m))</span></pre><p id="448c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这样我们得到的<code class="fe nw nx ny no b">BMI</code>系列为:</p><pre class="mr ms mt mu gt nn no np nq aw nr bi"><span id="9183" class="mv lu iq no b gy ns nt l nu nv">A    21.463230<br/>B    25.678196<br/>C    24.498049<br/>D    18.794449<br/>E    15.363631<br/>F    16.644083<br/>dtype: float64</span></pre><p id="d81c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你觉得你已经会功夫了吗？等着看另一个熊猫对象——data frame。在第 2 部分中，我们将看看如何使用 DataFrame 解决同样的问题以及其他一些问题。</p><div class="lb lc gp gr ld le"><a rel="noopener follow" target="_blank" href="/beginning-to-walk-the-data-science-road-part-2-pandas-dataframe-c3e898499d90"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">开始走数据科学之路(下) :熊猫数据框架</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">在第 1 部分中，我们开始走这条路，一路上，我们遇到了系列。</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">towardsdatascience.com</p></div></div><div class="ln l"><div class="oa l lp lq lr ln ls jw le"/></div></div></a></div></div></div>    
</body>
</html>