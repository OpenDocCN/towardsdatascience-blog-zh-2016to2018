<html>
<head>
<title>Predicting Stock Prices with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用 Python 预测股票价格</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/predicting-stock-prices-with-python-ec1d0c9bece1?source=collection_archive---------3-----------------------#2018-11-09">https://towardsdatascience.com/predicting-stock-prices-with-python-ec1d0c9bece1?source=collection_archive---------3-----------------------#2018-11-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b179" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用 100 行代码</h2></div><p id="ffb0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">投资股票市场过去需要大量资金和经纪人，经纪人会从你的收入中提成。然后 Robinhood 颠覆了这个行业，让你只需投资 1 美元，完全避开经纪人。Robinhood 和类似的应用向任何拥有联网设备的人开放了投资，并让非投资者有机会从最新的科技初创企业中获利。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/630eae1840f389c0b9e267217cbc1a71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kHERZYJucDouYv--"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk">“space gray iPhone X turned on” by <a class="ae lr" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7d5a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，让我们这些不是经济学家或会计师的人自由投资“最热门”或“趋势”股票并不总是最好的财务决策。</p><p id="c62d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">成千上万的公司使用软件来预测股票市场的走势，以帮助他们的投资决策。普通的罗宾汉用户没有这个功能。原始预测算法，如时间序列线性回归，可以通过利用 python 包如<a class="ae lr" href="https://pypi.org/project/scikit-learn/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>和<a class="ae lr" href="https://pypi.org/project/iexfinance/" rel="noopener ugc nofollow" target="_blank">iexfinance</a>来进行时间序列预测。</p><p id="85c3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个程序将从网上抓取给定数量的股票，预测它们在一定天数内的价格，并向用户发送短信，通知他们可能适合查看和投资的股票。</p><h1 id="e63d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">设置</h1><p id="c58e" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">为了创建一个程序来预测股票在一定天数内的价值，我们需要使用一些非常有用的 python 包。您需要安装以下软件包:</p><ol class=""><li id="af11" class="mp mq iq kh b ki kj kl km ko mr ks ms kw mt la mu mv mw mx bi translated">y</li><li id="a942" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated"><a class="ae lr" href="https://pypi.org/project/selenium/" rel="noopener ugc nofollow" target="_blank">硒</a></li><li id="7562" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated"><a class="ae lr" href="https://pypi.org/project/scikit-learn/" rel="noopener ugc nofollow" target="_blank"> sklearn </a></li><li id="cc30" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la mu mv mw mx bi translated">一<a class="ae lr" href="https://pypi.org/project/iexfinance/" rel="noopener ugc nofollow" target="_blank"> exfinance </a></li></ol><p id="4e3d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您还没有这些包，您可以通过<code class="fe nd ne nf ng b">pip install PACKAGE</code>或者通过克隆 git 库来安装它们。</p><p id="874e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是一个用 pip 安装 numpy 的例子</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="6fa2" class="nl lt iq ng b gy nm nn l no np">pip install numpy</span></pre><p id="0914" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用 git</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="ea4c" class="nl lt iq ng b gy nm nn l no np">git clone <a class="ae lr" href="https://github.com/numpy/numpy" rel="noopener ugc nofollow" target="_blank">https://github.com/numpy/numpy</a><br/>cd numpy<br/>python setup.py install</span></pre><p id="823f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在打开您最喜欢的文本编辑器，创建一个新的 python 文件。从导入以下包开始</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="ab92" class="nl lt iq ng b gy nm nn l no np">import numpy as np<br/>from datetime import datetime<br/>import smtplib<br/>import time<br/>from selenium import webdriver</span><span id="49c7" class="nl lt iq ng b gy nq nn l no np">#For Prediction<br/>from sklearn.linear_model import LinearRegression<br/>from sklearn import preprocessing, cross_validation, svm</span><span id="a8dc" class="nl lt iq ng b gy nq nn l no np">#For Stock Data<br/>from iexfinance import Stock<br/>from iexfinance import get_historical_data</span></pre><p id="975b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nr">注意:python 附带了 datetime、time 和 smtplib 包</em></p><p id="604b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了清理雅虎股票筛选程序，你还需要安装 Chromedriver 来正确使用 Selenium。在这里可以找到<a class="ae lr" href="https://sites.google.com/a/chromium.org/chromedriver/" rel="noopener ugc nofollow" target="_blank">和</a></p><h1 id="d3de" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">获得股票</h1><p id="1722" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">使用 Selenium 包，我们可以从雅虎股票筛选程序中筛选股票的代码缩写。</p><p id="2ae5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，创建一个带有参数<code class="fe nd ne nf ng b">n</code>的函数<code class="fe nd ne nf ng b">getStocks</code>，其中 n 是我们希望检索的股票数量。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="de1f" class="nl lt iq ng b gy nm nn l no np">def getStocks(n):</span></pre><p id="eab4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在函数中创建你的 chrome 驱动程序，然后使用<code class="fe nd ne nf ng b">driver.get(url)</code>来检索你想要的网页。我们将导航至<a class="ae lr" href="https://finance.yahoo.com/screener/predefined/aggressive_small_caps?offset=0&amp;count=202" rel="noopener ugc nofollow" target="_blank">https://finance . Yahoo . com/screener/predefined/aggressive _ small _ caps？offset=0 &amp; count=202 </a>这将显示 200 只列在“激进小型股”类别中的股票。如果你去 https://finance.yahoo.com/screener，你会看到雅虎提供的所有筛选类别的列表。然后，您可以根据自己的喜好更改 URL。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="da2b" class="nl lt iq ng b gy nm nn l no np">#Navigating to the Yahoo stock screener</span><span id="4cb2" class="nl lt iq ng b gy nq nn l no np">driver = webdriver.Chrome(</span><span id="dfb1" class="nl lt iq ng b gy nq nn l no np">‘<strong class="ng ir">PATH TO CHROME DRIVER</strong>’)</span><span id="c8b1" class="nl lt iq ng b gy nq nn l no np">url = “https://finance.yahoo.com/screener/predefined/aggressive_small_caps?offset=0&amp;count=202"</span><span id="e32d" class="nl lt iq ng b gy nq nn l no np">driver.get(url)</span></pre><p id="6cf8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">确保将下载 chromedriver 的路径添加到粗体代码所在的位置。</p><p id="9d42" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您现在需要创建一个列表来保存 ticker 值<code class="fe nd ne nf ng b">stock_list = []</code>。</p><p id="34b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">接下来，我们需要找到 ticker 元素的 XPath，以便能够抓取它们。转到 screener URL 并在您的 web 浏览器中打开开发者工具(<strong class="kh ir">Command+Option+I</strong>/<strong class="kh ir">Control+Shift+I</strong>或<strong class="kh ir"> F12 </strong> for Windows)。</p><p id="0f49" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单击“选择元素”按钮</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ns"><img src="../Images/b3b152e2d4bf5cee398c846c9c1bfb54.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*95J7ATFmf79k4Z4R-T5u2w.jpeg"/></div></div></figure><p id="87d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单击股票并检查其属性</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nt"><img src="../Images/5339397936325ff7ebc4cefde7108422.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jeq-TTXviKVBh3aDjGE3VA.jpeg"/></div></div></figure><p id="3bfd" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，复制第一个 ticker 的 XPath，HTML 元素应该如下所示</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="ba2e" class="nl lt iq ng b gy nm nn l no np">&lt;a href=”/quote/RAD?p=RAD” title=”Rite Aid Corporation” class=”Fw(b)” data-reactid=”79"&gt;RAD&lt;/a&gt;</span></pre><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nu"><img src="../Images/88163bf37e9d002f0b9191da8dde024d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9LafC5A2cq5_3HzQzZz4OA.jpeg"/></div></div></figure><p id="60c2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">XPath 应该看起来像这样</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="96d4" class="nl lt iq ng b gy nm nn l no np">//*[<a class="ae lr" href="http://twitter.com/id" rel="noopener ugc nofollow" target="_blank">@id</a>=”scr-res-table”]/div[2]/table/tbody/tr[<strong class="ng ir">1</strong>]/td[1]/a</span></pre><p id="4eb4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您检查第一个下面的 ticker 属性，您会注意到 XPath 完全相同，除了上面代码中加粗的 1 对于每个 ticker 增加 1。所以第 57 个 ticker XPath 值是</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="2461" class="nl lt iq ng b gy nm nn l no np">//*[<a class="ae lr" href="http://twitter.com/id" rel="noopener ugc nofollow" target="_blank">@id</a>=”scr-res-table”]/div[2]/table/tbody/tr[<strong class="ng ir">57</strong>]/td[1]/a</span></pre><p id="a52c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这对我们帮助很大。我们可以简单地创建一个<code class="fe nd ne nf ng b">for</code>循环，每次运行时递增该值，并将跑马灯的值存储到我们的<code class="fe nd ne nf ng b">stock_list</code>中。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="e306" class="nl lt iq ng b gy nm nn l no np">stock_list = []<br/>n += 1</span><span id="5399" class="nl lt iq ng b gy nq nn l no np">for i in range(1, n):<br/>  ticker = driver.find_element_by_xpath(</span><span id="df6a" class="nl lt iq ng b gy nq nn l no np">‘//*[@id = “scr-res-table”]/div[2]/table/tbody/tr[‘ + str(i) +          ‘]/td[1]/a’)</span><span id="535d" class="nl lt iq ng b gy nq nn l no np">stock_list.append(ticker.text)</span></pre><p id="5ea8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nd ne nf ng b">n</code>是我们的函数<code class="fe nd ne nf ng b">getStocks(n)</code>将检索的股票数量。我们必须增加 1，因为 Python 是 0 索引的。然后我们使用值<code class="fe nd ne nf ng b">i </code>来修改每个 ticker 属性的 XPath。</p><p id="3346" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe nd ne nf ng b">driver.quit()</code>退出网络浏览器。我们现在有了所有的股票价格，并准备好预测股票。</p><p id="14e3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将创建一个函数来预测下一节中的股票，但现在我们可以创建另一个<code class="fe nd ne nf ng b">for</code>循环来遍历列表中的所有股票值，并预测每个股票的价格。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="00e6" class="nl lt iq ng b gy nm nn l no np">#Using the stock list to predict the future price of the stock a specificed amount of days</span><span id="fabf" class="nl lt iq ng b gy nq nn l no np">for i in stock_list:<br/>  try:<br/>    predictData(i, 5)<br/>  except:<br/>    print("Stock: " + i + " was not predicted")</span></pre><p id="a5d6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用 try 和 except 块处理代码(以防我们的股票包不能识别股票代码值)。</p><h1 id="11cc" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">预测股票</h1><p id="3509" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">创建一个新函数<code class="fe nd ne nf ng b">predictData</code>，它采用参数<code class="fe nd ne nf ng b">stock</code>和<code class="fe nd ne nf ng b">days</code>(其中 days 是我们希望预测未来股票的天数)。从 2017 年 1 月 1 日到现在，我们将使用大约 2 年的数据进行预测(尽管您可以使用任何您想要的数据)。设置<code class="fe nd ne nf ng b">start = datetime(2017, 1, 1)</code>和<code class="fe nd ne nf ng b">end = datetime.now()</code>。然后使用 iexfinance 函数获取给定股票<code class="fe nd ne nf ng b">df = get_historical_data(stock, start=start, end=end, output_format=’pandas’)</code>的历史数据。</p><p id="66a6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后将历史数据导出到一个. csv 文件，为预测创建一个新的虚拟列，并设置<code class="fe nd ne nf ng b">forecast_time = int(days)</code></p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="b9d4" class="nl lt iq ng b gy nm nn l no np">start = datetime(2017, 1, 1)<br/>end = datetime.now()</span><span id="c66a" class="nl lt iq ng b gy nq nn l no np">#Outputting the Historical data into a .csv for later use<br/>df = get_historical_data(stock, start=start, end=end,     output_format='pandas')</span><span id="ab28" class="nl lt iq ng b gy nq nn l no np">csv_name = ('Exports/' + stock + '_Export.csv')<br/>df.to_csv(csv_name)<br/>df['prediction'] = df['close'].shift(-1)<br/>df.dropna(inplace=True)<br/>forecast_time = int(days)</span></pre><p id="66ce" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用 numpy 操作数组，然后预处理这些值，并创建 X 和 Y 训练和测试值。对于这个预测，我们将使用 test_size 的<code class="fe nd ne nf ng b">0.5</code>，这个值给了我最准确的结果。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="aa55" class="nl lt iq ng b gy nm nn l no np">X = np.array(df.drop(['prediction'], 1))<br/>Y = np.array(df['prediction'])<br/>X = preprocessing.scale(X)<br/>X_prediction = X[-forecast_time:]</span><span id="3804" class="nl lt iq ng b gy nq nn l no np">X_train, X_test, Y_train, Y_test =         cross_validation.train_test_split(X, Y, test_size=0.5)</span></pre><p id="8904" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，对数据进行线性回归。创建变量<code class="fe nd ne nf ng b">clf = LinearRegression()</code>，拟合 X 和 Y 训练数据，并将 X 值预测存储在变量<code class="fe nd ne nf ng b">prediction</code>中。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="48c2" class="nl lt iq ng b gy nm nn l no np">#Performing the Regression on the training data</span><span id="e113" class="nl lt iq ng b gy nq nn l no np">clf = LinearRegression()<br/>clf.fit(X_train, Y_train)<br/>prediction = (clf.predict(X_prediction))</span></pre><p id="fd9d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下一节中，我们将定义通过 SMS 发送股票预测的函数<code class="fe nd ne nf ng b">sendMessage</code>。在<code class="fe nd ne nf ng b">predictData</code>函数中添加一个<code class="fe nd ne nf ng b">if</code>语句，该语句存储一个字符串作为输出，并调用<code class="fe nd ne nf ng b">sendMessage</code>函数，向其传递参数<code class="fe nd ne nf ng b">output</code>。</p><p id="1e71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">变量<code class="fe nd ne nf ng b">output</code>可以包含您认为有用的任何信息。我让它告诉我股票名称，1 天预测和 5 天预测。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="dd3e" class="nl lt iq ng b gy nm nn l no np">#Sending the SMS if the predicted price of the stock is at least 1 greater than the previous closing price</span><span id="399f" class="nl lt iq ng b gy nq nn l no np">last_row = df.tail(1)<br/>if (float(prediction[4]) &gt; (float(last_row['close']))):</span><span id="d1cb" class="nl lt iq ng b gy nq nn l no np">output = ("\n\nStock:" + str(stock) + "\nPrior Close:\n" +         str(last_row['close']) + "\n\nPrediction in 1 Day: " + str(prediction[0]) + "\nPrediction in 5 Days: " + str(prediction[4]))</span><span id="ba0f" class="nl lt iq ng b gy nq nn l no np">sendMessage(output)</span></pre><h1 id="8a5f" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">发送消息</h1><p id="8db9" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">创建一个将<code class="fe nd ne nf ng b">output</code>作为参数的函数<code class="fe nd ne nf ng b">sendMessage</code>。要发送短信，我们将使用<code class="fe nd ne nf ng b">smtplib</code>包，这样我们就可以通过电子邮件发送短信。</p><p id="ce65" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将您的电子邮件用户名、密码和接收号码存储为变量。我的手机运营商是威瑞森，所以我用的是@vtext 域名。多亏了这个<a class="ae lr" href="https://20somethingfinance.com/how-to-send-text-messages-sms-via-email-for-free/" rel="noopener ugc nofollow" target="_blank">网站</a>，这里有一些受欢迎的电话公司的分机号码。</p><ul class=""><li id="ce40" class="mp mq iq kh b ki kj kl km ko mr ks ms kw mt la nv mv mw mx bi translated">number@txt.att.net(手机短信)，number@mms.att.net(彩信)</li><li id="7b80" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la nv mv mw mx bi translated">T-Mobile: number@tmomail.net(短信和彩信)</li><li id="5429" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la nv mv mw mx bi translated">number@vtext.com(手机短信)，number@vzwpix.com(彩信)</li><li id="475e" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la nv mv mw mx bi translated">sprint:number @ messaging . sprint PCs . com(短信)，number@pm.sprint.com(彩信)</li><li id="830e" class="mp mq iq kh b ki my kl mz ko na ks nb kw nc la nv mv mw mx bi translated">维珍手机:number@vmobl.com(短信)，number@vmpix.com(彩信)</li></ul><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="ff1c" class="nl lt iq ng b gy nm nn l no np">def sendMessage(output):</span><span id="29ba" class="nl lt iq ng b gy nq nn l no np">username = "EMAIL"<br/>  password = "PASSWORD"<br/>  vtext = "PHONENUMBER@vtext.com"</span></pre><p id="87f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用以下行发送带有正确消息的 SMS</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="93fb" class="nl lt iq ng b gy nm nn l no np">message = output<br/>msg = """From: %s To: %s %s""" % (username, vtext, message)</span><span id="dc61" class="nl lt iq ng b gy nq nn l no np">server = smtplib.SMTP('smtp.gmail.com', 587)<br/>server.starttls()<br/>server.login(username, password)<br/>server.sendmail(username, vtext, msg)<br/>server.quit()</span></pre><h1 id="82ff" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">运行程序</h1><p id="2219" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">最后，创建一个 main 方法来运行程序。我们将把预测的股票数量设置为 200。</p><pre class="lc ld le lf gt nh ng ni nj aw nk bi"><span id="01f5" class="nl lt iq ng b gy nm nn l no np">if __name__ == '__main__':<br/>  getStocks(200)</span></pre><h1 id="e311" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="edf1" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">仅在 10 只股票上运行预测，实际 1 日价格和 1 日预测价格之间的平均百分比误差为<strong class="kh ir"> 9.02% </strong>，其中 5 日百分比误差是令人惊讶的<strong class="kh ir"> 5.90% </strong>。这意味着，平均而言，5 天的预测仅比实际价格低<strong class="kh ir">0.14 美元</strong>。</p><p id="1ee1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些结果可以归因于样本量小，但无论如何，它们都是有希望的，可以在你投资股票时提供很大的帮助。</p></div><div class="ab cl nw nx hu ny" role="separator"><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob oc"/><span class="nz bw bk oa ob"/></div><div class="ij ik il im in"><p id="8169" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae lr" href="https://github.com/Lucas-Kohorst/Python-Stock/" rel="noopener ugc nofollow" target="_blank">查看 Github 上的完整源代码</a></p><div class="od oe gp gr of og"><a href="https://medium.freecodecamp.org/creating-a-twitter-bot-in-python-with-tweepy-ac524157a607" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">使用 Tweepy 在 Python 中创建一个 Twitter 机器人</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">Twitter 大约有 15%是由机器人组成的，我想尝试一下。我谷歌了如何创建一个推特机器人…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.freecodecamp.org</p></div></div><div class="op l"><div class="oq l or os ot op ou ll og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://medium.com/@lucaskohorst/twitter-data-analysis-d5fb7d42ebc7" rel="noopener follow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">推特数据分析</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">在使用 Tweepy 和 Python 以及这段代码创建了免费的 Wtr bot 之后，我想用一种方式来看看 Twitter 用户是如何…</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">medium.co</p></div></div><div class="op l"><div class="ov l or os ot op ou ll og"/></div></div></a></div><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/ranking-news-bias-in-python-e9bb5d1ba93f"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd ir gy z fp ol fr fs om fu fw ip bi translated">Python 中的新闻倾向性排名</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">我最近在《华盛顿邮报》上读到一篇文章，题为“根据……从自由派到保守派对媒体进行排名。”</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ll og"/></div></div></a></div></div></div>    
</body>
</html>