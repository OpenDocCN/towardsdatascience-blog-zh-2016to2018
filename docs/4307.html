<html>
<head>
<title>Performance of Monte Carlo Tree Search for Fantasy Football drafts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙特卡洛树搜索在梦幻足球选秀中的表现</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/performance-of-monte-carlo-tree-search-for-fantasy-football-drafts-269075d08088?source=collection_archive---------10-----------------------#2018-08-06">https://towardsdatascience.com/performance-of-monte-carlo-tree-search-for-fantasy-football-drafts-269075d08088?source=collection_archive---------10-----------------------#2018-08-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="79cb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">本帖中的代码也可作为</em> <a class="ae km" href="https://github.com/ykeuter/ffl/blob/master/notebooks/mcts_analysis.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="kl"> Jupyter 笔记本</em> </a> <em class="kl">。</em></p><p id="37d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在我之前的帖子中，我们看到了使用蒙特卡洛树搜索法为你的梦幻足球选秀。这篇文章将分析我们的 MCTS 算法的性能。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/3f574f28504b62eb4088ad741da0be6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fvgtT6fIr59QBTuf-T1koA.jpeg"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Photo by <a class="ae km" href="https://pixy.org/author/Tajuana_Delamora/" rel="noopener ugc nofollow" target="_blank">Tajuana Delamora</a> on <a class="ae km" href="https://pixy.org/" rel="noopener ugc nofollow" target="_blank">Pixy</a></figcaption></figure><h2 id="9698" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">设置迭代次数</h2><p id="c80b" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">在我们开始研究性能之前，您可能记得 MCTS 的一个参数涉及到要运行的迭代次数。上次我们将其设置为 1000 次迭代(相当随意)，但这可能值得研究一下。一个简单的分析方法是让 MCTS 和另一个迭代次数更多的 MCTS 竞争。如果后者优于前者，那么至少有更高的迭代次数是有意义的，并且测试更高的迭代次数是否仍然优于后者。在某些时候，我们期望迭代次数达到一个平衡，在这种情况下，我们可以停止增加迭代次数。</p><p id="671a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面我们看到了这个练习的结果。事实证明，对于可接受的性能来说，1000 次迭代似乎就足够了。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/b043b31ce0539db466a487b1f1a5999f.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*4kSEcPNUWQ_tf2tUOPv_VQ.png"/></div></figure><h2 id="1931" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">随机策略下的绩效</h2><p id="64bf" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">作为一个基本的基准，现在让我们来看看 MCTS 是如何对付一个随意选秀的对手的。这个策略的实现非常简单。</p><pre class="ko kp kq kr gt mc md me mf aw mg bi"><span id="0f73" class="ld le iq md b gy mh mi l mj mk">def random_draft(state):<br/>    return np.random.choice(state.GetMoves())</span></pre><p id="7d78" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是两种策略在不同蛇顺序位置的结果。正如所料，MCTS 胜过随机策略。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/85e4718d4c2057ba56749852eda61e19.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*OBpDMWMgDtLz-NhPGkB8gg.png"/></div></figure><h2 id="d4e6" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">针对贪婪策略的性能</h2><p id="e2ec" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">接下来，让我们看看 MCTS 对一个采用贪婪策略选秀的对手的表现。贪婪的意思是你在你的花名册上选择现在最有价值的位置，而不考虑未来选择的后果。例如，首先选择四分卫可能会增加很多价值，但以后可能会错过优秀的跑卫，因为他们很快就会变得稀缺。该策略的实现如下所示。</p><pre class="ko kp kq kr gt mc md me mf aw mg bi"><span id="62d3" class="ld le iq md b gy mh mi l mj mk">def greedy_draft(state):<br/>    def result(move):<br/>        st = state.Clone()<br/>        st.DoMove(move)<br/>        return st.GetResult(st.playerJustMoved)<br/>    <br/>    res, move = max((result(m), m) for m in state.GetMoves())<br/>    return move</span></pre><p id="4d58" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们很高兴地看到，下面的结果表明，我们的 MCTS 算法仍然优于这种贪婪策略——但请注意，贪婪策略似乎比随机更差！</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/9dc29b415ff710e45eba81c7fbeb9d7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*0NrIaAy2STlri57zby8n7w.png"/></div></figure><h2 id="79b1" class="ld le iq bd lf lg lh dn li lj lk dp ll jy lm ln lo kc lp lq lr kg ls lt lu lv bi translated">蛇订单位置的值</h2><p id="0eae" class="pw-post-body-paragraph jn jo iq jp b jq lw js jt ju lx jw jx jy ly ka kb kc lz ke kf kg ma ki kj kk ij bi translated">最后，让我们看看你的蛇顺序位置有多重要。很多人都在讨论第一次选人的价值——以及等待下一次选人的漫长时间——与随后的选人相比。我们可以在多个草稿上运行我们的 MCTS 算法，然后查看每个草稿位置的平均结果。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/7bdec303d40b528ea3cc08730cb8486b.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*gxM7VCne4XvN7T3C31BBxw.png"/></div></figure><p id="c172" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">而且，是的，这似乎证实了拥有第一选择的确很重要…在一个糟糕的赛季后的另一个借口；-)</p><p id="81c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">起草愉快！</p></div></div>    
</body>
</html>