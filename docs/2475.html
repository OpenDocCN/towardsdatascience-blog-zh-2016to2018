<html>
<head>
<title>Using machine learning to build a conversational radiology assistant for Google Home</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用机器学习为Google Home构建对话式放射学助手</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-machine-learning-to-build-a-conversational-radiology-assistant-for-google-home-28ef210cb6fb?source=collection_archive---------4-----------------------#2018-01-30">https://towardsdatascience.com/using-machine-learning-to-build-a-conversational-radiology-assistant-for-google-home-28ef210cb6fb?source=collection_archive---------4-----------------------#2018-01-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="4708" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">介绍</h1><p id="1f0d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一段时间以来，我一直对对话代理感到兴奋，之前我构建了一个iOS聊天机器人<a class="ae lj" href="https://www.healthline.com/health-news/artificial-intelligence-car-radiology" rel="noopener ugc nofollow" target="_blank">，模拟由<a class="ae lj" href="https://www.ibm.com/cloud/ai" rel="noopener ugc nofollow" target="_blank">沃森</a>驱动的人类放射科医生</a>。</p><p id="0ee7" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">作为一个令人愉快的周末项目，我和我的<a class="ae lj" href="https://www.facebook.com/photo.php?fbid=10105899973328058&amp;set=picfp.10703792.10105584532883238&amp;type=3&amp;theater" rel="noopener ugc nofollow" target="_blank">光荣的柯基犬</a>坐下来，喝了很多咖啡，为谷歌主页制作了一个放射学助手。它旨在以快速、对话、免提的方式帮助医疗保健提供者满足其放射学需求。一些视频演示:</p><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lu lv l"/></div></figure><figure class="lp lq lr ls gt lt"><div class="bz fp l di"><div class="lw lv l"/></div></figure><p id="ef5a" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">智能扬声器是一项革命性的技术，像Google Home和Amazon Echo这样的工具有潜力为医疗保健提供巨大的价值。这项技术强大而有趣，原因如下:</p><ol class=""><li id="aab3" class="lx ly iq kn b ko lk ks ll kw lz la ma le mb li mc md me mf bi translated"><strong class="kn ir">方便查看和联系我们的患者</strong>。患者<a class="ae lj" href="https://www.wsj.com/articles/is-your-doctor-getting-too-much-screen-time-1450118616" rel="noopener ugc nofollow" target="_blank">讨厌医生持续盯着电脑或平板电脑，这种行为有损医患关系。智能扬声器有助于绘制数据和获取信息，同时继续与患者进行眼神交流。</a></li><li id="b1fd" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated"><strong class="kn ir">无菌的需要</strong>。在无菌手术室中访问信息很麻烦，外科医生基本上无法使用标准的桌面/智能手机技术。智能音箱很好地解决了这个问题。</li><li id="3123" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated"><strong class="kn ir">独有的低摩擦信息检索</strong>。医疗保健提供商面临着不堪重负的工作负载，无缝访问即时信息非常重要。当然，我<em class="mg">可以</em>花3分钟查找Fleischner标准，但是如果我可以简单地“询问房间”并在5秒钟内得到答案，那就<em class="mg">好得多了。此外，新的Google Home应用程序可以立即使用，不需要单独下载和管理100个分散的应用程序。</em></li><li id="d133" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated">交谈的力量。我们天生就被编程为通过对话与世界互动，精心制作的对话软件非常直观且易于使用。这对于不喜欢传统图形用户界面的老年患者/医生尤其有用。</li></ol><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/15a32462b133d10ef389654699aa4f12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*An4cJ8CgZOcNmC3wywhxcw.png"/></div></figure><p id="cb18" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">您现在已经理解了为什么这个平台很酷，但是我们的放射科助理到底能做什么呢？当前功能的示例包括:</p><ol class=""><li id="65d3" class="lx ly iq kn b ko lk ks ll kw lz la ma le mb li mc md me mf bi translated">偶发病变随访建议(例如肺结节<a class="ae lj" href="http://pubs.rsna.org/doi/full/10.1148/radiol.2017161659" rel="noopener ugc nofollow" target="_blank"> Fleischner标准</a></li><li id="f81f" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated">对比过敏预处理方案</li><li id="2aed" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated">大小阈值信息(例如肥厚性幽门狭窄的阈值)</li><li id="b63f" class="lx ly iq kn b ko mh ks mi kw mj la mk le ml li mc md me mf bi translated">临床评分计算器(例如MELD评分)</li></ol><p id="541c" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在本文中，我将向您详细描述这个Google Home工具是如何构建的。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="19d3" class="jn jo iq bd jp jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk bi translated">构建对话式放射学助理</h1><h2 id="edd4" class="nb jo iq bd jp nc nd dn jt ne nf dp jx kw ng nh kb la ni nj kf le nk nl kj nm bi translated">步骤1:使用DialogFlow理解语言</h2><p id="b308" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">首先，我向您提交一个令人难以置信的图表，它提供了应用程序中信息流的概述:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/1029de8b9dd4def8426bda61cd9b008e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*sClAiaU0f6pC0vUt1vCQyQ.jpeg"/></div><figcaption class="no np gj gh gi nq nr bd b be z dk">When a user queries the Google Home device, natural language processing is performed by DialogFlow to understand the user input and parse it into useful variables of interest. These variables are passed to a webhook for further processing. Following webhook processing, information is returned to DialogFlow and used to create the Google Home output message.</figcaption></figure><p id="50fa" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">要构建这种工具，首先需要强大的自然语言处理来理解用户输入，并将其分解成有意义的块。这可以通过使用Google提供的服务<a class="ae lj" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> DialogFlow </a>来实现(通过收购流行的API)。AI)。</p><p id="693b" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在DialogFlow中，功能模块被称为意图。还记得应用程序如何为肺结节提供Fleischner随访建议吗？这就是肺结节的意图。同样，也有计算MELD评分、对比过敏预处理和幽门正常尺寸的意图。看看所有这些美妙的意图:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/c53e12146a267890a555b52f6b220b02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nkm4k4HZmzvmDYf4I0swkg.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk">Intents!</figcaption></figure><p id="02bd" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">但是程序如何获取给定的用户输入并将其与适当的意图配对呢？它能做到这一点，是因为训练数据让它变得聪明。也就是说，我们提供一堆用户可能会说的事情的例子来触发特定的意图——我们提供的越多，人工智能就越聪明——程序“学习”正确识别感兴趣的意图。下面是一个用于训练“MELD分数”意图的数据类型的示例，这只是用户可能询问MELD分数的一系列方式:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi nx"><img src="../Images/a43cf832a93bec24491c43eb4999d0ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hjqM394F81maBXRtp8gMrQ.png"/></div></div></figure><p id="0532" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">所以，我们现在明白了程序是如何确定用户到底在问什么。DialogFlow执行的下一个重要的NLP任务是将用户输入解析成可以理解和处理的有意义的块。</p><p id="29db" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">以肺结节评估为例。为了提供Fleischner建议，我们需要关于结节的四位信息:(1)结节特征(实性、部分实性、毛玻璃)，(2)结节大小，(3)患者风险水平(低或高)，以及(4)结节数量(单个或多个)。在DialogFlow中，像这样的数据位称为实体，我们为这四个变量中的每一个变量创建一个单独的实体(从技术上讲，我们使用通用的“单位长度”实体来表示结节大小，但在本讨论中可以忽略)。它最终看起来有点像这样:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ny"><img src="../Images/fd336846d7b68bbecb46e8096e3884e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XxXSKR3hm4k5gTk0v09nhg.png"/></div></div></figure><p id="5cf6" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">DialogFlow很酷的一点是，它提供了智能的自然语言处理，可以在给定适当的训练数据的情况下，自动从任意句子中提取感兴趣的实体。这意味着，当用户说“我在一个高风险患者中有一个6毫米的固体肺结节”时，DialogFlow会自然地解析数据，并将结节大小(6毫米)、结节特征(固体)和患者风险(高)存储为可用变量。在这种情况下，它认识到它仍然需要知道“结节数”,因此将使用上面列出的“提示”询问该变量。如果用户查询包含所有4个必要的信息，它会立即继续并给出推荐。相反，如果用户简单地说“肺结节”，它会询问所有四个参数。</p><p id="2bd7" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">DialogFlow是如何聪明到可以知道句子的哪些部分代表哪个实体的？当然是训练数据！你只需将句子的相关部分标记为特定实体，它就会学习在新句子中识别这些实体。看起来是这样的:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi nz"><img src="../Images/51b6448b72ddcfaf7e505a42c880fc2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*43XrYYE0gazz52fHtdH6jA.png"/></div></div><figcaption class="no np gj gh gi nq nr bd b be z dk">Yellow label = nodule number; orange label = nodule size; pink label = nodule character; purple label = risk level. Note that you can specify that “smoker” is equivalent to saying “high risk.” Pretty cool!</figcaption></figure><h2 id="87d3" class="nb jo iq bd jp nc nd dn jt ne nf dp jx kw ng nh kb la ni nj kf le nk nl kj nm bi translated">步骤2:使用webhook处理理解的语言</h2><p id="f1ab" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">到目前为止，我们已经使用了奇特的自然语言处理来获取用户输入，理解用户想要什么(意图)，并将其分解为感兴趣的有意义的参数(实体)。</p><p id="e7a6" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">现在我们有了这些参数，我们使用一个“webhook”来处理它们，并向用户提供他们想要的信息(MELD评分、Fleischner推荐等。).出于我们的目的，您可以将webhook想象成一段代码，它接受来自DialogFlow的数据，对其进行处理，并返回感兴趣的最终值。</p><p id="2b49" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在肺结节的情况下，webhook采用上述四个结节特征，并执行一系列简单的逻辑语句来识别和返回相关的Fleischner建议。也就是说，它采用了这里描述的基本逻辑:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oa"><img src="../Images/5bc423accbbb89264ff4fe5ee081c1d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5i9mr-soVlfp9gMdBbQ4RA.png"/></div></div></figure><p id="913b" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">变成了这样:</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ob"><img src="../Images/e3e23638368f35d444cf456d55ce4545.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F8tMChqXg1tWE6NDV6xvrw.png"/></div></div></figure><p id="e94f" class="pw-post-body-paragraph kl km iq kn b ko lk kq kr ks ll ku kv kw lm ky kz la ln lc ld le lo lg lh li ij bi translated">在这个webhook处理之后，一个适当的答案被返回给DialogFlow，它将这个答案输入到Google Home，然后，<em class="mg">瞧</em>，你就有了一个智能放射学助理。</p></div><div class="ab cl mp mq hu mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="ij ik il im in"><h1 id="2e35" class="jn jo iq bd jp jq mw js jt ju mx jw jx jy my ka kb kc mz ke kf kg na ki kj kk bi translated">结论</h1><p id="4222" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">希望你觉得这个教程有用！此外，我希望你花些时间思考这个迷人的新平台如何为医生和他们的病人提供价值。如果你有任何问题，请告诉我，如果你想聊天，请随时联系<a class="ae lj" href="https://twitter.com/kevinsealsmd" rel="noopener ugc nofollow" target="_blank"> twitter </a>或<a class="ae lj" href="https://www.linkedin.com/in/kevinsealsmd/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>。感谢阅读！</p></div></div>    
</body>
</html>