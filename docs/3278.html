<html>
<head>
<title>Installing OpenCV on Raspberry Pi 3 B</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在树莓Pi 3 B上安装OpenCV</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/installing-opencv-on-raspberry-pi-3-b-46ab17a9fc5a?source=collection_archive---------6-----------------------#2018-04-27">https://towardsdatascience.com/installing-opencv-on-raspberry-pi-3-b-46ab17a9fc5a?source=collection_archive---------6-----------------------#2018-04-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/1eb8145589755e7c1efc29de9c632cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NGdkKXCPYsmnhdC8mqQGHQ.jpeg"/></div></div></figure><p id="1c12" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我用的是B版本，在亚马逊购买，规格如下:</p><ul class=""><li id="d60f" class="kx ky iq ka b kb kc kf kg kj kz kn la kr lb kv lc ld le lf bi translated">1.2GHz 64位四核ARMv8 CPU，1 GB内存</li><li id="ba7a" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">802.11n无线局域网，10/100Mbps局域网速度</li><li id="70cc" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">蓝牙4.1，蓝牙低能耗</li><li id="b1d6" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">4个USB端口、40个GPIO引脚、全HDMI端口、组合3.5毫米音频插孔和复合视频</li><li id="94eb" class="kx ky iq ka b kb lg kf lh kj li kn lj kr lk kv lc ld le lf bi translated">相机接口(CSI)、显示器接口(DSI)、Micro SD卡插槽(现在是推拉式而不是推推式)、VideoCore IV 3D图形核心</li></ul><p id="8bea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在有一个<a class="ae kw" href="https://amzn.to/2HAhHVt" rel="noopener ugc nofollow" target="_blank">的更新版本</a>(“b+”)，它应该以同样的方式工作，但一些步骤(如编译OpenCV，在我的设备上花了近2个小时)应该更快。</p><p id="2c07" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">此外，正如所料，编译OpenCV使无风扇CPU过热30分钟——所以我不得不在它旁边放置一个强大的风扇，直到我收到一个有适当冷却的案例<a class="ae kw" href="https://amzn.to/2JydYUX" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="014e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第一步:确保你有最新版本的操作系统</p><p id="65df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">当前OS版本为<a class="ae kw" href="https://www.raspberrypi.org/downloads/raspbian/" rel="noopener ugc nofollow" target="_blank">Raspbian Stretch</a>(2018年4月)。您可以从SD进行全新安装(遵循此处<a class="ae kw" href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md" rel="noopener ugc nofollow" target="_blank">列出的说明</a>)，或者升级您现有的版本。</p><p id="f446" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要升级，请在您最喜欢的编辑器中打开(以sudo身份)文件<em class="ll"> /etc/apt/sources.list </em>和<em class="ll">/etc/apt/sources . list . d/raspi . list</em>，并将当前发行版名称(如“jessie”)的所有出现处更改为“stretch”。然后，打开终端并运行更新:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="7dd3" class="lv lw iq lr b gy lx ly l lz ma">sudo apt-get update <br/>sudo apt-get -y dist-upgrade</span></pre><p id="54e7" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">步骤2:配置SSH和实用程序</strong></p><p id="aabf" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">确保SSH已启用<a class="ae kw" href="https://www.raspberrypi.org/documentation/remote-access/ssh/" rel="noopener ugc nofollow" target="_blank"/>。也更改默认密码！</p><p id="f1df" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我在Linux上最喜欢的一些实用程序是<em class="ll"> screen </em>(如果你的终端会话丢失，保持进程运行)和<em class="ll"> htop </em>(性能监控)——这些可能已经预装了:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="e961" class="lv lw iq lr b gy lx ly l lz ma">sudo apt-get install screen <br/>sudo apt-get install htop</span></pre><p id="126c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第三步:放弃Wolfram和Libreoffice，释放1GB+</strong></p><p id="9df2" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的计算机视觉系统不太可能需要这两个软件包，因此:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="8f56" class="lv lw iq lr b gy lx ly l lz ma">sudo apt-get purge wolfram-engine <br/>sudo apt-get purge libreoffice* <br/>sudo apt-get clean sudo apt-get autoremove</span></pre><p id="eeaa" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第四步:安装依赖关系</strong></p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="88a2" class="lv lw iq lr b gy lx ly l lz ma">sudo apt-get install build-essential cmake pkg-config </span><span id="d0ce" class="lv lw iq lr b gy mb ly l lz ma">sudo apt-get install libjpeg-dev libtiff5-dev libjasper-dev libpng12-dev </span><span id="01a2" class="lv lw iq lr b gy mb ly l lz ma">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev </span><span id="959c" class="lv lw iq lr b gy mb ly l lz ma">sudo apt-get install libxvidcore-dev libx264-dev </span><span id="b80d" class="lv lw iq lr b gy mb ly l lz ma">sudo apt-get install libgtk2.0-dev libgtk-3-dev </span><span id="5b36" class="lv lw iq lr b gy mb ly l lz ma">sudo apt-get install libatlas-base-dev gfortran</span></pre><p id="9355" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第五步:安装Python 2.7 &amp; 3 </strong></p><p id="5f79" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">为了在Open CV中启用Python <a class="ae kw" href="https://docs.opencv.org/3.2.0/da/d49/tutorial_py_bindings_basics.html" rel="noopener ugc nofollow" target="_blank">绑定</a>，我们需要这样做:</p><blockquote class="mc md me"><p id="3870" class="jy jz ll ka b kb kc kd ke kf kg kh ki mf kk kl km mg ko kp kq mh ks kt ku kv ij bi translated"><em class="iq">在OpenCV中，所有算法都是用C++实现的。但是这些算法可以在不同的语言中使用，如Python、Java等。这是由绑定生成器实现的。这些生成器在C++和Python之间架起了一座桥梁，使用户能够从Python中调用C++函数。要全面了解后台发生的事情，需要对Python/C API有很好的了解。关于将C++函数扩展到Python的一个简单例子可以在官方Python文档中找到[1]。因此，通过手动编写包装函数将OpenCV中的所有函数扩展到Python是一项耗时的任务。所以OpenCV以一种更智能的方式来做这件事。OpenCV使用位于modules/python/src2 </em>中的一些Python脚本从C++头文件自动生成这些包装函数</p></blockquote><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="6ee0" class="lv lw iq lr b gy lx ly l lz ma">sudo apt-get install python2.7-dev <br/>sudo apt-get install python3-dev</span></pre><p id="1974" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第六步:获取最新的OpenCV源代码</strong></p><p id="b9c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我使用的是OpenCV的3.4.1版本。你可以查看官方网站(或者Github)的<a class="ae kw" href="https://opencv.org/releases.html" rel="noopener ugc nofollow" target="_blank">版本</a>部分，看看当前的版本是什么。如果您想要的版本不同，请相应地更新下面的命令和路径。</p><p id="6203" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下载并解压OpenCV 3.4.1及其实验模块(存储在<a class="ae kw" href="https://github.com/opencv/opencv_contrib" rel="noopener ugc nofollow" target="_blank"> opencv_contrib </a>库):</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="8d1b" class="lv lw iq lr b gy lx ly l lz ma">wget -O opencv.zip <a class="ae kw" href="https://github.com/opencv/opencv/archive/3.4.1.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv/archive/3.4.1.zip</a> wget -O opencv_contrib.zip <a class="ae kw" href="https://github.com/opencv/opencv_contrib/archive/3.4.1.zip" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv_contrib/archive/3.4.1.zip</a> unzip opencv.zip unzip opencv_contrib.zip</span></pre><p id="6284" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第七步:安装pip和virtualenv </strong></p><p id="16a4" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这些是<a class="ae kw" href="https://packaging.python.org/guides/installing-using-pip-and-virtualenv/" rel="noopener ugc nofollow" target="_blank">管理Python包</a>的最底层工具。</p><p id="7f61" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">首先获取pip:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="cadd" class="lv lw iq lr b gy lx ly l lz ma">wget -O get-pip.py <a class="ae kw" href="https://bootstrap.pypa.io/get-pip.py" rel="noopener ugc nofollow" target="_blank">https://bootstrap.pypa.io/get-pip.py</a> <br/>sudo python get-pip.py <br/>sudo python3 get-pip.py</span></pre><p id="792d" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">来源:<a class="ae kw" href="https://pip.pypa.io/en/stable/installing/" rel="noopener ugc nofollow" target="_blank">https://pip.pypa.io/en/stable/installing/</a></p><p id="fcf6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">然后，安装虚拟环境:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="7fba" class="lv lw iq lr b gy lx ly l lz ma">sudo pip install virtualenv virtualenvwrapper</span></pre><p id="1a08" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">修改你的<em class="ll"> ~/。配置文件</em>包括以下行:</p><p id="e2b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ll">导出WORKONHOME=$HOME/。virtualenvs导出VIRTUALENVWRAPPERPYTHON =/usr/bin/python 3</em></p><p id="8f1e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ll">source/usr/local/bin/virtualenvwrapper . sh</em></p><p id="32f1" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这是我的文件的样子:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="76dc" class="lv lw iq lr b gy lx ly l lz ma"># ~/.profile: executed by the command interpreter for login shells. # This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login # exists. <br/># see /usr/share/doc/bash/examples/startup-files for examples. <br/># the files are located in the bash-doc package. </span><span id="021e" class="lv lw iq lr b gy mb ly l lz ma"># the default umask is set in /etc/profile; for setting the umask <br/># for ssh logins, install and configure the libpam-umask package. #umask 022 </span><span id="06bf" class="lv lw iq lr b gy mb ly l lz ma"># if running bash <br/>if [ -n "$BASH_VERSION" ]; then <br/>    # include .bashrc if it exists <br/>    if [ -f "$HOME/.bashrc" ]; then <br/>        . "$HOME/.bashrc" <br/>    fi <br/>fi </span><span id="8ea1" class="lv lw iq lr b gy mb ly l lz ma"># set PATH so it includes user's private bin if it exists <br/>if [ -d "$HOME/bin" ] ; then <br/>     PATH="$HOME/bin:$PATH" <br/>fi </span><span id="d4b5" class="lv lw iq lr b gy mb ly l lz ma"># virtualenv and virtualenvwrapper settings <br/>export WORKON_HOME=$HOME/.virtualenvs export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3 source /usr/local/bin/virtualenvwrapper.sh</span></pre><p id="72c3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">…激活更改:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="2671" class="lv lw iq lr b gy lx ly l lz ma">source ~/.profile</span></pre><p id="1dae" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">第八步:创建一个虚拟环境</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="bf27" class="lv lw iq lr b gy lx ly l lz ma">mkvirtualenv cv -p python3</span></pre><p id="c314" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">…或者，如果您想使用Python 2.7而不是Python 3:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="867e" class="lv lw iq lr b gy lx ly l lz ma">mkvirtualenv cv -p python2</span></pre><p id="0ce6" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">以下是使用virtualenvwarapper的基本命令:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="c15a" class="lv lw iq lr b gy lx ly l lz ma">mkvirtualenv virtualenv_name # create virtualenv workon </span><span id="22a1" class="lv lw iq lr b gy mb ly l lz ma">virtualenv_name # activate/switch to a virtualenv deactivate </span><span id="f89c" class="lv lw iq lr b gy mb ly l lz ma">virtualenv_name # deactivate virtualenv</span></pre><p id="e711" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在我们的例子中，我们可以激活一个名为“cv”的virtualenv:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="4548" class="lv lw iq lr b gy lx ly l lz ma">pi@raspberrypi:~ $ workon cv <br/>(cv) pi@raspberrypi:~ $</span></pre><p id="ed9a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第九步:安装Numpy，Scipy </strong></p><p id="c661" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在您已经进入了虚拟环境(如终端窗口中的“(cv)”前缀所示)，让我们安装一些用于数据分析的附加包— <a class="ae kw" href="http://www.numpy.org//" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> numpy </em> </a>和<a class="ae kw" href="https://www.scipy.org/" rel="noopener ugc nofollow" target="_blank"> <em class="ll"> scipy </em> </a>:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="7931" class="lv lw iq lr b gy lx ly l lz ma">sudo pip install numpy scipy</span></pre><p id="f26a" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><strong class="ka ir">第十步:最后，安装OpenCV </strong></p><p id="fd5c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ll">注意:这将需要很长、很长、很长的时间。在我的设备上花了将近2个小时。此外，如果没有适当的冷却，您的覆盆子酱会过热。</em></p><p id="164c" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">同样，我使用的是OpenCV的3.4.1版本。如果不是，请相应地更新您的路径:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="78b6" class="lv lw iq lr b gy lx ly l lz ma">cd ~/opencv-3.4.1/ mkdir build cd build cmake -D CMAKE_BUILD_TYPE=RELEASE \ -D CMAKE_INSTALL_PREFIX=/usr/local \ -D INSTALL_PYTHON_EXAMPLES=ON \ -D OPENCV_EXTRA_MODULES_PATH=~/opencv_contrib-3.4.1/modules \ -D BUILD_EXAMPLES=ON ..</span></pre><p id="ebdc" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">请确保cmake完成时没有错误。</p><p id="8348" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在，给自己拿杯啤酒，准备最后一步——编译。为了加快速度，暂时增加您的<em class="ll"> /etc/dphys-swapfile </em>中的交换文件大小，将CONF _交换大小从100改为1024:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="31b4" class="lv lw iq lr b gy lx ly l lz ma"># set size to absolute value, leaving empty (default) then uses computed value <br/># you most likely don't want this, unless you have an special disk situation <br/>#CONF_SWAPSIZE=100 <br/>CONF_SWAPSIZE=1024</span></pre><p id="5238" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">要避免重新启动以使这些更改生效，只需重新启动交换服务:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="9de4" class="lv lw iq lr b gy lx ly l lz ma">sudo /etc/init.d/dphys-swapfile restart</span></pre><p id="e560" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">这里有一个关于如何用包编译OpenCV的详细指南:</p><p id="9599" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><a class="ae kw" href="https://github.com/opencv/opencv_contrib" rel="noopener ugc nofollow" target="_blank">https://github.com/opencv/opencv_contrib</a></p><p id="57cd" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我所做的(使用所有4个CPU内核):</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="d8ab" class="lv lw iq lr b gy lx ly l lz ma">make -j4</span></pre><p id="7687" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">OpenCV编译成功后，继续安装:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="ccfc" class="lv lw iq lr b gy lx ly l lz ma">sudo make install <br/>sudo ldconfig <br/>sudo apt-get update</span></pre><p id="1c46" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">…然后重新启动系统，您就可以开始了！</p><p id="97b3" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">还有一件事:</p><p id="8c29" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">测试安装:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="4dbf" class="lv lw iq lr b gy lx ly l lz ma">$ python3 <br/>Python 3.5.3 (default, Jan 19 2017, 14:11:04) [GCC 6.3.0 20170124] on linux Type "help", "copyright", "credits" or "license" for more information. <br/>&gt;&gt;&gt; import cv2 <br/>&gt;&gt;&gt; cv2.__version__ '3.4.1' <br/>&gt;&gt;&gt;</span></pre><p id="4dea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">如果出现错误(ImportError:没有名为“cv2”的模块)，则库的命名可能不正确:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="9187" class="lv lw iq lr b gy lx ly l lz ma">(cv) pi@raspberrypi:$ ls -l /usr/local/lib/python3.5/site-packages/ </span><span id="7127" class="lv lw iq lr b gy mb ly l lz ma">total 4500 -rw-r--r-- 1 root staff 4604912 Apr 27 14:41 cv2.cpython-35m-arm-linux-gnueabihf.so</span></pre><p id="66f8" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">通过将库文件重命名为“cv2.so”来修复它:</p><pre class="lm ln lo lp gt lq lr ls lt aw lu bi"><span id="a837" class="lv lw iq lr b gy lx ly l lz ma">cd /usr/local/lib/python3.5/site-packages/ </span><span id="5dd6" class="lv lw iq lr b gy mb ly l lz ma">sudo mv cv2.cpython-35m-arm-linux-gnueabihf.so cv2.so</span></pre></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><p id="7e50" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated"><em class="ll">原载于2018年4月27日</em><a class="ae kw" href="https://www.alatortsev.com/2018/04/27/installing-opencv-on-raspberry-pi-3-b/" rel="noopener ugc nofollow" target="_blank"><em class="ll">www.alatortsev.com</em></a><em class="ll">。</em></p></div></div>    
</body>
</html>