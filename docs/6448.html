<html>
<head>
<title>Application of Hypothesis Testing and Spearman’s rank correlation coefficient to demystify Suicides worldwide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用假设检验和 Spearman 等级相关系数揭示世界范围内的自杀现象</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/application-of-hypothesis-testing-and-spearmans-rank-correlation-coefficient-to-demystify-b3a554730c91?source=collection_archive---------8-----------------------#2018-12-14">https://towardsdatascience.com/application-of-hypothesis-testing-and-spearmans-rank-correlation-coefficient-to-demystify-b3a554730c91?source=collection_archive---------8-----------------------#2018-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f33f76a96a55c5d8fbe280133e91de81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OxoAvYwpzBNEmw5t-bAKnw.png"/></div></div></figure><h1 id="d88b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">介绍</h1><p id="55c8" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">背景:</em> </strong>据世界卫生组织(世卫组织)统计，全球每年约有一百万人自杀，每年死亡率为 11.6/10 万人。每年有如此多的人自杀，这是一个令人震惊的事实。你可以想象每 40 秒就有一个人自杀，据估计，到 2020 年，每 20 秒就有一个人死于自杀。<br/>我们可以使用数据分析来研究全球自杀数据，并使用统计技术量化我们的结果。这将有助于我们了解世界各地发生的自杀事件。</p><p id="0231" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">本研究的目的</em> </strong> : <br/>展示统计方法在现实世界问题中的应用，以发现我们在对数据集进行初步分析后所做的假设是否具有统计学意义。</p><p id="dc3c" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">在这里，我们将解释和应用两个众所周知的统计技术。假设检验<br/> 2。斯皮尔曼等级相关系数</p><p id="5306" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">这些统计实验的结果将为我们分析一组数据后所做的假设提供具体的证明。</p><h1 id="660e" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是假设检验？</h1><blockquote class="ma mb mc"><p id="8fda" class="kw kx lu ky b kz lv lb lc ld lw lf lg md lx lj lk me ly ln lo mf lz lr ls lt ij bi translated">《牛津词典》将假设的含义定义为“在有限证据的基础上做出的假设或提出的解释，作为进一步研究的起点”</p></blockquote><p id="6e63" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">假设检验，也称为<strong class="ky ir">验证性数据分析</strong>是一种通过统计证据来确定我们假设的假设是真还是假的技术。<br/>例如，我们可以获取两家不同公司生产的相同/相似产品的价格数据集，并想知道一家公司的产品是否比另一家贵。<br/>我们的目的可以通过假设检验来实现。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mg"><img src="../Images/4ca5f7dd2018cc14b2c961dcfb81e22f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kLw9LS-6v279gxzkNjUBmg.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Flowchart for Hypothesis Testing</figcaption></figure><p id="3342" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">零假设</em> </strong>是我们在测试开始时做出的默认假设。就像，两组数据之间没有显著差异。<strong class="ky ir"> <em class="lu">交替假设</em> </strong>是这种假设的对立面。</p><p id="aa00" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">检验统计量</em> </strong>是两组数据之间的均值、中值、标准差等的差异，这是我们从两组数据中抽取样本并计算检验统计量后<strong class="ky ir"/>实际观察到的。</p><p id="9157" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">决定<strong class="ky ir"> <em class="lu">样本大小</em> </strong>是一个非常重要的因素，因为测试统计值会根据样本大小而不同。样本量越大，结果就越准确。</p><p id="3256" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">显著性水平或阿尔法</em> </strong>是概率的阈值，我们根据它来决定是接受还是拒绝我们的零假设。默认情况下，取 5%或 0.05。如果需要非常高的精确度，您可以降低它。</p><p id="ca19" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu"> P 值</em> </strong>是通过<strong class="ky ir">重采样和排列测试<br/>计算出来的，下面的插图会让事情更清楚</strong></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mp"><img src="../Images/6ffe4c24a794606b7cf88649b5b32175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qmZzYv95Fct0Ox1HdJDs6w.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Re-Sampling illustration 1</figcaption></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mq"><img src="../Images/a84fa7870707adadc9e33540c50df9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*37JXylRjrnoBa_499LYJ5A.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Re-Sampling illustration 2</figcaption></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mr"><img src="../Images/d23cb1f8e07c9c13021efe27182b759f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1312/format:webp/1*GKN7QDWlK5XhmH648OfGmQ.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Re-Sampling illustration 3</figcaption></figure><p id="9947" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">下一步是对我们从 K 次重采样中得到的均值差的数据列表进行升序排序。k 可以是 100，1000 或任何我们认为合适的数字。</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/61c8f54f45666099b30e2e9b4f5b8aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjOyRfeB2yT9TG1GJTBGOw.jpeg"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Calculation of P-Value</figcaption></figure><p id="ee1d" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">所以，p 值是我们测试统计的百分位数(delta)，小于 100%。如果 delta 位于第 90 百分位，则 p 值为 10%或 0.10。</p><p id="51fb" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">做出最终决定</strong></p><p id="1d87" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们说，p 值是假设我们的零假设为真，观察到δ的概率。</p><p id="a08b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">因此，如果我们的假设实际上是真的，观察到我们在进行实验时实际观察到的结果的概率(delta)将会很高。“高”的意思不仅仅是显著性水平。</p><p id="349b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">如果 p 值低于显著性水平，这意味着在零假设为真的情况下，我们实际观察的发生概率较低。</p><p id="4aed" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">由此，我们可以说:<br/><strong class="ky ir"><em class="lu">——当 p 值≥显著性水平时接受零假设。<br/> -如果 p 值&lt;显著性水平，拒绝零假设并接受替代假设。</em> </strong></p><h1 id="0f0a" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">自杀率数据集</h1><p id="98a9" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">数据集来源:<a class="ae mt" href="https://www.kaggle.com/russellyates88/suicide-rates-overview-1985-to-2016" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/russellyates 88/自杀率-概览-1985 年至 2016 年</a></p><div class="mu mv gp gr mw mx"><a href="https://www.kaggle.com/russellyates88/suicide-rates-overview-1985-to-2016" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">1985 年至 2016 年自杀率概览</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">按年份和国家将社会经济信息与自杀率进行比较</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.kaggle.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jw mx"/></div></div></a></div><p id="616d" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">在这项研究中，我使用了 python 库:Numpy、Pandas、Matplotlib、Seaborn 和 scikit-learn。让我向您展示我是如何对这个数据集进行探索性数据分析和假设检验的。</p><h2 id="3b4b" class="nm jz iq bd ka nn no dn ke np nq dp ki lh nr ns km ll nt nu kq lp nv nw ku nx bi translated">正在加载。csv 文件转换成熊猫数据帧</h2><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="8d11" class="nm jz iq nz b gy od oe l of og">#Importing python libraries <br/>import numpy as np<br/>import pandas as pd<br/>import seaborn as sb<br/>import matplotlib.pyplot as mp<br/>#Loading csv file into pandas dataframe<br/>SuicideData= pd.read_csv('master.csv')<br/>SuicideData.head()</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/6492a1a23300f4027263245107596848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*INL54U3WeEFBV-eLbwkGvg.png"/></div></div></figure><h2 id="d83a" class="nm jz iq bd ka nn no dn ke np nq dp ki lh nr ns km ll nt nu kq lp nv nw ku nx bi translated">数据集的初步分析</h2><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="e48f" class="nm jz iq nz b gy od oe l of og">print(SuicideData.shape)<br/>print(SuicideData.columns)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/89ca565be51d3124cf9e13b9eec8ccec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*zi_IFtBzNz6howEj3gFGUg.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">There are 27820 Data points(Rows) and 12 Columns. Also showing column names for future reference</figcaption></figure><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="2e3f" class="nm jz iq nz b gy od oe l of og">print(SuicideData.age.value_counts())</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/f52f05b30079d905c2d886163459dedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/format:webp/1*gVrmx9pgvjQh3Y999gDv3A.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">The data set has 6 age groups</figcaption></figure><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="d367" class="nm jz iq nz b gy od oe l of og">SuicideData['suicides/100k pop'].mean()</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/978fcbc48a479467a196ce9ffede13db.png" data-original-src="https://miro.medium.com/v2/resize:fit:306/format:webp/1*TNxnfCV4oK3HkHlu7Hpb2Q.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Mean Suicide rate/100k persons on the whole population</figcaption></figure><p id="e2d2" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">上述结果并不准确，但非常接近世卫组织公布的数字 11.6。这可能是因为我们的数据样本较少。<br/>我们进一步挖掘数据，根据性别和年龄组进行分析。下面是代码片段和结果:</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="cad3" class="nm jz iq nz b gy od oe l of og">#DIVIDING BY GENDER<br/>M=SuicideData[SuicideData.sex=='male']<br/>F=SuicideData[SuicideData.sex=='female']</span><span id="c14e" class="nm jz iq nz b gy ol oe l of og">print('TOTAL MALE POPULATION = ',M.population.sum())<br/>print('TOTAL MALE SUICIDES = ',M.suicides_no.sum())<br/>print('AVERAGE MALE SUICIDES per 100k Population = ',M['suicides/100k pop'].mean())<br/>print('TOTAL FEMALE POPULATION = ',F.population.sum())<br/>print('TOTAL FEMALE SUICIDES = ',F.suicides_no.sum())<br/>print('AVERAGE FEMALE SUICIDES per 100k Population = ',F['suicides/100k pop'].mean())</span><span id="45d1" class="nm jz iq nz b gy ol oe l of og">print('\nAVERAGE SUICIDE RATES BY AGE GROUP')<br/>print(SuicideData.groupby(['age'])['suicides/100k pop'].mean())</span><span id="5cb9" class="nm jz iq nz b gy ol oe l of og">print('\nAVERAGE SUICIDE RATES OF MALES BY AGE GROUP')<br/>print(M.groupby(['age'])['suicides/100k pop'].mean())</span><span id="bda0" class="nm jz iq nz b gy ol oe l of og">print('\nAVERAGE SUICIDE RATES OF FEMALES BY AGE GROUP')<br/>print(F.groupby(['age'])['suicides/100k pop'].mean())</span><span id="07b6" class="nm jz iq nz b gy ol oe l of og">print("\nSUICIDE RATE RATIO of FEMALE:MALE = 1 :",(M['suicides/100k pop'].mean()) / (F['suicides/100k pop'].mean()))</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi om"><img src="../Images/32970388c20f96f1ba88b96f67f8c3a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/1*gWpK04iwEnZ7cnGOTYzMng.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi on"><img src="../Images/5b641759b1eb70c481626be13428d065.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*xOFNKZQRzb2on9xyzh6kQQ.png"/></div></figure><h2 id="7a89" class="nm jz iq bd ka nn no dn ke np nq dp ki lh nr ns km ll nt nu kq lp nv nw ku nx bi translated">箱线图——男性与女性的自杀率</h2><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="3c86" class="nm jz iq nz b gy od oe l of og">sb.boxplot(x='sex',y='suicides/100k pop', data=SuicideData)<br/>mp.show()</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/26a0a73de31b109b35127b2393e052e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*OwpIceRkmnwQOsMylEaC0g.png"/></div></figure><h2 id="5aa7" class="nm jz iq bd ka nn no dn ke np nq dp ki lh nr ns km ll nt nu kq lp nv nw ku nx bi translated">小提琴情节——男性与女性自杀率对比</h2><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="74d7" class="nm jz iq nz b gy od oe l of og">sb.violinplot(x='sex',y='suicides/100k pop', data=SuicideData)<br/>mp.show()</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi op"><img src="../Images/781098a7873297a7c8c659bb0420288f.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*D0VKWIRWhCfRoxtQYkf49w.png"/></div></figure><h1 id="7b42" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">根据年龄组显示自杀率——箱线图</h1><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="283b" class="nm jz iq nz b gy od oe l of og">sb.boxplot(x='age',y='suicides/100k pop', data=SuicideData)<br/>mp.show()</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/945dca0e827564fb4428b8ba05ab7e04.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/format:webp/1*oJpYJB_RI1kE9G3VJ-zvkw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">75+ years age group is most Suicidal</figcaption></figure><h2 id="e235" class="nm jz iq bd ka nn no dn ke np nq dp ki lh nr ns km ll nt nu kq lp nv nw ku nx bi translated">初步分析的观察结果</h2><ol class=""><li id="ed5a" class="or os iq ky b kz la ld le lh ot ll ou lp ov lt ow ox oy oz bi translated">男性自杀人数和自杀率都远高于女性。女性:男性= 1 : 3.75</li><li id="65e7" class="or os iq ky b kz pa ld pb lh pc ll pd lp pe lt ow ox oy oz bi translated">即使我们按照年龄组来研究他们，结果也是一样的。</li><li id="7299" class="or os iq ky b kz pa ld pb lh pc ll pd lp pe lt ow ox oy oz bi translated">一个惊人的事实是，75 岁以上年龄组的人自杀倾向最强，无论性别如何。</li><li id="0366" class="or os iq ky b kz pa ld pb lh pc ll pd lp pe lt ow ox oy oz bi translated">5-14 岁年龄组自杀倾向最小，这很正常。</li></ol><h1 id="405b" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">问题:哪个国家的自杀倾向最强？</h1><p id="92a3" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们将找到答案，并使用假设检验对其进行量化。按国家分组后，计算自杀率的平均值和中位数，并对结果进行排序。这将使我们成为自杀率最高的国家。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="8435" class="nm jz iq nz b gy od oe l of og">suicide_mean_by_country=pd.DataFrame(SuicideData.groupby(['country'])['suicides/100k pop'].mean())<br/>suicide_mean_by_country = suicide_mean_by_country.sort_values(by='suicides/100k pop', ascending=False)<br/>suicide_mean_by_country</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/9506b2de25ec53ec1369b4673a7e5e59.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*SfPe3y6swPX1CKRtvDJVFw.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Ranking by Mean Suicide Rates</figcaption></figure><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="9f5f" class="nm jz iq nz b gy od oe l of og">suicide_median_by_country=pd.DataFrame(SuicideData.groupby(['country'])['suicides/100k pop'].quantile(0.5))<br/>suicide_median_by_country = suicide_median_by_country.sort_values(by='suicides/100k pop', ascending=False)<br/>suicide_median_by_country</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/972f5398d0794ccc9617440ea4da1845.png" data-original-src="https://miro.medium.com/v2/resize:fit:540/format:webp/1*VJRiKY8YXvth2XUELGmHBQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Ranking by Median Suicide Rates</figcaption></figure><p id="e0a8" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们观察到，除了斯里兰卡和日本之外，十大自杀国家中几乎 90%来自欧洲和俄罗斯。我们可以宣布立陶宛是自杀率最高的国家，但在做出决定之前，最好用一些统计数据来量化结果。</p><h1 id="05f0" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">应用假设检验找出世界上自杀率最高的国家</h1><p id="3177" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们进行假设检验，因为当按平均值排名时，立陶宛以高得多的值排名第一，但当按中位数排名时，斯里兰卡以非常小的差距在立陶宛之上。</p><p id="9517" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">如果假设检验证明立陶宛和斯里兰卡的自杀率没有显著差异，我们肯定可以认为立陶宛是世界上自杀率最高的国家(基于 1985-2016 年的数据)。</p><p id="36a0" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">无效假设</em> </strong> —立陶宛和斯里兰卡的自杀率没有显著差异。<br/> <strong class="ky ir"> <em class="lu">交替假设— </em> </strong>立陶宛和斯里兰卡的自杀率存在显著差异。</p><p id="c37b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">检验统计</em> </strong> —立陶宛和斯里兰卡自杀率中位数的差异<strong class="ky ir"> <em class="lu">。</em> </strong></p><p id="43b0" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们从每个国家的<strong class="ky ir"> 100 个</strong>中选取<strong class="ky ir"> <em class="lu">样本量</em> </strong>，并设定<strong class="ky ir"> <em class="lu">显著性水平为 5% (0.05)。</em> </strong></p><p id="2107" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在我们进行实验。首先我们按国家划分数据。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="046c" class="nm jz iq nz b gy od oe l of og">lithuania=SuicideData[SuicideData.country=='Lithuania']<br/>srilanka=SuicideData[SuicideData.country=='Sri Lanka']</span></pre><p id="dbd1" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">然后我们从立陶宛和斯里兰卡各随机抽取 100 个数据点。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="2f51" class="nm jz iq nz b gy od oe l of og">sample_lithuania=lithuania.sample(100)<br/>sample_srilanka=srilanka.sample(100)</span></pre><p id="36c4" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在，我们只从样本数据的 pandas 数据帧中取出自杀率列，并将其转换为 numpy 数组，以便于计算。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="2fec" class="nm jz iq nz b gy od oe l of og">S1=np.array(sample_lithuania['suicides/100k pop'])<br/>print(S1)<br/>median1=np.median(S1)<br/>print('MEDIAN1=',median1)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/a42695a4b86efd0e3134dca223335389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*BrbL5olHzjy7qmux99AbPA.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Numpy array of Lithuania sample suicide rates</figcaption></figure><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="8711" class="nm jz iq nz b gy od oe l of og">S2=np.array(sample_srilanka['suicides/100k pop'])<br/>print(S2)<br/>median2=np.median(S2)<br/>print('MEDIAN2=',median2)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/7e832469ef028bd61d527370a41f56d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*jY8xvX5SXJESoCU7k7yRHQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Numpy array of Sri-Lanka sample suicide rates</figcaption></figure><p id="1d04" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们可以看到，即使是两国样本的自杀率中位数也非常接近。因此，我们现在计算我们的测试统计值如下</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="698d" class="nm jz iq nz b gy od oe l of og">TS= median1-median2<br/>print("Test Statistic is (Median of Lithuania - Median of Sri Lanka)=", TS)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/874fdbca4dce6d70e706a2b6bc14baba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*LDB5IK0SMPT376oPFhclIw.png"/></div></figure><p id="da8b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">如前所述，下一步是将两组样本数据连接成一组，并对它们进行混排，这样两组数据的观察值就能正确地混合成一组数据。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="347f" class="nm jz iq nz b gy od oe l of og">S= np.concatenate((S1,S2), axis=None)<br/>np.random.shuffle(S)<br/>print(S)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/73d3316d30b211524a0fe56126185f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1118/format:webp/1*Dk7qrFcY65uczVa9C9LuHQ.png"/></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">200 mixed observations from both countries</figcaption></figure><p id="8809" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们通过取 100 个点的两个样本集来执行 1000 次重采样，并且每次计算它们的中位数的差。中值差列表存储在另一个 numpy 数组中。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="55dd" class="nm jz iq nz b gy od oe l of og">#Randomly sample 100-100 data points and calculate the difference of medians<br/>medianlist=np.zeros(1000)<br/>for i in range(1000):<br/>    _s1= np.random.choice(S,100)<br/>    _s2= np.setdiff1d(S, _s1)<br/>    _median1= np.median(_s1)<br/>    _median2= np.median(_s2)<br/>    medianlist[i]= np.array(_median1 - _median2)</span></pre><p id="f5c2" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">最后一步，对 medianlist 进行升序排序，计算 p 值，得出最终结论。代码片段和结果如下:</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="53e6" class="nm jz iq nz b gy od oe l of og">medianlist=np.sort(medianlist)</span><span id="09ae" class="nm jz iq nz b gy ol oe l of og">#calculation of p-value<br/>ct=0<br/>for i in medianlist:<br/>    if i &lt; TS:<br/>        ct+=1<br/>pvalue= (1000-ct) / 1000</span><span id="61d8" class="nm jz iq nz b gy ol oe l of og">medianlist=pd.DataFrame(medianlist, columns=['mediandiff'])<br/>pv95=medianlist.mediandiff[949]<br/>print('VALUE in 95th Percentile position=', pv95)<br/>print('TEST STATISTIC =',TS)<br/>print('P-VALUE OF TS =', pvalue)</span><span id="c52e" class="nm jz iq nz b gy ol oe l of og">if pvalue&gt;0.05:<br/>    print('OBSERVATION VALUE IS LOWER THAN THE 95th Percentile.\nTHUS probability of OCCURENCE OF OUR OBSERVATION GIVEN NULL HYPOTHESIS IS High, AS P-VALUE OF {} IS HIGHER THAN THE SIGNIFICANCE LEVEL OF 0.05'.format(pvalue))<br/>    print('SO WE ACCEPT THE NULL HYPOTHESIS AS TRUE : LITHUANIA AND SRI LANKA HAVE NO SIGNIFICANT DIFFERENCE IN SUICIDE RATES')<br/>else:<br/>    print('OBSERVATION VALUE IS HIGHER THAN THE 95th Percentile.\nTHUS probability of OCCURENCE OF OUR OBSERVATION GIVEN NULL HYPOTHESIS IS Extremely Low, AS P-VALUE OF {} IS LOWER THAN THE SIGNIFICANCE LEVEL OF 0.05'.format(pvalue))<br/>    print('SO WE REJECT THE NULL HYPOTHESIS AND ACCEPT THE ALTERNATE HYPOTHESIS : LITHUANIA AND SRI LANKA HAVE A SIGNIFICANT DIFFERENCE IN SUICIDE RATES')<br/>    if TS &gt; 0:<br/>        print('FROM THE SIGN OF TS WE KNOW LITHUANIA HAS A HIGHER SUICIDE RATE')<br/>    else:<br/>        print('FROM THE SIGN OF TS WE KNOW SRI LANKA HAS A HIGHER SUICIDE RATE')</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pl"><img src="../Images/ce4d83ec245b2944a0fda51352b3f6e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D2MuWfmnbr59xgNIGQkHPg.png"/></div></div></figure><p id="86e0" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">p 值为 0.511 意味着，鉴于立陶宛和斯里兰卡的自杀率之间没有显著差异，我们的样本观察结果出现的概率接近 50%，远高于 5%的显著性水平。因此，我们接受我们的零假设为真。</p><p id="3f2f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">所以我们可以说立陶宛是世界上自杀率最高的国家</em> </strong>因为立陶宛和第二高的国家——斯里兰卡的平均自杀率差异很大，但中位数差异并不显著。因此，我们通过我们的判断基于平均差异。</p><p id="b536" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">现在你可能会怀疑假设检验的结果，所以我将展示如果我们对立陶宛和日本进行同样的检验会发生什么。</strong></p><h1 id="2040" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">假设检验:立陶宛和日本哪个国家更有自杀倾向？</h1><p id="385e" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">我们知道日本的自杀率比立陶宛低得多，根据中位数排名，日本排在第八位。因此，如果我们的假设检验给出了相同的结果，那么我们可以相信这种检验方法。</p><p id="fc15" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">零假设</em> </strong> —立陶宛和日本的自杀率没有显著差异。<br/> <strong class="ky ir"> <em class="lu">替代假设— </em> </strong>立陶宛和日本的自杀率存在显著差异。</p><p id="e9e1" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu">检验统计</em> </strong> —立陶宛和日本自杀率中位数的差异<strong class="ky ir"> <em class="lu">。</em> </strong></p><p id="b0f8" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们从每个国家的<strong class="ky ir"> 100 个</strong>中取<strong class="ky ir"> <em class="lu">样本量</em> </strong>，并设定<strong class="ky ir"> <em class="lu">显著性水平为 5% (0.05)。</em> </strong></p><p id="fec4" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">为日本执行采样:</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="89f1" class="nm jz iq nz b gy od oe l of og">sample_japan=japan.sample(100)</span><span id="acd1" class="nm jz iq nz b gy ol oe l of og">S3=np.array(sample_japan['suicides/100k pop'])<br/>print(S3)<br/>median3=np.median(S3)</span></pre><p id="85c8" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">计算测试统计值</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="948f" class="nm jz iq nz b gy od oe l of og">TS2=median1-median3<br/>print("Test Statistic is (Median of Lithuania - Median of Japan)=", TS2)</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/6b7fc5a222e886d028087aa71256a916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*jbIJTLBWx_urR1uPiOPLjA.png"/></div></figure><p id="f5ac" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">连接和洗牌:</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="9148" class="nm jz iq nz b gy od oe l of og">SS= np.concatenate((S1,S3), axis=None)<br/>np.random.shuffle(SS)<br/>print(SS)</span></pre><p id="230a" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">随机抽取 100–100 个数据点，计算中位数的差值</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="a661" class="nm jz iq nz b gy od oe l of og">medianlist2=np.zeros(1000)<br/>for i in range(1000):<br/>    _s1= np.random.choice(SS,100)<br/>    _s3= np.setdiff1d(SS, _s1)<br/>    #print(_s1)<br/>    #print(_s3)<br/>    _median1= np.median(_s1)<br/>    _median3= np.median(_s3)<br/>    medianlist2[i]= np.array(_median1 - _median3)</span></pre><p id="8c36" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">对中值列表排序后的最终计算和结果</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="a2e9" class="nm jz iq nz b gy od oe l of og">medianlist2=np.sort(medianlist2)</span><span id="6670" class="nm jz iq nz b gy ol oe l of og">#calculation of p-value<br/>ct2=0<br/>for i in medianlist2:<br/>    if i &lt; TS2:<br/>        ct2+=1<br/>pvalue2= (1000-ct2) / 1000</span><span id="3daf" class="nm jz iq nz b gy ol oe l of og">medianlist2=pd.DataFrame(medianlist2, columns=['mediandiff'])<br/>pv95_2=medianlist2.mediandiff[949]<br/>print('VALUE in 95th Percentile position=', pv95_2)<br/>print('TEST STATISTIC =',TS2)<br/>print('P-VALUE OF TS =', pvalue2)<br/>if pvalue2&gt;0.05:<br/>    print('OBSERVATION VALUE IS LOWER THAN THE 95th Percentile.\nTHUS probability of OCCURENCE OF OUR OBSERVATION GIVEN NULL HYPOTHESIS IS High, AS P-VALUE OF {} IS HIGHER THAN THE SIGNIFICANCE LEVEL OF 0.05'.format(pvalue2))<br/>    print('SO WE ACCEPT THE NULL HYPOTHESIS AS TRUE : LITHUANIA AND JAPAN HAVE NO SIGNIFICANT DIFFERENCE IN SUICIDE RATES')<br/>else:<br/>    print('OBSERVATION VALUE IS HIGHER THAN THE 95th Percentile.\nTHUS probability of OCCURENCE OF OUR OBSERVATION GIVEN NULL HYPOTHESIS IS Extremely Low, AS P-VALUE OF {} IS LOWER THAN THE SIGNIFICANCE LEVEL OF 0.05'.format(pvalue2))<br/>    print('SO WE REJECT THE NULL HYPOTHESIS AND ACCEPT THE ALTERNATE HYPOTHESIS : LITHUANIA AND JAPAN HAVE A SIGNIFICANT DIFFERENCE IN SUICIDE RATES')<br/>    if TS2 &gt; 0:<br/>        print('FROM THE SIGN OF TS WE KNOW LITHUANIA HAS A HIGHER SUICIDE RATE')<br/>    else:<br/>        print('FROM THE SIGN OF TS WE KNOW JAPAN HAS A HIGHER SUICIDE RATE')</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pn"><img src="../Images/2c035d6f583605a4c73bf0c25972f791.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lmwOQ4uKV_16Aud1C23isQ.png"/></div></div></figure><p id="f0a3" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们的假设检验证明，立陶宛的自杀率高于日本，因为 p 值极低，约为 1%。</p><p id="0351" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir">总结一下</strong></p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi po"><img src="../Images/4225c16e49b768f4d4025b6a036ce72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h01cCAjT3MQldgSKct-nxQ.png"/></div></div><figcaption class="ml mm gj gh gi mn mo bd b be z dk">Summary Report</figcaption></figure><p id="82fd" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">因此，我们可以得出结论，假设检验是一种很好的方法，可以通过统计证明来检验一个假设的可能性。 </p><h1 id="ffdc" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">问题:自杀率是否依赖于人均 GDP？</h1><p id="a9f6" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">人们可能会想，当一个地方的经济条件恶化时，自杀的人会更多，而当经济条件或收入较好时，自杀的人会更少。我们可以从我们的自杀数据集中找出这种情况是否真的发生，并用另一个测试参数(称为 Spearman 等级相关系数)对其进行量化。</p><h1 id="e09c" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是斯皮尔曼秩相关系数？</h1><p id="9a62" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">这是一种测试，用来确定一个随机变量的值是否稳定地增加或减少，而另一个随机变量的值是否有相同的变化。称之为<strong class="ky ir">单调地</strong>递增或递减。如果一个增加而另一个增加，则结果为正(+)，如果一个减少而另一个增加，则结果为负(-)。结果介于-1 和+1 之间。</p><p id="cb7e" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">假设有两组随机变量 X 和 Y，首先对它们进行排序。这种相关性是基于他们的排名，而不是他们的价值观。这就是为什么这项技术受<strong class="ky ir">异常值</strong>的影响最小。</p><h1 id="d126" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">应用 Spearman 等级相关系数回答我们的问题</h1><p id="332f" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">在我们的案例中，我们可以测试人均 GDP 的变化是否会带来自杀率的变化。</p><p id="18b3" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">让我们绘制一个图表并可视化数据，其中 X 轴是人均 GDP<strong class="ky ir"><em class="lu"/></strong>的增长，Y 轴是每 10 万人口的自杀人数<strong class="ky ir"><em class="lu"/></strong>。它也根据<strong class="ky ir"> <em class="lu">年龄组</em> </strong>进行颜色编码</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="4eb9" class="nm jz iq nz b gy od oe l of og">sb.set_style("whitegrid");<br/>sb.FacetGrid(SuicideData, hue="age", height=7) \<br/>   .map(mp.scatter, "gdp_per_capita ($)", "suicides/100k pop") \<br/>   .add_legend();<br/>mp.show();</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/929e676f5c00139fb356c4c01c89bb96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*pENtCUeKWPjRKwiqGfgInA.png"/></div></figure><p id="0585" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们可以看到，人均国内生产总值较高的点较少，但数据点分散，似乎没有很好的相关性。因此，最好将数据分成不同的年龄组，对它们进行绘图，并找到它们各自的 Spearman 等级相关系数值。我已经使用了<strong class="ky ir"><em class="lu">scipy . stats</em></strong>python 库来计算我们的结果。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="b77a" class="nm jz iq nz b gy od oe l of og">#DIVIDING BY AGE GROUP</span><span id="cd8a" class="nm jz iq nz b gy ol oe l of og">A5_14=SuicideData[SuicideData.age=='5-14 years']<br/>A15_24=SuicideData[SuicideData.age=='15-24 years']<br/>A25_34=SuicideData[SuicideData.age=='25-34 years']<br/>A35_54=SuicideData[SuicideData.age=='35-54 years']<br/>A55_74=SuicideData[SuicideData.age=='55-74 years']<br/>A75P=SuicideData[SuicideData.age=='75+ years']</span></pre><p id="eb54" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">图形的代码片段</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="7536" class="nm jz iq nz b gy od oe l of og">sb.set_style("whitegrid");<br/>sb.FacetGrid(A5_14, hue='sex', height=5) \<br/>   .map(mp.scatter, "gdp_per_capita ($)", "suicides/100k pop") \<br/>   .add_legend();<br/>mp.title('AGE GROUP 5-14')<br/>mp.show();</span></pre><p id="301b" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">类似的代码可以用于每个年龄组</p><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pq"><img src="../Images/3f16e02dac9240d4b92e4febf101e871.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cUvSWFsaOFmc94VAX7PJRQ.jpeg"/></div></div></figure><p id="3a03" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">即使对于单个年龄组来说，这些特性也是相似的。现在我们计算系数值。</p><pre class="mh mi mj mk gt ny nz oa ob aw oc bi"><span id="d7ec" class="nm jz iq nz b gy od oe l of og">#Spearman's rank correlation coefficient<br/>#IF THERE IS A CORRELATION BETWEEN GDP PER CAPITA &amp; SUICIDE RATES<br/>#FOR ALL THE AGE GROUPS</span><span id="120b" class="nm jz iq nz b gy ol oe l of og">sp.spearmanr(A5_14['gdp_per_capita ($)'],A5_14['suicides/100k pop'] )<br/>sp.spearmanr(A15_24['gdp_per_capita ($)'],A15_24['suicides/100k pop'] )<br/>sp.spearmanr(A25_34['gdp_per_capita ($)'],A25_34['suicides/100k pop'] )<br/>sp.spearmanr(A35_54['gdp_per_capita ($)'],A35_54['suicides/100k pop'] )<br/>sp.spearmanr(A55_74['gdp_per_capita ($)'],A55_74['suicides/100k pop'] )<br/>sp.spearmanr(A75P['gdp_per_capita ($)'],A75P['suicides/100k pop'] )</span></pre><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/6685e35594029bf85ca71c4caf75babd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*SOLIcOF2RNKdiB6sD_UStA.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/aa80e9b1bf3c57845e63452ebb11a742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*brswdGoywu3telutgiQ9pg.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/f98cbbde0793781288df15ef597afc93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*pZSwMI0JjInzvz3knyKgYA.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/517caced23888dca624b9f39f1b89a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*KBF4VVbcCZhuuxeJFUSr_Q.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/f6c2ebf34161b93b8242e7ce33ccc4ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*Cday9z1O46ew9E6wHMAxJg.png"/></div></figure><figure class="mh mi mj mk gt jr gh gi paragraph-image"><div class="gh gi pv"><img src="../Images/80ac16c2823f2509a7968d36d9f0890f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*dD_6pv1qeRcvYrop2e-FSQ.png"/></div></figure><p id="4c6a" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">我们观察到相关值非常接近于零。这表明人均 GDP 和自杀率之间没有相关性。</p><h1 id="a4c8" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">结论</h1><p id="f113" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">你已经看到统计方法对于证实我们根据观察到的数据所做的任何假设是多么重要。有时我们观察到的一些东西可能实际上并不真实，这就是这些方法帮助我们证明我们的理论具有统计学意义的地方。</p><p id="e7db" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated"><strong class="ky ir"> <em class="lu"> Github 代码链接</em> </strong></p><div class="mu mv gp gr mw mx"><a href="https://github.com/souravkajuri/suiciderate" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd ir gy z fp nc fr fs nd fu fw ip bi translated">souravkajuri/自杀率</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">在 GitHub 上创建一个帐户，为 souravkajuri/suiciderate 开发做贡献。</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">github.com</p></div></div><div class="ng l"><div class="pw l ni nj nk ng nl jw mx"/></div></div></a></div></div></div>    
</body>
</html>