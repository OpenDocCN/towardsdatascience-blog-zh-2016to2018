<html>
<head>
<title>Version Control for Jupyter Notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jupyter 笔记本的版本控制</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/version-control-for-jupyter-notebook-3e6cef13392d?source=collection_archive---------1-----------------------#2017-08-24">https://towardsdatascience.com/version-control-for-jupyter-notebook-3e6cef13392d?source=collection_archive---------1-----------------------#2017-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52e23d1cc644d0fd4f498672a5939f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmJMYndo2JXEC1XbEI6Fng.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk"><a class="ae kc" href="https://pixabay.com/photos/illustration-red-panda-the-zoo-2246804/" rel="noopener ugc nofollow" target="_blank">Credit</a></figcaption></figure><p id="ad0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Jonathan Whitmore 的 Jupyter 笔记本数据科学最佳实践非常有用，我一直强烈鼓励团队成员至少采用其中的一部分，特别是 post-save 挂钩和笔记本命名约定。</p><div class="lb lc gp gr ld le"><a href="http://jupyter.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">Jupyter 项目</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Jupyter 笔记本是一个基于网络的交互式计算平台。该笔记本结合了现场代码，方程式…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">jupyter.org</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jw le"/></div></div></a></div><h2 id="a163" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">保存后挂钩</h2><p id="f4d8" class="pw-post-body-paragraph kd ke iq kf b kg mm ki kj kk mn km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">这样做的目的是在保存笔记本时自动保存一份 Python 脚本和 HTML 格式的副本。</p><p id="8603" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我曾经在提交到版本控制之前清除笔记本中的所有输出，以使变更历史更加清晰，但是这产生了两个问题:</p><ol class=""><li id="7d50" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated">如果笔记本的数据处理部分需要 10 分钟以上的时间来运行，<em class="na">这将会产生一种强烈的激励，让审查者跳过实际运行笔记本</em>，而只是通读代码，并假设它做了它看起来要做的事情。这是假设训练好的模型以某种方式被序列化以供审阅者加载，否则可能需要花费数小时在审阅者的系统上训练。预训练模型的分布带来了下一个问题:</li><li id="41ce" class="mr ms iq kf b kg nb kk nc ko nd ks ne kw nf la mw mx my mz bi translated">没有简单的方法将数据和模型文件与笔记本一起分发。对于数据科学家来说，存储和传输千兆字节的数据不是那么容易的，而<em class="na">让数据工程师专门为此在内部构建一些东西可能不划算</em>。对于“大数据”场景，您不希望将 Spark 访问凭据保存在笔记本电脑中(非常危险)，因此您需要找到一些安全管理集群访问的方法。(有一个叫做<a class="ae kc" href="https://dataversioncontrol.com/" rel="noopener ugc nofollow" target="_blank">数据版本控制</a>的新框架，看起来很有前途。但你需要向谷歌或亚马逊支付云存储费用。)</li></ol><p id="877e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总而言之，解决这些问题最直接的方法就是<strong class="kf ir">只需将笔记本的输出纳入版本控制</strong>。(尽管我建议在提交之前重启内核并重新运行整个笔记本。)</p><p id="0407" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将笔记本转换为 Python 脚本和 HTML 文件。在评审过程中使用 Python 脚本进行代码差异。HTML 文件最适合作为跨团队沟通电子邮件的附件。(就我个人而言，只有当项目的积极参与者没有真正使用 Jupyter 时，我才会将 HTML 文件添加到版本控制中。)</p><p id="ff2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下要点基本上是从<a class="ae kc" href="https://svds.com/jupyter-notebook-best-practices-for-data-science/" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本数据科学最佳实践</a>中直接复制的。它是根据最新的 Jupyter 测试的，放在这里供快速参考:</p><figure class="ng nh ni nj gt jr"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1cd1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用上述脚本有两种方式:</p><ol class=""><li id="1b40" class="mr ms iq kf b kg kh kk kl ko mt ks mu kw mv la mw mx my mz bi translated">放在<code class="fe nm nn no np b">~/.jupyter/jupyter_notebook_config.py</code>的顶部。(如果还没有，运行<code class="fe nm nn no np b">jupyter notebook --generate-config</code>创建它)</li><li id="24e7" class="mr ms iq kf b kg nb kk nc ko nd ks ne kw nf la mw mx my mz bi translated">如果你想要不同项目的不同配置，使用<code class="fe nm nn no np b">export JUPYTER_CONFIG_DIR=~/.jupyter_profile2</code>来指定配置文件夹。</li><li id="f0d1" class="mr ms iq kf b kg nb kk nc ko nd ks ne kw nf la mw mx my mz bi translated">将其作为<code class="fe nm nn no np b">jupyter_notebook_config.py</code>放在项目文件夹的根目录下(在那里运行<code class="fe nm nn no np b">jupyter notebook</code>命令)。</li></ol><h2 id="ea59" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">还有呢！</h2><p id="bc19" class="pw-post-body-paragraph kd ke iq kf b kg mm ki kj kk mn km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">如果使用得当，Jupyter notebook 可以成为一个非常有效的工具，提高团队协作的效率。请查看<a class="ae kc" href="https://svds.com/jupyter-notebook-best-practices-for-data-science/" rel="noopener ugc nofollow" target="_blank"> Jupyter 笔记本数据科学最佳实践</a>了解更多信息。</p><div class="lb lc gp gr ld le"><a href="https://svds.com/jupyter-notebook-best-practices-for-data-science/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">Jupyter 笔记本电脑数据科学最佳实践-硅谷数据科学</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Jupyter 笔记本是一个神奇的工具，可以用在许多不同的方面。因为它的灵活性，工作…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">svds.com</p></div></div><div class="ln l"><div class="nq l lp lq lr ln ls jw le"/></div></div></a></div><h2 id="9fd7" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">20190313 更新</h2><p id="5f95" class="pw-post-body-paragraph kd ke iq kf b kg mm ki kj kk mn km kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">Github 上有一个新工具可以直接区分 Jupyter 笔记本:</p><div class="lb lc gp gr ld le"><a href="https://www.reviewnb.com/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">点评 nb:GitHub 的 Jupyter 笔记本差异</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Jupyter 笔记本的 HTML 渲染差异。告别凌乱的 JSON diff。通过审阅评论在笔记本上协作…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.reviewnb.com</p></div></div><div class="ln l"><div class="nr l lp lq lr ln ls jw le"/></div></div></a></div><p id="3251" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还没有找到时间真正尝试它，但我听说过它的好处:</p><figure class="ng nh ni nj gt jr"><div class="bz fp l di"><div class="ns nl l"/></div></figure></div></div>    
</body>
</html>