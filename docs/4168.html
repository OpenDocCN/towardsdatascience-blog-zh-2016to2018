<html>
<head>
<title>Improving Operations with Route Optimization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过路线优化改善运营</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/improving-operations-with-route-optimization-4b8a3701ca39?source=collection_archive---------1-----------------------#2018-07-25">https://towardsdatascience.com/improving-operations-with-route-optimization-4b8a3701ca39?source=collection_archive---------1-----------------------#2018-07-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/c00cec24e3397e2fcb85b123c7a9bdf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB7Sa-Kmnng5vzMQglK70g.jpeg"/></div></div></figure><div class=""/><div class=""><h2 id="59f3" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">撰稿人:Feiko Lai，Michal Szczecinski，Winnie So，Miguel Fernandez</h2></div><blockquote class="kq kr ks"><p id="5c58" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated"><em class="jb">这个故事最初发表在</em> <a class="ae lq" href="https://medium.com/gogovan-technology/improving-operations-with-route-optimization-e032d8bf5edc" rel="noopener"> <em class="jb"> GOGOVAN 科技博客</em> </a></p><p id="c78f" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated"><em class="jb">请在这里找到我们关于主题</em> <a class="ae lq" href="https://arxiv.org/abs/1812.02300" rel="noopener ugc nofollow" target="_blank"> <em class="jb">的学术论文。</em>T11】</a></p></blockquote><p id="0828" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">每天，GOGOVAN 的司机都会抵达亚洲各地的仓库，提取我们的业务合作伙伴要求我们交付给他们客户的数千份订单。</p><p id="0c49" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这些订单可以是一系列的东西——从期待已久的新手机，到最后一刻订购的周年礼物。它们都有不同的大小、形状和重量。对于他们中的每一个人，都会有一个人在等待，希望这次快递公司能准时到达…</p><p id="ca91" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这就是为什么在 GOGOVAN，我们尽我们所能确保顺利和及时的交付，并提供令客户惊叹的服务质量。每一条送货路线都由我们的运营团队手工精心规划和反复检查，以确保我们不会失败。</p><p id="857e" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><strong class="kw jc">手动？！</strong></p><p id="9011" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">你刚才不是说你每天有几千个订单吗？！</p><p id="34d4" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">是的，没错。</em></p><p id="b3dd" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">过去，运营团队通常需要在取货当天早上手动整理送货路线，并确保我们满足当天的所有送货时间要求。正如您可能想象的那样，这不是一个特别令人兴奋或容易的任务:)</p><p id="f7c5" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><strong class="kw jc">一个人花了大约 1 个小时来创建 100 个路点的次优路线。对于更大的请求，这个时间会成倍增长。</strong></p><p id="9d23" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们立刻意识到这个过程只是在乞求一些自动化。</p><p id="3387" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们不仅为每天清晨不得不做如此平凡工作的运营团队感到难过，而且我们也知道，随着订单量的增长，这项任务将慢慢变成不可能完成的任务。我们认为这是一个开发尖端技术的机会，该技术将成为 GOGOVAN 数据科学堆栈的核心组件。</p><h1 id="a8d5" class="lu lv jb bd lw lx ly lz ma mb mc md me kh mf ki mg kk mh kl mi kn mj ko mk ml bi translated">我们是怎么开始的？</h1><p id="9166" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">我们非常以客户和司机为中心。因此，我们总是首先尝试从他们的角度分析问题，以了解我们的解决方案如何影响和惠及他们。经过大量的头脑风暴，我们得出了以下目标:</p><ul class=""><li id="ef7b" class="mr ms jb kw b kx ky la lb lr mt ls mu lt mv lp mw mx my mz bi translated">所有订单都需要按时交付<strong class="kw jc"/>。</li><li id="bf24" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">通过使用<strong class="kw jc">缓冲时间和实时距离</strong>确保驾驶员不会匆忙准时到达。</li><li id="0920" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated"><strong class="kw jc">通过减少行驶距离来节省燃油</strong>。</li><li id="ea9b" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">尽量减少司机的空闲时间——没有人喜欢拿着装满包裹的行李箱等待。</li><li id="705a" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated"><strong class="kw jc">提高车辆利用率</strong>。</li><li id="2ace" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">完全自动化流程<strong class="kw jc">。</strong></li><li id="565a" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">该算法需要能够<strong class="kw jc">与我们一起成长</strong>——支持不同类型的交付、车辆和国家。</li></ul><p id="5f18" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">确定了我们的主要目标后，我们决定探索学术界和开源的世界——重新发现轮子是没有意义的。我们意识到我们所面临的问题就是众所周知的车辆路径问题。</p><h2 id="f850" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">什么是车辆路径问题？</h2><p id="a98c" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated"><a class="ae lq" href="https://en.wikipedia.org/wiki/Vehicle_routing_problem" rel="noopener ugc nofollow" target="_blank"> <em class="kv">车辆路径问题</em></a><em class="kv">【VRP】</em>可以描述为从一个或多个<em class="kv">车场</em>到多个<em class="kv">客户</em><em class="kv">约束</em>创建一组最优<em class="kv">路线</em>的问题。目标是向所有客户交付货物，同时最大限度地降低路线成本和车辆数量。</p><p id="dcdb" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这个问题是<strong class="kw jc"> NP-hard </strong>，已经被<a class="ae lq" href="https://onlinelibrary.wiley.com/doi/pdf/10.1002/net.3230110211" rel="noopener ugc nofollow" target="_blank">伦斯特拉和 Rinnooy Kan </a>证明。然而，仍然有一些精确的解决方法，使用一个<a class="ae lq" href="https://link.springer.com/article/10.1007/s10107-005-0644-x" rel="noopener ugc nofollow" target="_blank">分支限界</a>，或者<a class="ae lq" href="https://link.springer.com/article/10.1007/s10107-008-0218-9" rel="noopener ugc nofollow" target="_blank">动态规划</a>，然而，正如上面的论文中所描述的，它们似乎只适用于最多 150 个航路点。</p><p id="619f" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">目前，最先进的解决方案是使用元启发式算法获得的:<a class="ae lq" href="https://link.springer.com/chapter/10.1007/978-3-540-71615-0_13" rel="noopener ugc nofollow" target="_blank">遗传算法</a> ⁴、<a class="ae lq" href="https://link.springer.com/article/10.1007/BF02579017" rel="noopener ugc nofollow" target="_blank">禁忌搜索</a> ⁵和<a class="ae lq" href="https://link.springer.com/chapter/10.1007/11816102_4" rel="noopener ugc nofollow" target="_blank">蚁群优化</a> ⁶.这些是目前该领域主要使用的方法。</p><p id="a983" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">对于该领域的深入回顾，我们推荐<a class="ae lq" href="https://pdfs.semanticscholar.org/acc2/785529ecd91c12387d8b8e08567c1ce9ab50.pdf" rel="noopener ugc nofollow" target="_blank">李晓燕的这篇精彩论文</a> ⁷。</p><h2 id="1f46" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">我们的解决方案</h2><p id="4cbc" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">随着 VRP 成为一个被广泛认可的问题，确实有很多公司似乎正在解决这个问题。</p><p id="15ac" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">然而，不知何故，我们对他们的解决方案并不满意……</em></p><p id="8ba0" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们只知道，如果我们结合我们的<strong class="kw jc">运营知识、数据科学和研究专业知识、大量数据以及开源的最新贡献</strong>，我们就可以获得一个强大的内部解决方案，该解决方案:</p><ul class=""><li id="08ea" class="mr ms jb kw b kx ky la lb lr mt ls mu lt mv lp mw mx my mz bi translated">更先进，性能更好，有可定制的算法和迭代逻辑。</li><li id="0d76" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">更便宜、更高效、更具可扩展性。</li><li id="1d6e" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">允许开发有形的知识产权资产并围绕它建立竞争优势。</li><li id="1524" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">允许我们向客户保证，他们的交付数据不会超过 GOGOVAN。</li></ul><p id="017b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">考虑了很长时间后，<strong class="kw jc">我们决定，如果我们想成为这个领域的领导者，我们需要用我们自己的方式，而不是用一些黑箱解决方案。</strong></p><p id="1705" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">所以我们开始了… </em></p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="73c0" class="lu lv jb bd lw lx ny lz ma mb nz md me kh oa ki mg kk ob kl mi kn oc ko mk ml bi translated">第一算法</h1><p id="34d1" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated"><em class="kv">但是我们并没有马上开始研究学术论文！</em></p><p id="e0e6" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">首先，<strong class="kw jc">我们专注于提出自己的方法，并对其进行评估。这个过程让我们从一开始就对这个领域有了更好的了解，并亲身经历了一些常见的问题(我们没有想当然！).更重要的是，这在后来帮助了我们，因为我们可以很容易地看到学术论文中提出的不同方法的利弊，并想出将它们结合起来的策略。</strong></p><p id="9372" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这样一个过程是理解这个出色的软件包— <a class="ae lq" href="https://developers.google.com/optimization/" rel="noopener ugc nofollow" target="_blank">谷歌优化工具</a>如何工作的关键。我们知道谷歌的人节省了我们几个月的时间来编写我们想要测试的所有不同的算法。他们允许我们立即进入最有趣的部分！</p><p id="39f7" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们花了很多时间来玩这个库，测试不同的场景，亲眼看看哪些策略在什么时候有效。</p><p id="eaf7" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们非常喜欢它，所以决定围绕它来开发我们的工具！</p><p id="be3e" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">它拥有我们所需要的一切——透明度、实验能力、灵活性和支持。</p><p id="7cf1" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">第一个算法准备好了。我们部署了它。</p><figure class="oe of og oh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi od"><img src="../Images/cf1f16d3a46d0f72235361488921cb92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngf6u_C9-GM4vNQvCBPTeg.png"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk">Figure 1: Visualisation of one of our first Route Optimization assignments</figcaption></figure><h1 id="2f0b" class="lu lv jb bd lw lx ly lz ma mb mc md me kh mf ki mg kk mh kl mi kn mj ko mk ml bi translated">快速增长—如何处理更多订单？</h1><p id="ce6c" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">路由优化的第一个版本取得了巨大的成功。</p><p id="9aec" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">提交给 Route Optimizer <strong class="kw jc">的订单量迅速从每个仓库 500 件增加到 1000 多件。理论上，我们应该没事。</strong></p><p id="7f29" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">但是我们没有。</p><p id="48b7" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们的算法运行时间和内存使用量惊人地快速增长——从 1 分钟 500 MB 增加到 10 分钟 5 GB。随着我们对越来越大的容量进行测试，我们最终达到了最大值— <strong class="kw jc">对于 2000 个航路点，该模块使用了 25GB 的 RAM 内存。</strong></p><p id="5141" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这是不可接受的。</p><p id="b404" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">基本上，我们有两个选择:</p><ul class=""><li id="d42e" class="mr ms jb kw b kx ky la lb lr mt ls mu lt mv lp mw mx my mz bi translated"><strong class="kw jc">建立一个全新的</strong>路由优化器，默认情况下能够支持如此大的容量</li><li id="86e8" class="mr ms jb kw b kx na la nb lr nc ls nd lt ne lp mw mx my mz bi translated">创建一个新的算法，在当前实现的基础上运行<strong class="kw jc">——可能是一种将订单组合成更小批量的方法，然后提交给主优化算法</strong></li></ul><p id="4d0b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">由于我们<strong class="kw jc">务实</strong>(也喜欢在我们已经完成的伟大工作的基础上再接再厉)，我们决定进行第二个选择。</p><h2 id="858b" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">我们如何创建更小的批量？</h2><p id="1b3d" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">让我们从一个著名的聚类算法开始— <a class="ae lq" href="http://www.aaai.org/Papers/KDD/1996/KDD96-037.pdf" rel="noopener ugc nofollow" target="_blank"> DBSCAN </a> ⁸.</p><p id="1aee" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们拥有的是一种最先进的方法，将地理点组合在一起。然而，它也有不利的一面:每个星团都必须有相同的半径。</p><p id="5c23" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这不是我们想要的，原因很简单:尖沙咀 1 公里半径的一个集群可能包含 1000 个订单，而薄扶林和瀑布湾的其他 1 公里集群可能每个仅包含 3 个订单。</p><p id="44b5" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">这些集群将会非常低效和不均衡……</em></p><p id="44fc" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">在尖沙咀，集群规模会太大，一个集群中会有太多订单。但与此同时，在其他一些区域，这个半径可能不够，因为聚类太小，相对靠近的停靠点将位于单独的聚类中。</p><p id="db2f" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这就是为什么我们决定使用一种改进的方法——称为<strong class="kw jc">“递归-DBSCAN”。</strong></p><h2 id="95c2" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">递归数据库扫描</h2><p id="ca6e" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">它建立在 DBSCAN 的辉煌之上，但同时允许我们更深入地挖掘高航点密度区域，同时将远程订单分组在一起。</p><p id="b72d" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">对于订单列表，我们的目标是找到平均路点数最大的半径(但聚类数将高于<em class="kv"> min_no_clusters </em>)。<strong class="kw jc">我们通过使用简单的二分搜索法算法来做到这一点。</strong></p><p id="56a2" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">一旦我们找到最优解，我们<em class="kv">“进入”</em>太大的集群，并应用相同的逻辑，直到我们到达每个集群包含小于<em class="kv"> max_len_cluster </em>的点。</p><p id="f197" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">然后，对于每个集群，我们使用谷歌优化工具运行我们开发的路线优化算法。希望这将更快地给我们一个相似的结果，并且使用更少的内存。</p><p id="13d5" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">伪代码如下:</p><figure class="oe of og oh gt is"><div class="bz fp l di"><div class="om on l"/></div></figure></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="5427" class="lu lv jb bd lw lx ny lz ma mb nz md me kh oa ki mg kk ob kl mi kn oc ko mk ml bi translated">基准</h1><p id="b7bb" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">我们非常好奇我们的方法将如何执行，但同时我们担心递归可能会运行很长时间，从而使我们的算法不比基线方法好。</p><p id="572f" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">这就是为什么我们首先决定看看运行时:</em></p><figure class="oe of og oh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oo"><img src="../Images/c9c5d7a42b5930f19c712ceaf3483428.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XvoYPGTrMlGdNJnA."/></div></div></figure><p id="709b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">原来，<em class="kv"> recursive-dbscan </em>算法<strong class="kw jc">大大优于</strong>的<em class="kv">谷歌优化工具</em>方法。同时，它与<em class="kv"> dbscan </em>方法的运行时间没有太大的不同。</p><p id="a202" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">由于 RAM 内存使用问题，我们只能对最多 2000 个订单运行<em class="kv"> dbscan </em>和对 1500 个订单运行<em class="kv"> Google 优化工具</em>:当所需内存超过 25 GB 时，这两种方法都会崩溃。</p><p id="c196" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">运行时间很重要，但我们感兴趣的是，与基线方法相比，我们的新算法在总距离和使用的车辆数量方面的表现如何。这两个图表显示:</p><div class="oe of og oh gt ab cb"><figure class="op is oq or os ot ou paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/6010b213a5c4b8d7eb3d4c8596af7b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*e-BtnkFs6ynnY-to."/></div></figure><figure class="op is ov or os ot ou paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><img src="../Images/c37d4d0211ed917ac0a835574a073dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/0*55vrYVeP6aL9zWPN."/></div></figure></div><p id="d556" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">正如我们所见，在距离和车辆数量方面，<em class="kv">递归</em>方法<strong class="kw jc">紧跟</strong>谷歌优化工具<em class="kv">方法。同时，它优于<em class="kv"> dbscan </em>方法。</em></p><p id="a299" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这意味着我们的新算法比基线算法更快，而且找到的解的质量也一样好。此外，使用的最大 RAM“只有”1GB！</p><p id="ec42" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><strong class="kw jc"> <em class="kv">我们拿到了！</em> </strong></p><h2 id="0a30" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">DBSCAN 与递归 DBSCAN</h2><p id="5aad" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">我们还想向您展示递归 dbscan 如何更好地用于远程航路点。</p><figure class="oe of og oh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ow"><img src="../Images/fa5aabd2691e46e3a3627e3cc48785be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e_vsH6wJu3B69NHDRsChyg.png"/></div></div><figcaption class="oi oj gj gh gi ok ol bd b be z dk">Figure 5: Comparison od DBSCAN and Recursive-DBSCAN routes. We are aware that they are still not perfect!</figcaption></figure><p id="82e2" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">上图中，左侧是一张使用普通 DBSCAN 算法找到的分配图。我们可以看到许多司机只交付一个订单，因为这些订单是他们批次中唯一的订单。</p><p id="242b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">在右侧，我们看到递归方法很好地处理了这个问题，通过对不同区域使用不同的半径，它<strong class="kw jc">设法找到了一个仅使用 3 辆车交付所有订单的解决方案！</strong></p><p id="ae3b" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated"><em class="kv">这是递归 dbscan 方法如何更适合我们的用例以及我们为什么选择使用它的完美可视化。</em></p></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><h1 id="396d" class="lu lv jb bd lw lx ny lz ma mb nz md me kh oa ki mg kk ob kl mi kn oc ko mk ml bi translated">结论(又名 TL；博士)</h1><p id="5892" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">在这篇文章中，我们提出了我们的方法来解决带有时间窗的有容量限制的车辆路径问题。<strong class="kw jc">通过使用递归 dbscan 方法，我们能够显著减少运行时间和内存使用，同时保持与基准<a class="ae lq" href="https://developers.google.com/optimization/routing/tsp/vehicle_routing_time_windows" rel="noopener ugc nofollow" target="_blank"> Google 优化工具</a>方法类似的结果质量</strong>。</p><p id="1580" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">这种算法对我们的运营团队<strong class="kw jc">有很大的帮助</strong>，<strong class="kw jc">将几个小时的琐碎手工工作减少到几分钟的 CPU 时间</strong>(并由人工复核结果)。</p><h2 id="f376" class="nf lv jb bd lw ng nh dn ma ni nj dp me lr nk nl mg ls nm nn mi lt no np mk nq bi translated">今后</h2><p id="a39b" class="pw-post-body-paragraph kt ku jb kw b kx mm kc kz la mn kf lc lr mo lf lg ls mp lj lk lt mq ln lo lp ij bi translated">我们意识到我们的工具并不完美。</p><p id="4073" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">一个主要的问题是<strong class="kw jc">仍然是一个静态方法</strong>，一旦运行，如果有更好的路线可用，或者如果路况改变，它不会更新自己。在这种情况下，我们有几个选择，一个是实施<strong class="kw jc">地理哈希</strong>如<a class="ae lq" href="https://eng.lyft.com/matchmaking-in-lyft-line-691a1a32a008" rel="noopener ugc nofollow" target="_blank"> Lyft </a>，另一个来自我们的合作伙伴——香港理工大学大数据分析研究机构。</p><p id="3783" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">我们的目标是改善路线优化，以便<strong class="kw jc">持续监控</strong>司机，并且<strong class="kw jc">在司机有可能无法按时运送包裹时发出警报</strong>—<strong class="kw jc">所有这些都是为了让我们的客户对我们的服务更加满意。</strong></p><p id="df81" class="pw-post-body-paragraph kt ku jb kw b kx ky kc kz la lb kf lc lr le lf lg ls li lj lk lt lm ln lo lp ij bi translated">希望这篇文章为您提供了一些关于我们在 GOGOVAN 解决的问题的深刻见解。如果您对此感兴趣，或者您只是想了解更多，请随时联系我们。</p><blockquote class="kq kr ks"><p id="16a9" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">当然，未来还有很大的改进空间，但我们希望分享我们的一些方法，以便在优化按需物流运营这一迷人领域引发讨论和取得进展。</p></blockquote></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><blockquote class="ox"><p id="94c8" class="oy oz jb bd pa pb pc pd pe pf pg lp dk translated">如果您想了解我们数据团队的更多信息，请点击查看我们数据主管的文章<a class="ae lq" href="https://medium.com/gogovan-technology/what-does-a-data-team-really-do-84b2f669e4b6" rel="noopener">。</a></p></blockquote></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><blockquote class="ox"><p id="af21" class="oy oz jb bd pa pb pc pd pe pf pg lp dk translated">我们一直在寻找顶尖的应用运营和 ML 研究人才。<a class="ae lq" href="https://gogovan.theresumator.com/apply/j1LCtr/Data-Scientist" rel="noopener ugc nofollow" target="_blank">有意者请联系！</a>(现场和远程)</p></blockquote></div><div class="ab cl nr ns hu nt" role="separator"><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw nx"/><span class="nu bw bk nv nw"/></div><div class="ij ik il im in"><blockquote class="kq kr ks"><p id="f237" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated"><strong class="kw jc">参考文献:</strong></p><p id="f1f8" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[1]j . k .伦斯特拉和 Kan a . h .(1981)，车辆路线和调度问题的复杂性。网络，11:221–227。doi:<a class="ae lq" href="https://doi.org/10.1002/net.3230110211" rel="noopener ugc nofollow" target="_blank">10.1002/net . 3230110211</a></p><p id="11c0" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[2] Fukasawa，r .，Longo，h .，Lysgaard，j .等人。程序。(2006) 106: 491.</p><p id="5a10" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[3]巴尔达奇和明戈齐，数学。程序。(2009) 120: 347.<a class="ae lq" href="https://doi.org/10.1007/s10107-008-0218-9" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1007/s10107-008-0218-9</a></p><p id="de87" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[4] Nagata Y. (2007)带容量限制的车辆路径问题的边缘装配交叉。参见:Cotta C .，van Hemert J .(编辑)组合优化中的进化计算。EvoCOP 2007。计算机科学讲义，第 4446 卷。施普林格，柏林，海德堡</p><p id="bbf3" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[5]br ysy，o .和 Gendreau，M. Top (2002 年)10: 211。<a class="ae lq" href="https://doi.org/10.1007/BF02579017" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1007/BF02579017</a></p><p id="92eb" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[6]谭鑫，卓鑫，张军(2006)带时间窗车辆路径优化问题的蚁群系统。在:黄 DS。、李 k、欧文 G.W .(编)计算智能与生物信息学。ICIC 2006。计算机科学讲义，第 4115 卷。施普林格，柏林，海德堡</p><p id="4e0c" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[7]李晓燕(2015)带时间窗的有能力限制的车辆路径问题:非营利组织食品提货的案例研究</p><p id="19bb" class="kt ku kv kw b kx ky kc kz la lb kf lc ld le lf lg lh li lj lk ll lm ln lo lp ij bi translated">[8] M. Ester，H. Kriegel，J. Sander 和 X. Xu，“一种基于密度的算法，用于在带有噪声的大型空间数据库中发现聚类”，在 Proc .第二国际。糖膏剂知识发现和数据挖掘(KDD'96)，1996 年，第 226-231 页。</p></blockquote></div></div>    
</body>
</html>