<html>
<head>
<title>Very simple Python script for extracting most common words from a story</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">非常简单的Python脚本，用于从故事中提取最常见的单词</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0?source=collection_archive---------1-----------------------#2017-09-23">https://towardsdatascience.com/very-simple-python-script-for-extracting-most-common-words-from-a-story-1e3570d0b9d0?source=collection_archive---------1-----------------------#2017-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5741" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">简单的Python脚本，不使用繁重的文本处理库，从语料库中提取最常见的单词。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9e175e98e1350432b13959226f09e770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AFximUznOGWAM2Iw3hmA_Q.jpeg"/></div></div></figure><p id="50d6" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">莎士比亚戏剧中使用最多的词是什么？“king”比“Lord”用得多，还是反之亦然？</p><p id="cb08" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">为了回答这类有趣的问题，人们通常需要快速检查和绘制文本文件中最常见的单词(通常从开源门户网站下载，如<a class="ae lr" href="http://www.gutenberg.org" rel="noopener ugc nofollow" target="_blank">古腾堡项目</a>)。然而，如果你在网上或Stackoverflow上搜索，你很可能会看到<strong class="kw iu"><em class="lq">【nltk】</em></strong>和<strong class="kw iu"> <em class="lq">计数矢量器</em> </strong>的使用的例子。虽然它们非常强大，使用起来也很有趣，但事实是，如果您只想提取单个文本语料库中出现的最常见的单词，就不需要它们。</p><p id="4c7e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">下面，我将展示一个非常简单的Python 3代码片段来实现这一点——只使用了一个字典和简单的字符串操作方法。</p><p id="b950" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">请随意复制代码，并使用您自己的停用词来使它变得更好！</p><pre class="kj kk kl km gt ls lt lu lv aw lw bi"><span id="eed6" class="lx ly it lt b gy lz ma l mb mc">import collections<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>%matplotlib inline</span><span id="55a1" class="lx ly it lt b gy md ma l mb mc"># Read input file, note the encoding is specified here <br/># It may be different in your text file<br/>file = open('PrideandPrejudice.txt', encoding="utf8")<br/>a= file.read()</span><span id="80c3" class="lx ly it lt b gy md ma l mb mc"># Stopwords<br/>stopwords = set(line.strip() for line in open('stopwords.txt'))<br/>stopwords = stopwords.union(set(['mr','mrs','one','two','said']))</span><span id="9c8b" class="lx ly it lt b gy md ma l mb mc"># Instantiate a dictionary, and for every word in the file, <br/># Add to the dictionary if it doesn't exist. If it does, increase the count.<br/>wordcount = {}</span><span id="a1e5" class="lx ly it lt b gy md ma l mb mc"># To eliminate duplicates, remember to split by punctuation, and use case demiliters.<br/>for word in a.lower().split():<br/>    word = word.replace(".","")<br/>    word = word.replace(",","")<br/>    word = word.replace(":","")<br/>    word = word.replace("\"","")<br/>    word = word.replace("!","")<br/>    word = word.replace("â€œ","")<br/>    word = word.replace("â€˜","")<br/>    word = word.replace("*","")<br/>    if word not in stopwords:<br/>        if word not in wordcount:<br/>            wordcount[word] = 1<br/>        else:<br/>            wordcount[word] += 1</span><span id="9481" class="lx ly it lt b gy md ma l mb mc"># Print most common word<br/>n_print = int(input("How many most common words to print: "))<br/>print("\nOK. The {} most common words are as follows\n".format(n_print))<br/>word_counter = collections.Counter(wordcount)<br/>for word, count in word_counter.most_common(n_print):<br/>    print(word, ": ", count)</span><span id="fe09" class="lx ly it lt b gy md ma l mb mc"># Close the file<br/>file.close()</span><span id="a856" class="lx ly it lt b gy md ma l mb mc"># Create a data frame of the most common words <br/># Draw a bar chart<br/>lst = word_counter.most_common(n_print)<br/>df = pd.DataFrame(lst, columns = ['Word', 'Count'])<br/>df.plot.bar(x='Word',y='Count')</span></pre><p id="8c71" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">语料库中10个最常用单词的代码输出和绘图示例。正文是'<strong class="kw iu"> <em class="lq">《傲慢与偏见》</em> </strong>'而且可以看到大家熟悉的伊丽莎白和达西先生的名字！:)</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi me"><img src="../Images/871ca7e27c263f28592acb15002bd2d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*fOfGW7pXsIgsGpuPrzRqMw.jpeg"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="787d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="lq">喜欢这篇文章吗？成为</em> <a class="ae lr" href="https://medium.com/@tirthajyoti/membership" rel="noopener"> <strong class="kw iu"> <em class="lq">中等会员</em> </strong> </a> <em class="lq">继续</em> <strong class="kw iu"> <em class="lq">无限制学习</em> </strong> <em class="lq">。如果您使用下面的链接，</em> <strong class="kw iu"> <em class="lq">，我将收取您的一部分会员费，而无需您支付额外费用</em> </strong> <em class="lq">。</em></p><div class="mm mn gp gr mo mp"><a href="https://medium.com/@tirthajyoti/membership" rel="noopener follow" target="_blank"><div class="mq ab fo"><div class="mr ab ms cl cj mt"><h2 class="bd iu gy z fp mu fr fs mv fu fw is bi translated">通过我的推荐链接加入Medium—Tirthajyoti Sarkar</h2><div class="mw l"><h3 class="bd b gy z fp mu fr fs mv fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mx l"><p class="bd b dl z fp mu fr fs mv fu fw dk translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd ks mp"/></div></div></a></div></div></div>    
</body>
</html>