<html>
<head>
<title>A very simple demo of interactive controls on Jupyter notebook</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jupyter笔记本上一个非常简单的交互控件演示</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-very-simple-demo-of-interactive-controls-on-jupyter-notebook-4429cf46aabd?source=collection_archive---------1-----------------------#2017-12-10">https://towardsdatascience.com/a-very-simple-demo-of-interactive-controls-on-jupyter-notebook-4429cf46aabd?source=collection_archive---------1-----------------------#2017-12-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="db83" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当使用交互式小工具时，笔记本变得活跃起来。用户可以可视化和控制数据的变化。学习变成了一种身临其境的、有趣的体验。研究人员可以很容易地看到改变模型的输入如何影响结果。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/654392c94851e21078d5b9f2fc149125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OV9Z2nnWNUHlfeTqyZsotg.jpeg"/></div></div></figure><p id="f450" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated">Jupyter/IPython项目对数据科学家如何快速测试和原型化他/她的想法并向同行和开源社区展示工作产生了最大程度的影响。这是一个非营利性的开源项目，诞生于2014年的<a class="ae lz" href="https://ipython.org" rel="noopener ugc nofollow" target="_blank"> IPython项目</a>，该项目迅速发展，支持跨所有主要编程语言的交互式数据科学和科学计算。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ma"><img src="../Images/e6111090f224ff5ead5309264f0c79bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y4TFSxWLTLB4hF6STdY-uw.png"/></div></div></figure><p id="724a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">Jupyter允许数据科学家/分析师使用他/她选择的任何<a class="ae lz" href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels" rel="noopener ugc nofollow" target="_blank">领先编程范例(Python、C++、R、Julia、Ruby、Lua、Haskell等等)</a>来处理复杂的数据集和测试模型。在其明显的简单性背后，Jupyter提供了强大的渲染能力来生成漂亮的标记文本和清晰的图形，以使数据科学/机器学习项目充满活力。<a class="ae lz" href="https://nbviewer.jupyter.org/github/tirthajyoti/StatsUsingPython/blob/master/Set_Algebra_with_Python.ipynb" rel="noopener ugc nofollow" target="_blank">下面是Jupyter笔记本</a>上写的整个基础集合代数教程的例子。</p><p id="5140" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">然而，当用户可以交互地控制模型的参数并(几乎)实时地看到效果时，学习和实验数据就变得真正身临其境了。Jupyter中大多数常见的渲染都是静态的。不过有一个<a class="ae lz" href="http://jupyter.org/widgets.html" rel="noopener ugc nofollow" target="_blank">大功夫引入了名为<strong class="kw iu"><em class="mb">ipywidgets</em></strong></a>的元素，在Jupyter笔记本上渲染出了有趣的交互控件。基于这些核心元素，一些2D和3D动态数据可视化项目(例如<a class="ae lz" href="https://github.com/bloomberg/bqplot" rel="noopener ugc nofollow" target="_blank"> bqplot </a>、<a class="ae lz" href="https://github.com/ellisonbg/ipyleaflet" rel="noopener ugc nofollow" target="_blank"> ipyleaflet </a>)的规模和范围也在不断扩大。</p><p id="d40d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在本文中，我将展示一个演示笔记本，其中包含一个最简单的交互式控件元素，以及如何将它集成到数据建模任务中，以动态可视化模型参数调整的影响。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="138a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi lq translated">idgets是多事件的python对象，在浏览器中有一个表示，通常是像滑块、文本框等控件。，通过前端(HTML/Javascript)呈现通道。他们使用Jupyter的“comms”API，这是一种对称、异步、一次性的消息传递API，允许程序员在前端和后端之间发送支持JSON的blobs，并隐藏web服务器、ZMQ和web套接字的复杂性。<a class="ae lz" href="https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Low%20Level.html" rel="noopener ugc nofollow" target="_blank">下面详细讨论</a>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/539779df8d5906c56fa8b13f25ed03a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zxuFZYWnzygKO0VwBMAYLA.png"/></div></div></figure><h2 id="67a6" class="mk ml it bd mm mn mo dn mp mq mr dp ms ld mt mu mv lh mw mx my ll mz na nb nc bi translated">安装小组件</h2><p id="d045" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">安装ipywidgets有两种选择。它们略有不同，所以请注意区别。基本上，如果您使用pip，您还必须在笔记本中启用ipywidget扩展，以便在下次启动笔记本时呈现它。您可以在您使用的任何虚拟环境中启用它，以便该扩展不会影响任何其他环境。</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="ac90" class="mk ml it nj b gy nn no l np nq">pip install ipywidgets<br/>jupyter nbextension enable --py widgetsnbextension</span></pre><p id="bd89" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">或者，您可以进行Conda安装(如果您使用Anaconda)，它会自动启用。</p><pre class="kj kk kl km gt ni nj nk nl aw nm bi"><span id="b762" class="mk ml it nj b gy nn no l np nq">conda install -c conda-forge ipywidgets</span></pre><h2 id="108b" class="mk ml it bd mm mn mo dn mp mq mr dp ms ld mt mu mv lh mw mx my ll mz na nb nc bi translated">使用<em class="nr">交互</em>对象/控件</h2><p id="075d" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated"><code class="fe ns nt nu nj b">interact</code>函数(<code class="fe ns nt nu nj b">ipywidgets.interact</code>)自动创建用户界面(UI)控件，用于交互式地浏览代码和数据。这是开始使用IPython小部件的最简单的方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/31081627ccdab1e4a63b79168b690ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xhuo5G0FLNTidNkhOgS5gA.png"/></div></div></figure><p id="56ce" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">除了<code class="fe ns nt nu nj b">interact</code>，IPython还提供了另一个函数<code class="fe ns nt nu nj b">interactive</code>，当您想要重用生成的小部件或者访问绑定到UI控件的数据时，这个函数非常有用。注意，与<code class="fe ns nt nu nj b">interact</code>不同，函数的返回值不会自动显示，但是你可以用<code class="fe ns nt nu nj b">IPython.display.display</code>在函数内部显示一个值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><h2 id="9217" class="mk ml it bd mm mn mo dn mp mq mr dp ms ld mt mu mv lh mw mx my ll mz na nb nc bi translated">一个简单曲线拟合练习的演示代码</h2><p id="0d6c" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">锅炉板代码<a class="ae lz" href="https://github.com/tirthajyoti/Widgets" rel="noopener ugc nofollow" target="_blank">可从我的GitHub库</a>获得。请随意叉/下载并使用它。我们实际上是生成一个带有噪声的高斯数据，并借助交互式滑动条或下拉菜单控件来处理各种模型参数。在传递函数并使用ipywidget.interactive()返回的对象呈现显示后，它看起来是这样的…</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/931f52b26850769585cc8cfae8632829.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ns46ZzRFzwADAo0M1q6qDA.png"/></div></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz nx l"/></div></figure><p id="efdd" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">接下来，我们调用Scipy包中的<a class="ae lz" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html" rel="noopener ugc nofollow" target="_blank">曲线拟合优化函数，并将理想的高斯分布函数拟合到数据中。该代码准确地描述了如何从ipywidget对象中提取数据并将其传递给优化器。您可以使用各种模型参数，并查看优化器拟合/估计的参数如何随着噪声参数的改变而与理想值有所不同，<strong class="kw iu">只需向左或向右滑动控件</strong>！</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/0f1ad5af84c2e9cbc3ef347bd202ddab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V1ATrNc5hHjszl5S8r_EzA.png"/></div></div></figure></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><h2 id="45b1" class="mk ml it bd mm mn mo dn mp mq mr dp ms ld mt mu mv lh mw mx my ll mz na nb nc bi translated">摘要</h2><p id="f58d" class="pw-post-body-paragraph ku kv it kw b kx nd ju kz la ne jx lc ld nf lf lg lh ng lj lk ll nh ln lo lp im bi translated">我们讨论了关于IPython小部件或交互式控件的一些基础知识，以及为什么它们可以将枯燥的数据科学代码笔记本变成有趣的、生动的文档。我们还展示了一个简单的演示代码来说明统计模型拟合练习中的想法。在未来，我们希望展示一些更酷的小部件在机器学习模型调整或深度学习超参数优化中的应用。</p></div><div class="ab cl mc md hx me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="im in io ip iq"><p id="4383" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><em class="mb">喜欢这篇文章吗？成为</em> <a class="ae lz" href="https://medium.com/@tirthajyoti/membership" rel="noopener"> <strong class="kw iu"> <em class="mb">中等会员</em> </strong> </a> <em class="mb">继续</em> <strong class="kw iu"> <em class="mb">无限制学习</em> </strong> <em class="mb">。如果你使用下面的链接，</em> <strong class="kw iu"> <em class="mb">，我会收到你的一部分会员费，而不会对你产生额外的费用</em> </strong> <em class="mb">。</em></p><div class="ob oc gp gr od oe"><a href="https://medium.com/@tirthajyoti/membership" rel="noopener follow" target="_blank"><div class="of ab fo"><div class="og ab oh cl cj oi"><h2 class="bd iu gy z fp oj fr fs ok fu fw is bi translated">通过我的推荐链接加入Medium—Tirthajyoti Sarkar</h2><div class="ol l"><h3 class="bd b gy z fp oj fr fs ok fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="om l"><p class="bd b dl z fp oj fr fs ok fu fw dk translated">medium.com</p></div></div><div class="on l"><div class="oo l op oq or on os ks oe"/></div></div></a></div></div></div>    
</body>
</html>