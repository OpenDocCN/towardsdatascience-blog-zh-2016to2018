<html>
<head>
<title>Matplotlib — Making data visualization interesting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">matplotlib——让数据可视化变得有趣</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/matplotlib-making-data-visualization-interesting-8bac1eb3d25c?source=collection_archive---------8-----------------------#2018-11-27">https://towardsdatascience.com/matplotlib-making-data-visualization-interesting-8bac1eb3d25c?source=collection_archive---------8-----------------------#2018-11-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/06f505aa312505d504b85446035773dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*J6KnKjK0nMnU3Xg1"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@alexlitvin?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Alex Litvin</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="12fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数据可视化是理解数据集并从中进行推断的关键步骤。虽然人们总是可以一行一行、一个单元一个单元地仔细检查数据，但这通常是一项单调乏味的任务，并且不能突出显示全局。另一方面，视觉效果以一种只需看一眼就能理解的形式定义数据，并保持观众的参与。</p><blockquote class="lb lc ld"><p id="b3cc" class="kd ke le kf b kg kh ki kj kk kl km kn lf kp kq kr lg kt ku kv lh kx ky kz la ij bi translated">Matplotlib 是一个 Python 2D 绘图库，它以各种硬拷贝格式和跨平台的交互式环境生成出版物质量数字。—<a class="ae kc" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank">matplotlib.org</a></p></blockquote><p id="8361" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Matplotlib 是一个基本的库，它为各种绘图提供了选项，并以标签、标题、字体大小等形式提供了广泛的定制。我观看了大量的视频，并在网上阅读了可视化的文章。为了更好地理解 Matplotlib，我从<a class="ae kc" href="https://www.kaggle.com/walla2ae/world-population" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>获取了人口密度数据集，并开始创建自己的可视化效果。本文重点介绍了我绘制的图表，包括我从数据中得出的定制和推论。</p><p id="34a8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完整的工作以 GitHub 知识库的形式呈现，作为使用 Matplotlib 的<a class="ae kc" href="https://github.com/kb22/Visualization-using-Matplotlib" rel="noopener ugc nofollow" target="_blank">可视化，以便快速参考。我们开始吧！</a></p><h1 id="40df" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">导入库</h1><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="05cb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和往常一样，我们首先需要导入所有必需的库。我们导入<code class="fe mm mn mo mp b">Numpy</code>和<code class="fe mm mn mo mp b">Pandas</code>库进行数据处理。然后我们导入<code class="fe mm mn mo mp b">matplotlib</code>，用它的模块<code class="fe mm mn mo mp b">pyplot</code>绘制数据，用<code class="fe mm mn mo mp b">cm</code>绘制调色板。语句<code class="fe mm mn mo mp b">%matplotlib inline</code>确保所有图形在笔记本中内嵌显示。</p><h1 id="2d0e" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">导入数据集</h1><p id="af7e" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">不需要文件<code class="fe mm mn mo mp b">dataset.csv</code>的前四行，所以我们可以跳过前四行，将数据导入变量<code class="fe mm mn mo mp b">dataset</code>。然后我们使用<code class="fe mm mn mo mp b">head(5)</code>来检查数据。</p><p id="f0d6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们会立即看到一些与我们无关的栏目。首先，我们可以保留<code class="fe mm mn mo mp b">Country Name</code>，但可以删除<code class="fe mm mn mo mp b">Country Code</code>。因为我们知道我们正在处理人口密度，我们可以删除列<code class="fe mm mn mo mp b">Indicator Name</code>和<code class="fe mm mn mo mp b">Indicator Code</code>。接下来，年份<code class="fe mm mn mo mp b">1960</code>和<code class="fe mm mn mo mp b">2016</code>的列具有<code class="fe mm mn mo mp b">NaN</code>值。<code class="fe mm mn mo mp b">NaN</code>代表的不是数字，我们应该删除这些列，因为它们不提供任何信息。最后，有一个未命名的列也有<code class="fe mm mn mo mp b">NaN</code>值，所以我们也可以删除<code class="fe mm mn mo mp b">Unnamed: 61</code>。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="4555" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe mm mn mo mp b">dropna</code>方法删除所有可能有空值或 null 值的行，并使用<code class="fe mm mn mo mp b">dataset.isnull().sum()</code>检查是否所有列都没有 null 值。我们看到所有都显示空值。</p><p id="5770" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在准备可视化我们的数据。</p><h1 id="9df6" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">(英)可视化(= visualization)</h1><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/7e089318e9d4792137215d10c4b8fbc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*F-ods4Vk2blOGbex"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">rawpixel</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="16ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们将使用 Matplotlib 来创建我们的图，并使用可视化来得出有意义的结论。</p><h2 id="6238" class="mw lj iq bd lk mx my dn lo mz na dp ls ko nb nc lw ks nd ne ma kw nf ng me nh bi translated">线形图</h2><p id="ac3c" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">我们首先用线图分析<code class="fe mm mn mo mp b">Aruba</code>这些年的人口密度。我们沿 x 轴取年份，沿 y 轴取人口密度。</p><p id="fb9e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们选择 x 值为<code class="fe mm mn mo mp b">dataset.columns[1:]</code>，这将选择除第一列之外的所有列，因为我们只需要年份，而不需要<code class="fe mm mn mo mp b">Country Name</code>列。接下来，我们选择 y 值作为选择第一列的<code class="fe mm mn mo mp b">dataset.iloc[0][1:]</code>，即国家<code class="fe mm mn mo mp b">Aruba</code>和除第一列之外的所有列。可以使用<code class="fe mm mn mo mp b">dataset[0][0]</code>获得国家名称。为了绘制图表，我们只需使用<code class="fe mm mn mo mp b">plot</code>函数，并将 x 轴和 y 轴的参数分别定义为 x 和 y。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="93b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">恭喜你！！我们的第一个情节准备好了！！</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/b394f1d713057bf94eeecd3606d41ff9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDDPdVGKnmfSc6vfKStaLw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">First Plot</figcaption></figure><p id="09b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">是的，它起了作用，但是很难理解。没有标签，轴值重叠。这就是 matplotlib 的定制能力派上用场的地方。让我们把它变得更容易理解一点。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="914a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe mm mn mo mp b">rcParams</code>允许我们修改图形大小、字体大小等等。然后我们添加一个标题，xlabel 和 ylabel。<code class="fe mm mn mo mp b">xticks</code>允许我们定义文本的旋转角度，我们将其设置为 90 度。然后我们再次绘图，并将线的宽度定义为<code class="fe mm mn mo mp b">4</code>。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/81388c7553eae7b641c7f4c8b6c37ba1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*olAtmTKkN4YPRa6m7kKWOA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Updated Plot</figcaption></figure><p id="1f75" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在可以看到，该图更具描述性，只是做了一些修改。</p><blockquote class="nk"><p id="85cd" class="nl nm iq bd nn no np nq nr ns nt la dk translated">从上面的图中，我们可以看到人口密度在 20 世纪 80 年代之前一直在稳步上升。从 20 世纪 90 年代开始，密度急剧上升，并继续保持同样的增长，直到 2000 年代中期趋于稳定。</p></blockquote><p id="1d93" class="pw-post-body-paragraph kd ke iq kf b kg nu ki kj kk nv km kn ko nw kq kr ks nx ku kv kw ny ky kz la ij bi translated">我们也可以使用折线图来观察不同国家的趋势。我们选取前 5 个国家，比较它们的人口密度增长。由于我们现在要处理单个图表上的多条线，我们应该为每个国家使用不同的颜色，并且还要定义一个图例，为每个国家分配一种独特的颜色。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="b120" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里，我们遍历数据集的前 5 行，并将这些值绘制成线图。我们使用<code class="fe mm mn mo mp b">matplotlib</code>的<code class="fe mm mn mo mp b">cm</code>包及其<code class="fe mm mn mo mp b">rainbow</code>方法来选择颜色。在绘图方法中，我们必须指定<code class="fe mm mn mo mp b">label</code>参数，因为它确保当图例被启用时，图例名称被显示。使用方法<code class="fe mm mn mo mp b">legend()</code>启用图例，其中我指定了一个属性，即<code class="fe mm mn mo mp b">24</code>的大小。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/f6dd32cbeab6e339480349efc8fa43a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jl0CFEGWS8LACj0yThn0ew.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Comparing 5 countries based on their Population Density</figcaption></figure><p id="b963" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到，阿鲁巴、安道尔、阿富汗、安哥拉和阿尔巴尼亚这五个国家的人口密度都有所上升。</p><blockquote class="nk"><p id="4e7d" class="nl nm iq bd nn no np nq nr ns nt la dk translated">现在，我们已经在一个单独的地块上绘制了所有的线图，很容易看出，与其他 4 个国家相比，阿鲁巴的人口密度一直较高。</p></blockquote><h2 id="3377" class="mw lj iq bd lk mx oa dn lo mz ob dp ls ko oc nc lw ks od ne ma kw oe ng me nh bi translated">条形图</h2><p id="4a5a" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">使用带有相关参数的方法<code class="fe mm mn mo mp b">bar()</code>可以轻松创建条形图。我们从绘制 2015 年所有国家的人口密度开始。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/969e41150968e04cc6d95d5007e6e606.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-0CdrjLbUwKBoqYPkYJj0w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Bar Plot for Population Density of all countries for 2015</figcaption></figure><p id="ba37" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然情节确实试图在同一时间提供大量信息，但出于同样的原因，它缺乏提供任何有用的信息。x 轴标签中有太多的重叠，以至于整个绘图变得毫无用处。我们不仅需要可视化我们的数据集，还需要巧妙地可视化数据集的重要部分。如果把密度最大的前 10 个国家排序一下，看一看就更好了。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="67c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们首先使用<code class="fe mm mn mo mp b">sort_values</code>方法，根据<code class="fe mm mn mo mp b">2015</code>年的人口密度，按照<code class="fe mm mn mo mp b">descending</code>的顺序对国家进行排序。然后，我们使用<code class="fe mm mn mo mp b">head(10)</code>方法选择前 10 名。然后，我们用这些新数据绘制柱状图。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi og"><img src="../Images/ff84fae811ab52ba02b79bd032da5da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CNxtod7zuN4YKkzJ8zD20A.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Top 10 most densely populated countries for 2015</figcaption></figure><p id="879f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在信息非常清楚了。数据是等间距的，并用不同的颜色清楚地表示出来。</p><blockquote class="nk"><p id="31f0" class="nl nm iq bd nn no np nq nr ns nt la dk translated">在 2015 年的数据集中，澳门特区和摩纳哥的人口密度在所有其他可用国家中最高。</p></blockquote><h2 id="ec82" class="mw lj iq bd lk mx oa dn lo mz ob dp ls ko oc nc lw ks od ne ma kw oe ng me nh bi translated">散点图</h2><p id="b50c" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">散点图是将数据显示为开放空间中的点的图。散点图非常有用，因为我们可以根据某个值指定每个数据点的大小，并且数据本身可以表示它与其他点的区别。</p><p id="3f16" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在分析所有年份平均人口密度低于每平方公里土地面积 10 人的国家。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="a544" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我使用<code class="fe mm mn mo mp b">dataset.sum(axis = 1)</code>对每一行的所有数据求和，然后使用<code class="fe mm mn mo mp b">lambda</code>方法对每个最终值除以列数得到平均值。然后，我将这个值与小于或等于 10 的值进行比较，并将其用作数据集的索引。结果是平均人口密度小于或等于 10 的所有国家。我现在再次计算这个值，这次将它存储在变量<code class="fe mm mn mo mp b">consolidated_data</code>中。绘制散点图的方法与其他图相似，但有一点小小的变化。我们现在可以使用参数<code class="fe mm mn mo mp b">s</code>定义每个数据点的大小。我一直保持大小相当于人口密度。由于值很小，我将每个值乘以 20，这样差异就更明显了。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oh"><img src="../Images/7cef002ce27455101733973f4cfcd7bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IFhatVpwgk-d8-Rbfwwjw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Countries with average Population Density less than equal to 10</figcaption></figure><p id="57b7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以看到，每个数据点都根据其密度值以自己的大小显示在图表上。</p><blockquote class="nk"><p id="54b5" class="nl nm iq bd nn no np nq nr ns nt la dk translated">在数据集中的所有国家中，格陵兰的平均人口密度似乎最小。</p></blockquote><h1 id="c247" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt oi lv lw lx oj lz ma mb ok md me mf bi translated">深入分析</h1><p id="130d" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">现在，我们将更深入地研究数据集，看看能否得出更多结论。</p><h2 id="fb11" class="mw lj iq bd lk mx my dn lo mz na dp ls ko nb nc lw ks nd ne ma kw nf ng me nh bi translated">描述性分析</h2><p id="4be2" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">我们可以看到全世界的最大和最小密度值是否有任何变化。因此，我们需要计算值的范围。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="fa01" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们使用<code class="fe mm mn mo mp b">min()</code>和<code class="fe mm mn mo mp b">max()</code>方法来计算除<code class="fe mm mn mo mp b">Country Name</code>之外的每一列的最小值和最大值。然后我们在变量<code class="fe mm mn mo mp b">diff</code>中找到范围。然后，我们计算每列最大值的最小值，并将其保存到<code class="fe mm mn mo mp b">minOfMax</code>。当我们绘制条形图时，我们将从所有范围中减去该值，这将确保我们将所有范围与最小范围年份进行比较。这是通过在柱状图中使用<code class="fe mm mn mo mp b">apply(lambda x: x-minOfMax)</code>方法来确保的。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ol"><img src="../Images/1bfd6277868bdbdfc3968f22a34f91ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k-fzy5Jsu9FIRwRgUeWo4g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Range of Population Density</figcaption></figure><blockquote class="nk"><p id="75e0" class="nl nm iq bd nn no om on oo op oq la dk translated">我们看到，2001 年，人口密度最大的国家和人口密度最小的国家之间的差距最大，然后在 2002 年急剧下降。</p></blockquote><h2 id="9631" class="mw lj iq bd lk mx oa dn lo mz ob dp ls ko oc nc lw ks od ne ma kw oe ng me nh bi translated">人口与人口密度</h2><p id="e790" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">探索人口密度是否确实是一个好的衡量标准，以及它是否也反映了一个国家的人口数量，这将是令人惊讶的。由于这个数据集没有人口或面积，我们需要从其他来源获取它。在这里，我们将使用 BeautifulSoup 从<a class="ae kc" href="https://en.wikipedia.org/wiki/List_of_countries_and_dependencies_by_area" rel="noopener ugc nofollow" target="_blank">维基百科页面</a>中提取土地面积，并使用它来计算人口。然后我们会比较人口和人口密度。你可以参考<a class="ae kc" rel="noopener" target="_blank" href="/dataset-creation-and-cleaning-web-scraping-using-python-part-1-33afbf360b6b">我关于网络抓取的文章</a>来快速启动。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="a8c4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后一组包括 170 个国家，我们有完整的可用信息，包括以公里为单位的土地面积。但是由于一次理解和解释这么多国家是很困难的，我们先来看看前 20 个国家。</p><figure class="mg mh mi mj gt jr"><div class="bz fp l di"><div class="mk ml l"/></div></figure><p id="4f49" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在通过并排绘制柱状图来比较 20 个国家的人口和人口密度。我们通过将 2015 年的人口密度乘以<code class="fe mm mn mo mp b">area</code>得到<code class="fe mm mn mo mp b">Population</code>。我们可以把画布分成多个支线剧情。方法<code class="fe mm mn mo mp b">subplot(rows, columns, index)</code>用于定义一个支线剧情。这里，我们创建了一个由 2 行 2 列标识的 4 个图组成的画布。第三个参数告诉我们这里指的是哪个图。我们将 20 个国家的数据绘制在索引为 1 和 2 的两个图表中。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/ffa27af68cfb52766e412a5fd88c996a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IicDg0SUw_mHG_7tI_YyKA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Population vs Population Density</figcaption></figure><p id="f186" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们可以看到<code class="fe mm mn mo mp b">Population Density</code>并不总是描述一个国家<code class="fe mm mn mo mp b">Population</code>的正确尺度，比如国家<code class="fe mm mn mo mp b">Bahrain</code>。</p><blockquote class="nk"><p id="b3aa" class="nl nm iq bd nn no np nq nr ns nt la dk translated">尽管人口密度很高，但孟加拉国的人口比巴林高得多。</p></blockquote><h1 id="4111" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt oi lv lw lx oj lz ma mb ok md me mf bi translated">结论</h1><p id="1ed8" class="pw-post-body-paragraph kd ke iq kf b kg mq ki kj kk mr km kn ko ms kq kr ks mt ku kv kw mu ky kz la ij bi translated">在这里，我们使用<code class="fe mm mn mo mp b">matplotlib</code>包来设计和创建图，这有助于我们更好地理解我们的数据集。</p></div><div class="ab cl os ot hu ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="ij ik il im in"><p id="756f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望你喜欢我的作品。请分享你的想法和建议。</p></div></div>    
</body>
</html>