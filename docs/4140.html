<html>
<head>
<title>Javascript- Currying VS Partial Application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Javascript- Currying VS 部分应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/javascript-currying-vs-partial-application-4db5b2442be8?source=collection_archive---------0-----------------------#2018-07-22">https://towardsdatascience.com/javascript-currying-vs-partial-application-4db5b2442be8?source=collection_archive---------0-----------------------#2018-07-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/2cdbfe96c4ce863a00a626e0a9ee4a48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLM2qGfy0VOTiyuyE3pOBA.png"/></div></div></figure><p id="770f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">许多人在涂抹和部分涂抹之间感到困惑，我们中的许多人不知道应该在何时何地使用它们。所以这篇文章将涵盖它们的实际用法和区别。</p><p id="9cec" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">所以让我们从定义开始。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="b092" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">Currying</h1><figure class="mf mg mh mi gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/845ca05d76d1ab5d9c14b033d0fb3161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w4xC98zKnVRC1ojg"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk">Photo by <a class="ae mn" href="https://unsplash.com/@carolineattwood?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Caroline Attwood</a> on <a class="ae mn" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b13a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">是一种将带有 N 个参数的函数调用转换成 N 个函数调用链的技术，每个函数调用只有一个参数？</p><p id="1e4e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">Currying 总是返回另一个只有一个参数的函数，直到所有的参数都被应用。所以，我们一直调用返回的函数，直到我们用尽了所有的参数，最终的值被返回。</p><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="9042" class="mt lh it mp b gy mu mv l mw mx">// Normal function<br/>function addition(x, y) {<br/>   return x + y;<br/>}</span><span id="dba3" class="mt lh it mp b gy my mv l mw mx">// Curried function<br/>function addition(x) {<br/>   return function(y) {<br/>     return x + y;<br/>   }<br/>}</span></pre><blockquote class="mz na nb"><p id="92db" class="kb kc nc kd b ke kf kg kh ki kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ky im bi translated">注意:Curry 取二元函数，返回一元函数，返回一元函数。它的 JavaScript 代码是</p></blockquote><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="da0f" class="mt lh it mp b gy mu mv l mw mx">function curry(f) {<br/>  return function(x) {<br/>    return function(y) {<br/>       return f(x, y);<br/>    }<br/>  }<br/>}</span></pre><blockquote class="mz na nb"><p id="48ed" class="kb kc nc kd b ke kf kg kh ki kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ky im bi translated">注意:一个 curried 函数有一个内置的迭代器行为。一次应用一个参数，然后返回给调用函数，用于下一步。在这里阅读<a class="ae mn" href="https://codeburst.io/javascript-es6-iterables-and-iterators-de18b54f4d4" rel="noopener" target="_blank">关于迭代器的</a>。</p></blockquote><h1 id="b36e" class="lg lh it bd li lj ng ll lm ln nh lp lq lr ni lt lu lv nj lx ly lz nk mb mc md bi translated">习惯</h1><ol class=""><li id="a907" class="nl nm it kd b ke nn ki no km np kq nq ku nr ky ns nt nu nv bi translated">定制函数的常见用例是<strong class="kd iu">函数组合</strong>，例如<code class="fe nw nx ny mp b">p(x) = q(r(x))</code>。即通过传递参数从旧函数构建新函数。函数<code class="fe nw nx ny mp b">q</code>将返回值作为函数<code class="fe nw nx ny mp b">r</code>的参数。因为函数只能返回一个值，所以应用于返回值的函数必须是一元的。</li><li id="ac4a" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated">Curried function 也可以在项目的<strong class="kd iu">基础设施设置</strong>时使用，在该项目中，有许多可能性来创建通用函数，从而可以轻松地配置和重用小部分，而不会出现混乱。</li><li id="4dbd" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://ramdajs.com/0.16/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu"> Ramda.js </strong> </a> lib。函数是自动执行的，lodash 有一个名为<a class="ae mn" href="https://lodash.com/docs/4.17.10#curry" rel="noopener ugc nofollow" target="_blank"> curry </a>的函数，可用于形成 curry 函数。</li><li id="fb59" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://taylodl.wordpress.com/2012/06/13/functional-javascript-memoization-part-i/" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">记忆化</strong> </a>是 curry 函数的另一个好用例。</li><li id="b58e" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><strong class="kd iu">处理错误</strong>出错后立即抛出函数并退出。</li><li id="c5d7" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><strong class="kd iu">捕捉多个错误，并将其用作 API 和客户端代码的验证器</strong>。</li><li id="9f9b" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated">可以创建第一类函数，这意味着我们可以使用函数作为参数和返回值。例如:</li></ol><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="c5e8" class="mt lh it mp b gy mu mv l mw mx">const func1 = () =&gt; console.log ('Hey Medium.');<br/>const firstClassfunc1 = argsFunc =&gt; argsFunc();<br/>const firstClassfunc2 = () =&gt; func1;<br/>firstClassfunc1 (firstClassfunc2()); // Hey Medium.</span></pre><blockquote class="mz na nb"><p id="b51f" class="kb kc nc kd b ke kf kg kh ki kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ky im bi translated">注意:一定要看完这个视频，你会知道更多关于为什么，什么时候和用法。</p></blockquote><figure class="mf mg mh mi gt ju"><div class="bz fp l di"><div class="oe of l"/></div></figure><h2 id="919b" class="mt lh it bd li og oh dn lm oi oj dp lq km ok ol lu kq om on ly ku oo op mc oq bi translated"><strong class="ak">咖喱工厂法(ES6) </strong></h2><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="8c7b" class="mt lh it mp b gy mu mv l mw mx">const <strong class="mp iu">compose</strong> = (...<strong class="mp iu">fns</strong>) =&gt;<br/>  <strong class="mp iu">fns.reduce</strong>((<strong class="mp iu">f</strong>, <strong class="mp iu">g</strong>) =&gt; (...<strong class="mp iu">args</strong>) =&gt; <strong class="mp iu">f</strong>(<strong class="mp iu">g</strong>(...<strong class="mp iu">args</strong>)));</span></pre><p id="ba25" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mn" href="https://medium.com/@kevincennis/currying-in-javascript-c66080543528" rel="noopener">这里的</a>是一篇关于如何使用 ES5 创建我们自己的 curry 函数工厂方法的好文章。</p><blockquote class="mz na nb"><p id="5242" class="kb kc nc kd b ke kf kg kh ki kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ky im bi translated">注意:如果处理不当，Javascript 中的 Currying 会导致更复杂的堆栈跟踪，这对调试是不利的。</p></blockquote></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="a27b" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="ak">局部应用</strong></h1><figure class="mf mg mh mi gt ju gh gi paragraph-image"><div class="gh gi or"><img src="../Images/e0a039e760df3ceb34bdba6e85720f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*rzKOP6-XrA7XSgVvZsQWsQ.png"/></div></figure><p id="42a2" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">是一种将多个参数固定到一个函数上，产生另一个更小参数的函数的技术，即随着函数链的发展，将值绑定到一个或多个参数上。</p><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="506e" class="mt lh it mp b gy mu mv l mw mx">function add1(x) {<br/>  return 1 + x;<br/>}</span></pre><p id="2370" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">JavaScript 有内置的方法<code class="fe nw nx ny mp b">.bind</code>,它可以处理任意数量的参数，并且可以绑定任意数量的参数。它的调用具有以下语法。</p><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="3b14" class="mt lh it mp b gy mu mv l mw mx"><em class="nc">function</em>.bind(<em class="nc">thisValue</em>, [<em class="nc">arg1</em>], [<em class="nc">arg2</em>], ...)</span></pre><p id="50db" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">它将<em class="nc">函数</em>变成一个新函数，它的隐式参数是这个值，并且它的初始参数总是给定的。</p><pre class="mf mg mh mi gt mo mp mq mr aw ms bi"><span id="607a" class="mt lh it mp b gy mu mv l mw mx">function addition(x, y) {<br/>   return x + y;<br/>}</span><span id="468d" class="mt lh it mp b gy my mv l mw mx">const plus5 = addition.bind(null, 5)<br/>plus5(10) // output -&gt; 15</span></pre><blockquote class="mz na nb"><p id="53e8" class="kb kc nc kd b ke kf kg kh ki kj kk kl nd kn ko kp ne kr ks kt nf kv kw kx ky im bi translated">注意:<code class="fe nw nx ny mp b">this</code>值对于(非方法)函数加法无关紧要，这就是为什么它在上面是 null 的原因。</p></blockquote><p id="6f50" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">当使用下划线或 lodash 时，你可以使用<em class="nc">部分</em>函数，它比原始的<em class="nc">绑定</em>方法好得多。</p><p id="86ba" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><a class="ae mn" href="http://benalman.com/news/2012/09/partial-application-in-javascript/#partial-application" rel="noopener ugc nofollow" target="_blank">这里</a>是关于局部应用和左、右局部应用功能实现的详细帖子。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="4799" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">差异</h1><ul class=""><li id="5c34" class="nl nm it kd b ke nn ki no km np kq nq ku nr ky os nt nu nv bi translated">Currying <em class="nc"> always </em>产生嵌套的一元(1 元)函数。转换后的函数在很大程度上仍与原始函数相同。</li><li id="50ba" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky os nt nu nv bi translated">部分应用产生任意数量参数的函数。转换后的函数不同于原始函数，它需要的参数更少。</li><li id="c603" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky os nt nu nv bi translated">Currying 不是局部应用。它可以使用部分应用程序来实现。你不能创建一个接受任意数量参数的函数，(除非你固定参数的数量)。</li></ul><h1 id="58dd" class="lg lh it bd li lj ng ll lm ln nh lp lq lr ni lt lu lv nj lx ly lz nk mb mc md bi translated">优势</h1><p id="9829" class="pw-post-body-paragraph kb kc it kd b ke nn kg kh ki no kk kl km ot ko kp kq ou ks kt ku ov kw kx ky im bi translated">更容易重用更抽象的函数，从而产生干净的代码，降低复杂性，提高代码的表达能力和可维护性。</p><p id="13a8" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这篇文章的一些资源</p><div class="ow ox gp gr oy oz"><a href="https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8" rel="noopener follow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">库里还是局部申请？</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">部分应用和咖喱的区别</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">medium.com</p></div></div><div class="pi l"><div class="pj l pk pl pm pi pn jz oz"/></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://2ality.com/2011/09/currying-vs-part-eval.html" rel="noopener  ugc nofollow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">Currying 与部分应用程序(使用 JavaScript 代码)</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">Currying 和局部应用是将一个功能转换为另一个功能的两种方式，通常具有更小的…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">2ality.com</p></div></div><div class="pi l"><div class="po l pk pl pm pi pn jz oz"/></div></div></a></div><div class="ow ox gp gr oy oz"><a href="https://medium.com/javascript-scene/curry-and-function-composition-2c208d774983" rel="noopener follow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">咖喱与功能组合</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">注意:这是学习函数式编程和组合软件的“组合软件”系列的一部分…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">medium.com</p></div></div><div class="pi l"><div class="pp l pk pl pm pi pn jz oz"/></div></div></a></div></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="14f0" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果您想被添加到我的电子邮件列表中，请考虑在这里输入您的电子邮件地址 和<strong class="kd iu">关注我的</strong> <a class="ae mn" href="https://medium.com/@ideepak.jsd" rel="noopener"> <strong class="kd iu"> medium </strong> </a> <strong class="kd iu">阅读更多关于 javascript 的文章，并关注</strong><a class="ae mn" href="https://github.com/dg92" rel="noopener ugc nofollow" target="_blank"><strong class="kd iu">github</strong></a><strong class="kd iu">查看我的疯狂代码</strong>。如果有什么不清楚或者你想指出什么，请在下面评论。</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="016f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可能也会喜欢我的其他文章</p><ol class=""><li id="9e1e" class="nl nm it kd b ke kf ki kj km pq kq pr ku ps ky ns nt nu nv bi translated"><a class="ae mn" href="https://levelup.gitconnected.com/javascript-execution-context-and-hoisting-c2cc4993e37d" rel="noopener ugc nofollow" target="_blank"> Javascript 执行上下文和提升</a></li><li id="ae72" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/javascript-generator-yield-next-async-await-8442d2c77185" rel="noopener"> Javascript —生成器-产出/下一个&amp;异步-等待🤔</a></li><li id="edcb" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/javascript-context-this-keyword-9a78a19d5786" rel="noopener">理解 Javascript‘this’关键字(上下文)</a>。</li><li id="43be" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://levelup.gitconnected.com/write-beautiful-javascript-with-%CE%BB-fp-es6-350cd64ab5bf" rel="noopener ugc nofollow" target="_blank"> Javascript 数据结构与映射、归约、过滤</a></li><li id="201e" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/javascript-currying-vs-partial-application-4db5b2442be8" rel="noopener"> Javascript- Currying VS 部分应用</a></li><li id="7b8f" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/javascript-es6-iterables-and-iterators-de18b54f4d4" rel="noopener"> Javascript ES6 —可迭代程序和迭代器</a></li><li id="a8af" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/why-to-use-javascript-proxy-5cdc69d943e3" rel="noopener"> Javascript —代理</a></li><li id="5443" class="nl nm it kd b ke nz ki oa km ob kq oc ku od ky ns nt nu nv bi translated"><a class="ae mn" href="https://medium.com/datadriveninvestor/still-confused-in-js-scopes-f7dae62c16ee" rel="noopener"> Javascript —作用域</a></li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="1b6d" class="lg lh it bd li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated">如果你喜欢这篇文章，请随意分享，以帮助他人找到它！</h1><p id="fa0d" class="pw-post-body-paragraph kb kc it kd b ke nn kg kh ki no kk kl km ot ko kp kq ou ks kt ku ov kw kx ky im bi translated"><strong class="kd iu">谢谢！</strong></p></div></div>    
</body>
</html>