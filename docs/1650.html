<html>
<head>
<title>Jupyter Data Science Stack + Docker in under 15 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Jupyter 数据科学堆栈+ Docker 在 15 分钟内完成</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/jupyter-data-science-stack-docker-in-under-15-minutes-19d8f822bd45?source=collection_archive---------0-----------------------#2017-10-01">https://towardsdatascience.com/jupyter-data-science-stack-docker-in-under-15-minutes-19d8f822bd45?source=collection_archive---------0-----------------------#2017-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="34ab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">动机</em> </strong>:假设你想使用 Python 或 R 中一些很酷的数据科学库，但你不想花费<strong class="jp ir"> <em class="kl">小时</em> </strong>来安装 Python 或 R，找出你需要的库，安装每一个库，然后在你的 Linux/Windows/OSX/OS9 版本上无聊地工作——这就是 Docker 的用处！有了 Docker，我们可以立即建立并运行 Jupyter“数据科学”笔记本堆栈。我们开始吧！</p><p id="8c98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Docker 允许我们在所谓的<strong class="jp ir"> <em class="kl">容器</em> </strong>中运行“准备就绪”的 Jupyter 数据科学堆栈:</p><blockquote class="km kn ko"><p id="62a0" class="jn jo kl jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">容器映像是一个轻量级的、独立的、可执行的软件包，包含了运行它所需的一切:代码、运行时、系统工具、系统库、设置。基于 Linux 和 Windows 的应用程序都可以使用容器化软件，无论环境如何，容器化软件都可以运行。容器将软件从其周围环境中隔离出来，例如开发和阶段环境之间的差异，并有助于减少在同一基础设施上运行不同软件的团队之间的冲突。</p></blockquote><p id="cbea" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么容器和虚拟机有什么区别呢？</p><blockquote class="km kn ko"><p id="5a4d" class="jn jo kl jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">容器和虚拟机具有类似的资源隔离和分配优势，但功能不同，因为容器虚拟化的是操作系统而不是硬件，容器更具可移植性和效率。</p></blockquote><p id="3497" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要开始使用 Docker，您需要安装 Docker 社区版。在此下载适合您环境的安装程序<a class="ae ks" href="https://www.docker.com/community-edition#/download" rel="noopener ugc nofollow" target="_blank">。一旦你安装了 Docker，重启你的机器，我们就可以开始安装 Jupyter 容器了。当运行一个容器时，你需要告诉 Docker 这个容器的基本映像是什么。</a></p><p id="7c43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">那么什么是<strong class="jp ir"> <em class="kl">图像</em> </strong>以及它如何与<strong class="jp ir"> <em class="kl">容器</em> </strong>相关联呢？</p><blockquote class="km kn ko"><p id="2a83" class="jn jo kl jp b jq jr js jt ju jv jw jx kp jz ka kb kq kd ke kf kr kh ki kj kk ij bi translated">Docker 图像是由一系列层构建而成的。每一层代表图像 docker 文件中的一条指令。除了最后一层，每一层都是只读的。</p></blockquote><p id="c3f0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个<strong class="jp ir"> <em class="kl">容器</em> </strong>就是一个<strong class="jp ir"> <em class="kl">图像</em> </strong>的运行实例。使用 Docker 真正节省时间的是，其他人已经构建了一个映像，其中包含了我们开始使用全套 Jupyter 数据科学堆栈所需的一切！我们所需要做的就是告诉 Docker 根据预定义的图像启动一个容器。为此，我们将以 Docker compose 文件的形式编写一个简单的配方。将下面的文件作为<strong class="jp ir"> docker-compose.yml </strong>保存到您的工作目录中:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="ky kz l"/></div></figure><p id="bb7f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">保存文件后，用您最喜欢的编辑器打开它，并更改以下部分:</p><p id="66e6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe la lb lc ld b">/Absolute/Path/To/Where/Your/Notebook/Files/Will/Be/Saved</code></p><p id="4be5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本地机器上保存您的工作的路径。确保路径确实存在，也就是说，已经创建了所有目录。如果不这样做，当你试图启动你的容器时会导致错误，更糟糕的是，你将不能保存你在容器中做的任何工作！</p><p id="2060" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很好，我们已经准备好了 Docker compose 文件，现在我们可以使用 docker-compose 命令来启动我们的容器。打开终端或命令提示符，进入您的工作目录并运行以下命令:</p><p id="e0ee" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><code class="fe la lb lc ld b">docker-compose up</code></p><p id="e575" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您应该在终端/命令提示符下看到类似下面的输出(为了简洁起见，我省略了一些输出):</p><pre class="kt ku kv kw gt le ld lf lg aw lh bi"><span id="10e0" class="li lj iq ld b gy lk ll l lm ln">$ <strong class="ld ir">docker-compose up</strong></span><span id="0f5b" class="li lj iq ld b gy lo ll l lm ln">Creating network “jupyternotebook_default” with the default driver</span><span id="9ebb" class="li lj iq ld b gy lo ll l lm ln">Creating datascience-notebook-container …</span><span id="c042" class="li lj iq ld b gy lo ll l lm ln">Creating datascience-notebook-container … done</span><span id="68ab" class="li lj iq ld b gy lo ll l lm ln">Attaching to datascience-notebook-container</span><span id="cf2a" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | Execute the command: jupyter notebook</span><span id="6195" class="li lj iq ld b gy lo ll l lm ln">.<br/>.<br/>.</span><span id="b3f5" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | [I 11:37:37.993 NotebookApp] The Jupyter Notebook is running at: <a class="ae ks" href="http://localhost:8888/?token=123456789123456789123456789123456789" rel="noopener ugc nofollow" target="_blank">http://[all ip addresses on your system]:8888/?token=123456789123456789123456789123456789</a></span><span id="6d2b" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | [I 11:37:37.993 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).</span><span id="8983" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | [C 11:37:37.994 NotebookApp]</span><span id="3f45" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container |</span><span id="7517" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | Copy/paste this URL into your browser when you connect for the first time,</span><span id="1343" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | to login with a token:</span><span id="f89c" class="li lj iq ld b gy lo ll l lm ln">datascience-notebook-container | <a class="ae ks" href="http://localhost:8888/?token=123456789123456789123456789123456789" rel="noopener ugc nofollow" target="_blank">http://localhost:8888/?token=123456789123456789123456789123456789</a></span></pre><p id="bdab" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最后一行是一个 URL，我们需要将其复制并粘贴到我们的浏览器中，以访问我们的新 Jupyter 堆栈:</p><pre class="kt ku kv kw gt le ld lf lg aw lh bi"><span id="fe02" class="li lj iq ld b gy lk ll l lm ln"><a class="ae ks" href="http://localhost:8888/?token=123456789123456789123456789123456789" rel="noopener ugc nofollow" target="_blank">http://localhost:8888/?token=123456789123456789123456789123456789</a></span></pre><p id="cecf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦你做到了这一点，你应该迎接你自己的集装箱 Jupyter 服务！您可以访问此<a class="ae ks" href="https://hub.docker.com/r/jupyter/datascience-notebook/" rel="noopener ugc nofollow" target="_blank">链接</a>了解 Jupyter 数据科学堆栈为您提供的更多信息。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="lq lr di ls bf lt"><div class="gh gi lp"><img src="../Images/e6b9bb2bd31aa17aef6db3be048ff329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JIT4ATVkY79z-FIa-Ad59Q.png"/></div></div></figure><p id="1ab0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要创建您的第一个笔记本，请进入工作目录，然后单击右侧的“新建”按钮，并选择“Python 3”来创建一个基于 Python 3 的新笔记本。一旦你这样做了，检查你的路径，你选择保存你的工作到本地，你应该看到你的新笔记本的。ipynb 文件已保存！</p><p id="21b3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要在完成工作后关闭容器，只需在终端/命令提示符下按 Ctrl-C。您的工作将全部保存在您的实际机器上，路径是我们在 Docker compose 文件中设置的。这就是你开始使用 Jupyter 笔记本和 Docker 魔力的简单快捷的方法。</p><p id="d8aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望这篇文章对你有所帮助，请在下面留下你的反馈或评论。黑客快乐！</p></div></div>    
</body>
</html>