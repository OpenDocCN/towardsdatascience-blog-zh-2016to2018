<html>
<head>
<title>Setting up databases with PostgreSQL, PSequel, and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用PostgreSQL、PSequel和Python设置数据库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/leveraging-python-with-large-databases-pandas-postgresql-5073825167e0?source=collection_archive---------4-----------------------#2018-04-23">https://towardsdatascience.com/leveraging-python-with-large-databases-pandas-postgresql-5073825167e0?source=collection_archive---------4-----------------------#2018-04-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/52ab2748f32846de0f1079618cb46267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XTlKxS6V_Kg9pb73el0ckg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">(image source: <a class="ae kc" href="https://avataai.com/big-data-streaming-processing/" rel="noopener ugc nofollow" target="_blank">https://avataai.com/big-data-streaming-processing/</a>)</figcaption></figure><p id="d3b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">随着对数据科学家<a class="ae kc" href="https://edgylabs.com/data-scientist-is-americas-best-career-for-the-third-year-running" rel="noopener ugc nofollow" target="_blank">的需求持续增长</a>，并被各种渠道(包括<a class="ae kc" href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century" rel="noopener ugc nofollow" target="_blank">《哈佛商业评论》</a>)称为“21世纪最性感的工作”，有人问有抱负的数据科学家在走向他们的第一份数据分析师工作时应该掌握哪些技能。</p><p id="5e6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在有太多的在线课程来获得数据科学家擅长工作所需的技能(在线资源的优秀评论<a class="ae kc" href="https://medium.com/personal-growth/16-top-rated-data-science-courses-e5e161b937c3" rel="noopener">在这里</a>和<a class="ae kc" href="https://medium.freecodecamp.org/a-path-for-you-to-learn-analytics-and-data-skills-bd48ccde7325" rel="noopener ugc nofollow" target="_blank">在这里</a>)。然而，当我自己回顾各种课程时，我注意到许多焦点都放在令人兴奋和浮华的主题上，如机器学习和深度学习，而没有涵盖收集和存储此类分析所需的数据集所需的基础知识。</p><h2 id="93b0" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">(大)数据科学</h2><p id="f2a4" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在我们进入PostgreSQL之前，我猜想你们中的许多人都有同样的问题:我为什么要关心SQL？</p><p id="1f9c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然数据库管理对于有抱负的数据科学家来说似乎是一个无聊的话题，但我知道实现一个狗品种分类器是非常有益的！—一旦你加入这个行业，这是一项必要的技能，数据也支持这一点:SQL仍然是LinkedIn招聘信息中列出的最常见和最受欢迎的技能。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lz"><img src="../Images/e5408c2cf2f7d01ba46f6b09bcc92c26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Rcae-oscF4OO8kpI720Yw.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">SQL is a necessary skills in many data science applications with large datasets (image source: c<a class="ae kc" href="http://exponential.io/blog/2015/02/26/big-data-sql/" rel="noopener ugc nofollow" target="_blank">http://exponential.io/blog/2015/02/26/big-data-sql/</a>)</figcaption></figure><p id="a646" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a>可以很好地执行最常见的SQL操作，但不适合大型数据库——它的主要限制是内存中可以容纳的数据量。因此，如果一个数据科学家正在处理大型数据库，那么在将数据加载到内存之前，SQL被用来将数据转换成熊猫可以管理的东西。</p><p id="40e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，SQL不仅仅是将平面文件放入表中的方法。SQL的强大之处在于它允许用户拥有一组彼此“相关”的表，这通常用“实体关系图”或ERD来表示。</p><p id="f201" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">许多数据科学家同时使用这两者——他们使用SQL查询将数据连接、切片并加载到内存中；然后他们使用<a class="ae kc" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> pandas </a>库函数在Python中进行大量的数据分析。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div class="gh gi me"><img src="../Images/a1b7eaa6668ec2d295f020b6fbd624ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*RszpPZ7OYYWHmf0I35U2fg.jpeg"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Example of an ERD (source: <a class="ae kc" href="http://www.datanamic.com/dezign/erdiagramtool.html" rel="noopener ugc nofollow" target="_blank">http://www.datanamic.com/dezign/erdiagramtool.html</a>)</figcaption></figure><p id="3936" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这在处理大数据应用中的大型数据集时尤为重要。这样的应用程序在有几十亿行的数据库中会有几十TB。</p><p id="d147" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数据科学家通常从SQL查询开始，在转移到Python Pandas进行数据分析之前，SQL查询将提取csv文件所需的1%的数据。</p><h2 id="c06f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated"><strong class="ak">输入PostgreSQL </strong></h2><p id="c813" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">有一种方法可以在不离开深受喜爱的Python环境的情况下学习SQL，在Python环境中教授和使用了如此多的机器学习和深度学习技术:PostgreSQL。</p><p id="bf8d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://www.postgresql.org/" rel="noopener ugc nofollow" target="_blank"> PostgreSQL </a>允许您在处理不是存储在平面文件而是存储在数据库中的大型数据集时，利用令人惊叹的<a class="ae kc" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas库</a>进行数据辩论。</p><p id="a62b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PostgreSQL可以安装在Windows、Mac和Linux环境中(参见<a class="ae kc" href="https://www.tutorialspoint.com/postgresql/postgresql_environment.htm" rel="noopener ugc nofollow" target="_blank">安装细节这里</a>)。如果你有Mac，我强烈推荐安装<a class="ae kc" href="http://postgresapp.com/" rel="noopener ugc nofollow" target="_blank"> Postgres。App </a> SQL环境。对于Windows，请查看<a class="ae kc" href="https://www.openscg.com/bigsql/postgresql/installers.jsp/" rel="noopener ugc nofollow" target="_blank"> BigSQL </a>。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/91259997e73358b4a9832e4c19f5eb81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FA_tzg50Shs4dY9bPFWVFA.jpeg"/></div></div></figure><p id="2d59" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PostgreSQL使用客户机/服务器模型。这涉及两个运行过程:</p><ul class=""><li id="cb78" class="mg mh iq kf b kg kh kk kl ko mi ks mj kw mk la ml mm mn mo bi translated"><strong class="kf ir">服务器进程</strong>:管理数据库文件，接受客户端应用程序到数据库的连接，并代表客户端执行数据库操作。</li><li id="412c" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la ml mm mn mo bi translated"><strong class="kf ir">用户客户端App </strong>:经常涉及到SQL命令条目，友好的图形界面，以及一些数据库维护工具。</li></ul><p id="9c34" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在实际场景中，客户端和服务器通常位于不同的主机上，它们通过TCP/IP网络连接进行通信。</p><h2 id="8b52" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">正在安装Postgres。App和PSequel</h2><p id="0f45" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我会专注于Postgres。在教程的其余部分中。<br/>安装<a class="ae kc" href="https://postgresapp.com/" rel="noopener ugc nofollow" target="_blank"> PostgresApp </a>后，您可以按照以下说明设置您的第一个数据库:</p><ul class=""><li id="3339" class="mg mh iq kf b kg kh kk kl ko mi ks mj kw mk la ml mm mn mo bi translated">单击“初始化”创建新的服务器</li><li id="3ebe" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la ml mm mn mo bi translated">一个可选的步骤是配置一个<code class="fe mu mv mw mx b">$PATH </code>来使用Postgres.app提供的命令行工具，方法是在终端中执行以下命令，然后关闭&amp;重新打开窗口:<br/> <code class="fe mu mv mw mx b">sudo mkdir -p /etc/paths.d &amp;&amp;<br/>echo /Applications/Postgres.app/Contents/Versions/latest/bin | sudo tee /etc/paths.d/postgresapp</code></li></ul><p id="cbed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您已经有了一个运行在Mac上的PostgreSQL服务器，默认设置为:<br/> <code class="fe mu mv mw mx b">Host: localhost, Port: 5432, Connection URL: posgresql://localhost</code></p><p id="9c4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将在本教程中使用的PostgreSQL GUI客户端是<a class="ae kc" href="http://www.psequel.com/" rel="noopener ugc nofollow" target="_blank"> PSequel </a>。它有一个极简和易于使用的界面，我真的很喜欢轻松地执行PostgreSQL任务。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/f2a33994afea8222648ba19d002f58d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a69DrYlhVlxutWeBgfv3OQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Graphical SQL Client of choice: <a class="ae kc" href="http://www.psequel.com/" rel="noopener ugc nofollow" target="_blank">PSequel</a></figcaption></figure><h2 id="5cc2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">创建您的第一个数据库</h2><p id="ff41" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">一旦Postgres。App和PSequel安装完毕，你现在可以设置你的第一个数据库了！首先，从打开Postgres开始。应用程序，你会看到一个小象图标出现在顶部菜单。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/be0122adef7f58455ca6535469040dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5QZIC54ArWwwjSAhQ04pQ.jpeg"/></div></div></figure><p id="ab3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您还会注意到一个允许您“打开psql”的按钮。这将打开一个ommand行，允许您输入命令。这主要用于创建数据库，我们将使用以下命令创建数据库:<br/> <code class="fe mu mv mw mx b">create database sample_db;</code></p><p id="4c2f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们使用PSequel连接到刚刚创建的数据库。我们将打开PSequel并输入这个名字的数据库，在我们的例子中是:<code class="fe mu mv mw mx b">sample_db</code>。单击“连接”连接到数据库。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/11ed440ccbc85cb409ff50842163760d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f4OYNFzU3dRW87T4x8NMpw.jpeg"/></div></div></figure><h2 id="a162" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">创建并填充您的第一个表</h2><p id="6bdf" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">让我们在PSequel中创建一个表(由行和列组成)。我们定义了表的名称，以及每一列的名称和类型。</p><p id="9dd7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PostgreSQL中可用于列(即变量)的数据类型可在PostgreSQL <a class="ae kc" href="https://www.postgresql.org/docs/10/static/datatype.html" rel="noopener ugc nofollow" target="_blank">数据类型文档</a>中找到。</p><p id="29dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本教程中，我们将创建一个简单的世界国家表。第一列将为每个国家提供一个“id”整数，第二列将使用可变长度字符串(最多255个字符)提供国家名称。</p><p id="4c44" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">准备就绪后，单击“运行查询”。然后将在数据库中创建该表。不要忘记单击“刷新”图标(右下角)来查看列出的表格。</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/762c8e8f932c9cd001f56cb39846e3a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K73YQEWoHPqpihTHEvflOg.jpeg"/></div></div></figure><p id="5207" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在准备用数据填充我们的列。有许多不同的方法来填充数据库中的表。要手动输入数据，<code class="fe mu mv mw mx b">INSERT</code>会派上用场。例如，要输入id号为1的国家摩洛哥和id号为2的澳大利亚，SQL命令是:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="6f49" class="lb lc iq mx b gy ng nh l ni nj">INSERT INTO country_list (id, name) VALUES (1, 'Morocco');<br/>INSERT INTO country_list (id, name) VALUES (2, 'Australia');</span></pre><p id="1107" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">运行查询并刷新表后，我们得到下表:</p><figure class="ma mb mc md gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nk"><img src="../Images/88b2f845d2a0932606e537ab9d2d757e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8soH0ELXOwEa1TJAvBX0g.jpeg"/></div></div></figure><p id="f4ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">实际上，手动填充数据库中的表是不可行的。感兴趣的数据很可能存储在CSV文件中。要将一个CSV文件导入到<code class="fe mu mv mw mx b">country_list_csv</code>表中，使用如下的<code class="fe mu mv mw mx b">COPY</code>语句:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="14c2" class="lb lc iq mx b gy ng nh l ni nj">COPY <!-- -->country_list_csv<!-- -->(id,name)<br/>FROM 'C:\{path}\{file_name}.csv' DELIMITER ',' CSV HEADER;</span></pre><p id="34a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如您在上面的命令中看到的，带有列名的表是在<code class="fe mu mv mw mx b">COPY</code>命令之后指定的。列的排序方式必须与CSV文件中的相同。CSV文件路径在<code class="fe mu mv mw mx b">FROM</code>关键字后指定。还必须指定CSV <code class="fe mu mv mw mx b">DELIMITER</code>。</p><p id="cfe9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果CSV文件包含带有列名的标题行，则用关键字<code class="fe mu mv mw mx b">HEADER</code>表示，以便PostgreSQL在从CSV文件导入数据时忽略第一行。</p><h2 id="d6c8" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">常见SQL命令</h2><p id="a12a" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">SQL的关键是理解语句。一些陈述包括:</p><ol class=""><li id="600f" class="mg mh iq kf b kg kh kk kl ko mi ks mj kw mk la nl mm mn mo bi translated"><strong class="kf ir"> CREATE TABLE </strong>是一条在数据库中创建新表的语句。</li><li id="ed2c" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la nl mm mn mo bi translated"><strong class="kf ir"> DROP TABLE </strong>是删除数据库中的一个表的语句。</li><li id="14b3" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la nl mm mn mo bi translated"><strong class="kf ir">选择</strong>可以读取数据并显示。</li></ol><p id="24c1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> SELECT </strong>是您告诉查询您想要返回哪些列的地方。<br/> <strong class="kf ir"> FROM </strong>是告诉查询从哪个表查询的地方。请注意，该表中需要存在列。例如，假设我们有一个包含几列的订单表，但是我们只对其中的三个子集感兴趣:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="0782" class="lb lc iq mx b gy ng nh l ni nj">SELECT id, account_id, occurred_at<br/>FROM orders</span></pre><p id="e8e0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另外，当您只想查看表格的前几行时，<strong class="kf ir"> LIMIT </strong>语句非常有用。这比我们加载整个数据集要快得多。<strong class="kf ir"> ORDER BY </strong>语句允许我们按任意行对表进行排序。我们可以将这两个命令一起用于数据库中的“订单”表，如下所示:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="c6d4" class="lb lc iq mx b gy ng nh l ni nj">SELECT id, account_id, total_amt_usd<br/>FROM orders<br/>ORDER BY total_amt_usd DESC<br/>LIMIT 5;</span></pre><h2 id="62b0" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">探索其他SQL命令</h2><p id="09ab" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">现在，您已经了解了如何在PostgreSQL中设置数据库、创建表和填充，您可以按照以下教程中的说明，探索其他常见的SQL命令:</p><ul class=""><li id="f950" class="mg mh iq kf b kg kh kk kl ko mi ks mj kw mk la ml mm mn mo bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/how-to-ace-data-science-interviews-sql-b71de212e433">数据科学的SQL基础知识</a></li><li id="727d" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la ml mm mn mo bi translated"><a class="ae kc" href="https://www.khanacademy.org/computing/computer-programming/sql/sql-basics/p/creating-a-table-and-inserting-data" rel="noopener ugc nofollow" target="_blank">可汗学院:SQL简介</a></li><li id="4a83" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la ml mm mn mo bi translated"><a class="ae kc" rel="noopener" target="_blank" href="/sql-in-a-nutshell-part-1-basic-real-world-scenarios-33a25ba8d220">简而言之SQL</a></li><li id="2b22" class="mg mh iq kf b kg mp kk mq ko mr ks ms kw mt la ml mm mn mo bi translated"><a class="ae kc" href="https://www.codecademy.com/articles/sql-commands" rel="noopener ugc nofollow" target="_blank">备忘单SQL命令</a></li></ul><h2 id="da28" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">用Python访问PostgreSQL数据库</h2><p id="59ce" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">一旦设置好PostgreSQL数据库和表，就可以转移到Python来执行任何所需的数据分析或争论。</p><p id="766f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PostgreSQL可以使用<a class="ae kc" href="http://initd.org/psycopg/docs/" rel="noopener ugc nofollow" target="_blank"> psycopg2模块</a>与Python集成。它是一个流行的Python PostgreSQL数据库适配器。在Python 2.5 . x版及更高版本中，它与默认库一起提供</p><p id="ff50" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以通过以下方式连接到现有的PostgreSQL数据库:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="4380" class="lb lc iq mx b gy ng nh l ni nj">import psycopg2<br/>conn = psycopg2.connect(database="sample_db", user = "postgres", password = "pass123", host = "127.0.0.1", port = "5432")</span></pre><p id="e6ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回到我们的country_list表示例，在sample_db中向表中插入记录可以在Python中用以下命令完成:</p><pre class="ma mb mc md gt nc mx nd ne aw nf bi"><span id="8667" class="lb lc iq mx b gy ng nh l ni nj">cur = conn.cursor()<br/>cur.execute("INSERT INTO country_list (id, name) \<br/>      VALUES (1, 'Morocco')");<br/>cur.execute("INSERT INTO country_list (id, name) \<br/>      VALUES (2, 'Australia')");<br/>conn.commit()<br/>conn.close()</span></pre><p id="c394" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用于创建、填充和查询表的其他命令可以在<a class="ae kc" href="https://www.tutorialspoint.com/postgresql/postgresql_python.htm" rel="noopener ugc nofollow" target="_blank">教程点</a>和<a class="ae kc" href="http://www.postgresqltutorial.com/postgresql-python/" rel="noopener ugc nofollow" target="_blank"> PostgreSQL教程</a>的各种教程中找到。</p><h2 id="568d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">结论</h2><p id="16b0" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">现在，您已经有了一个可以运行的PostgreSQL数据库服务器，可以进行填充和使用了。它功能强大、灵活、免费，被许多应用程序使用。</p></div></div>    
</body>
</html>