<html>
<head>
<title>TensorFlow Image Recognition Python API Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TensorFlow 图像识别 Python API 教程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tensorflow-image-recognition-python-api-e35f7d412a70?source=collection_archive---------2-----------------------#2018-01-17">https://towardsdatascience.com/tensorflow-image-recognition-python-api-e35f7d412a70?source=collection_archive---------2-----------------------#2018-01-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d337" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在带有 Inception-v3 的 CPU 上(以秒为单位)</h2></div><p id="57c6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是在你的笔记本电脑或电脑上进行图像识别的最快和最简单的方法，不需要任何 GPU，因为它只是一个 API，而你的 CPU 足以胜任这一工作。</p><p id="0909" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我知道，我对这个特定的 API 有点晚了，因为它是 tensorflow 早期版本附带的。API 使用在<a class="ae lb" href="http://image-net.org/challenges/LSVRC/2014/browse-synsets" rel="noopener ugc nofollow" target="_blank"> <em class="lc"> 1000 类</em> </a> <em class="lc">上训练的 CNN 模型。</em>更多详情请参考本<a class="ae lb" href="https://www.tensorflow.org/tutorials/image_recognition" rel="noopener ugc nofollow" target="_blank"> <em class="lc">张量流页面</em> </a>。</p><p id="f7d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我开始向你们展示如何用任何图像实现这个 API 之前，这里有一个<strong class="kh ir">例子</strong>...</p><p id="d88e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">输入是航天火箭/航天飞机的图像，不管你怎么称呼它。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ld"><img src="../Images/e469a977d18a042d6624fe9a083772f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qkY1be9TASR7Nae9Tc9p8A.jpeg"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">Fig: Rocketlaunch.jpg</figcaption></figure><p id="6c0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">命令行的输出是“航天飞机(得分= 89.639%)”。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lt"><img src="../Images/1a62fcdcc514592dd401a6fdd540dd9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BVfD9JZQ1cnih832gvUajQ.jpeg"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk">Fig: Space shuttle (score 89.639%)</figcaption></figure><p id="e583" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你有 linux 或者 Mac 也不用担心。我敢肯定，这将在任何 CPU 的每个系统上工作，假设你已经安装了 TensorFlow 1.4。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><p id="ed67" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">整个过程将分 4 步完成:</p><h2 id="2981" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">1.从 tensorflow 资源库下载模型。</h2><p id="892f" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">转到 tensorflow <a class="ae lb" href="https://github.com/tensorflow/models" rel="noopener ugc nofollow" target="_blank">存储库链接</a>并下载到您的计算机上，并将其解压缩到根文件夹中，因为我使用的是 Windows，所以我会将其解压缩到“C:”驱动器中。</p><p id="a7ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在将文件夹命名为“模型”。</p><h2 id="78d8" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated"><strong class="ak"> 2。命令行</strong></h2><p id="58bc" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">打开命令提示符(以管理员身份)。</p><p id="d87f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我们需要运行"<em class="lc">models&gt;tutorials&gt;imagenet&gt;classify _ image . py "</em>中的<em class="lc"> classify_image.py </em>文件。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/ed256b1caba598fa6c314c5a9b9b84a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*e_SRoAEUT6fhkNWbarhIdA.png"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><strong class="bd na">Fig: Running the classifier file</strong></figcaption></figure><p id="1097" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将下载一个 200mb 的模型，这将有助于您识别您的图像。</p><p id="9b1e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果一切正常，您将在命令提示符下看到:</p><pre class="le lf lg lh gt nb nc nd ne aw nf bi"><span id="63ee" class="mb mc iq nc b gy ng nh l ni nj">giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca (score = 0.88493)<br/>indri, indris, Indri indri, Indri brevicaudatus (score = 0.00878)<br/>lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens (score = 0.00317)<br/>custard apple (score = 0.00149)<br/>earthstar (score = 0.00127)</span></pre><p id="4dba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，为了确保我们理解如何正确使用它，我们将做两次。一次将图像文件保存在“<em class="lc">模型&gt;教程&gt; imagenet &gt; </em>”目录中，第二次将图像保存在不同的目录或驱动器中😏</p><h2 id="dd02" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">3.下载目录中的图像</h2><p id="d165" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">您可以随意使用互联网或其他任何地方的任何图像，并使用<em class="lc"> classify_image.py </em>将其粘贴到“<em class="lc">models&gt;tutorials&gt;imagenet【images.png】T42</em>目录中，然后我们会将其粘贴到“D:\ <em class="lc"> images.png”或您想要的任何目录中，只是不要忘记在命令提示符中键入正确的地址。我使用的图像如下。</em></p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi nk"><img src="../Images/76a004d84126c003522d841f2fc0c325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJEaPWnNAuImPZ0FsjP5qg.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><strong class="bd na">Fig: images.png</strong></figcaption></figure><h2 id="eadf" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">4.使用命令提示符执行识别</h2><p id="4698" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">为此，您只需编辑“<em class="lc"> </em> —图像文件<em class="lc">”参数，如下所示。</em></p><p id="4304" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> a)与 classify_image.py 文件在同一目录</strong>下的图像。进入 imagenet 目录后，打开命令提示符并键入…</p><pre class="le lf lg lh gt nb nc nd ne aw nf bi"><span id="0f88" class="mb mc iq nc b gy ng nh l ni nj">python classify_image.py --image_file images.png</span></pre><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/b675a34106ca3ebdfc3c54202b95491e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*3dLP3t5qiIxNViFaQDzR1A.png"/></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><strong class="bd na">Fig: images.png is the same directory</strong></figcaption></figure><p id="815e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> b)对于不同目录中的图像</strong>通过指向放置图像的目录进行键入。</p><pre class="le lf lg lh gt nb nc nd ne aw nf bi"><span id="aacd" class="mb mc iq nc b gy ng nh l ni nj">python classify_image.py --image_file D:/images.png</span></pre><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi nm"><img src="../Images/e49f82282949266ba37a8017faa2cc5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5aYDx98iKFgeyNxjt_1orw.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><strong class="bd na">Fig: images.png in different directory</strong></figcaption></figure><h2 id="ab29" class="mb mc iq bd md me mf dn mg mh mi dp mj ko mk ml mm ks mn mo mp kw mq mr ms mt bi translated">结果</h2><p id="2d9c" class="pw-post-body-paragraph kf kg iq kh b ki mu jr kk kl mv ju kn ko mw kq kr ks mx ku kv kw my ky kz la ij bi translated">现在，显然两张图片的结果是相同的，如下所示。</p><figure class="le lf lg lh gt li gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi nn"><img src="../Images/1337276d25b4e2ae62098305155e94b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RuHx8ai9lzATKiKrwq0UPg.png"/></div></div><figcaption class="lp lq gj gh gi lr ls bd b be z dk"><strong class="bd na">Fig Result for images.png</strong></figcaption></figure><p id="2e02" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如你所见，分数相当准确，即<strong class="kh ir">手机</strong>的分数为 98.028%。</p><blockquote class="no np nq"><p id="c3b8" class="kf kg lc kh b ki kj jr kk kl km ju kn nr kp kq kr ns kt ku kv nt kx ky kz la ij bi translated">注意:您可以随意使用任何您想要的图像，并将其保存在任何目录中。只要记住输入正确的图像路径。</p></blockquote><figure class="le lf lg lh gt li gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b42e0e7fafdf3abd4e6cf4edb511b8c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/1*B_EOC2l6EIKmgQRKJ4g_lg.gif"/></div></figure></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><p id="8616" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">下一步:转到</strong> <a class="ae lb" rel="noopener" target="_blank" href="/training-inception-with-tensorflow-on-custom-images-using-cpu-8ecd91595f26">对您的自定义图像进行新类别</a>的培训。</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><p id="6fc8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我已经尽力让文章尽可能准确易懂。有什么意见，建议或者有什么问题，<strong class="kh ir">写在评论里吧。</strong></p><p id="97e0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">关注我<a class="ae lb" href="https://medium.com/@sagarsharma4244" rel="noopener">中</a>、<a class="ae lb" href="https://www.facebook.com/profile.php?id=100003188718299" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae lb" href="https://twitter.com/SagarSharma4244" rel="noopener ugc nofollow" target="_blank">推特</a>、<a class="ae lb" href="https://www.linkedin.com/in/sagar-sharma-232a06148/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae lb" href="https://plus.google.com/u/0/+SAGARSHARMA4244" rel="noopener ugc nofollow" target="_blank"> Google+ </a>、<a class="ae lb" href="https://www.quora.com/profile/Sagar-Sharma-71" rel="noopener ugc nofollow" target="_blank"> Quora </a>看类似帖子。</p><p id="9b4a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">鼓掌吧！分享一下！跟我来。</strong></p><p id="5390" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">乐意帮忙。荣誉……..</p></div><div class="ab cl lu lv hu lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ij ik il im in"><h1 id="93df" class="nv mc iq bd md nw nx ny mg nz oa ob mj jw oc jx mm jz od ka mp kc oe kd ms of bi translated">你会喜欢的以前的故事:</h1><ol class=""><li id="2649" class="og oh iq kh b ki mu kl mv ko oi ks oj kw ok la ol om on oo bi translated"><a class="ae lb" href="https://hackernoon.com/what-the-hell-is-tensor-in-tensorflow-e40dbf0253ee" rel="noopener ugc nofollow" target="_blank">“Tensor flow”中的“Tensor”是什么鬼？</a></li></ol><p id="e873" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.<a class="ae lb" rel="noopener" target="_blank" href="/epoch-vs-iterations-vs-batch-size-4dfb9c7ce9c9">历元对批量对迭代</a></p><p id="23f8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.<a class="ae lb" rel="noopener" target="_blank" href="/what-the-hell-is-perceptron-626217814f53">感知器是什么鬼？</a></p><p id="0e83" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.<a class="ae lb" href="https://medium.com/towards-data-science/activation-functions-neural-networks-1cbd9f8d91d6" rel="noopener">激活功能解释:神经网络</a></p></div></div>    
</body>
</html>