<html>
<head>
<title>Airflow by Google: A first impression of Cloud Composer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌的气流:对 Cloud Composer 的第一印象</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/airflow-by-google-a-first-impression-of-cloud-composer-f4d9f86358cf?source=collection_archive---------2-----------------------#2018-05-06">https://towardsdatascience.com/airflow-by-google-a-first-impression-of-cloud-composer-f4d9f86358cf?source=collection_archive---------2-----------------------#2018-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="7e8d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">日前，Google Cloud <a class="ae kl" href="https://cloud.google.com/blog/big-data/2018/05/cloud-composer-is-now-in-beta-build-and-run-practical-workflows-with-minimal-effort" rel="noopener ugc nofollow" target="_blank">公布了 Cloud Composer </a>的测试版。简而言之，Cloud Composer 是针对<a class="ae kl" href="https://airflow.apache.org/" rel="noopener ugc nofollow" target="_blank">气流</a>的托管解决方案，这是一个开源平台，用于以编程方式创作、调度和监控工作流。对于不熟悉气流的数据人员:您主要使用它来编排您的数据管道。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/b13d9c9e95c316817a3657c62c5439d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*glXWq7UIQp0LUtcg.gif"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Airflow</figcaption></figure><p id="86ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于我一直在寻找气流的托管解决方案，所以我决定本周带着 Cloud Composer 去兜一圈。托管解决方案的好处在于，作为一名数据工程师或数据科学家，您不必在开发运维上花费太多时间——这是您可能不太擅长的事情(至少我不擅长！).</p><p id="0bf8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，下面是一篇非常简短的关于测试 Cloud Composer 的体验的文章。这绝不是一个详尽的评价——这只是我对 Cloud Composer 的第一印象。</p><h2 id="ff82" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">我喜欢云作曲家的地方</h2><p id="7013" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">设置非常简单<strong class="jp ir">。如果你有一个 Google Cloud 帐户，只需点击几下鼠标(外加大约 20 分钟等待你的环境启动)。您还可以从 Python 包索引(PyPI)中轻松列出所需的 Python 库，设置环境变量，等等。</strong></p><p id="abca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">部署简单</strong>。你的 DAGs 文件夹位于谷歌云存储的一个专用桶中。这意味着您可以直接拖放 DAG 文件夹的内容来部署新的 DAG。几秒钟之内，DAG 就会出现在气流 UI 中。当然，拖放并不是唯一的选择。您还可以通过使用 Google Cloud 的 gcloud 以编程方式进行部署。</p><p id="452a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当您的环境启动并运行时，Google Cloud <strong class="jp ir"> UI 是干净的</strong>并且没有麻烦:它只是链接到 DAG 文件夹和您的 Airflow 服务器，这是您将花费大部分时间的地方。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ma"><img src="../Images/ff2bb32711bcd152f693e297fe52e3c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k3TmzAYSvxYsGnDknGB39g.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">Cloud Composer</figcaption></figure><p id="fc24" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总的来说，积极方面的主题是简单和易用，这可能是您在托管解决方案中寻找的。</p><h2 id="b1c4" class="lc ld iq bd le lf lg dn lh li lj dp lk jy ll lm ln kc lo lp lq kg lr ls lt lu bi translated">有哪些可以改进的地方</h2><p id="2a6a" class="pw-post-body-paragraph jn jo iq jp b jq lv js jt ju lw jw jx jy lx ka kb kc ly ke kf kg lz ki kj kk ij bi translated">Cloud Composer 运行<strong class="jp ir"> Python 2.7 </strong>。至少应该有一个运行 Python 3.6 的选项——老实说，我希望它是默认选项。</p><p id="825b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">仍然有一些<strong class="jp ir">错误</strong>需要解决——毕竟，这是一个测试版。例如，当我试图清除一个任务时，我得到了这个屏幕:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mb"><img src="../Images/08374724ca49acee5772d496bd096ebb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uvXMkO3lQPX0Epi0VeyFeA.png"/></div></div><figcaption class="ky kz gj gh gi la lb bd b be z dk">TypeError: can’t pickle thread.lock objects</figcaption></figure><p id="72c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">定价</strong>可以更加透明。运行 Cloud Composer 3 天后，我收到了一张€25 英镑的账单，所以假设这是线性的，我大概每月支付€250 英镑。这与谷歌云提供的<a class="ae kl" href="https://cloud.google.com/composer/pricing#pricing_example" rel="noopener ugc nofollow" target="_blank">定价示例</a>非常一致(注意，他们在示例中假设使用率为 25%)。</p><p id="3a7e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">老实说，如果你的初创公司需要气流，并且你的内部没有很多 DevOps 人员，这是非常有价值的。但是，如果你的业余爱好项目主要着眼于气流，这可能太贵了。</p><p id="58aa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你正在寻找另一个气流托管解决方案，在那里你可以获得更多的实践支持和培训，<a class="ae kl" href="https://www.astronomer.io/airflow/" rel="noopener ugc nofollow" target="_blank">天文学家</a>可能是一个不错的选择。</p><p id="60e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="mc">您的气流设置是什么样的？请在下面的评论栏告诉我。</em></p></div></div>    
</body>
</html>