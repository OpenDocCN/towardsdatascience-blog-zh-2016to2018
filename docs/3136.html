<html>
<head>
<title>How I used Natural Language Processing to extract context from news headlines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何使用自然语言处理从新闻标题中提取上下文</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-i-used-natural-language-processing-to-extract-context-from-news-headlines-df2cf5181ca6?source=collection_archive---------4-----------------------#2018-04-12">https://towardsdatascience.com/how-i-used-natural-language-processing-to-extract-context-from-news-headlines-df2cf5181ca6?source=collection_archive---------4-----------------------#2018-04-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="fe3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我在ka ggle(<a class="ae kl" href="https://www.kaggle.com/therohk/india-headlines-news-dataset" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/therohk/india-headlines-news-dataset</a>)偶然发现了一个非常惊人的数据集。这是一个难得的机会，你可以看到印度背景下的数据。这个数据是在一份名为《印度时报》的印度全国性日报上发表的大约250万条新闻标题。我想，如果我能分析这些数据并从这些数据中提取一些见解，那就太好了。因此，在一个晴朗的夜晚，我决定通宵从超过250万条新闻标题中搜集任何有趣的东西</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi km"><img src="../Images/11955ee0b714ec6028fe3a34d33cefeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/1*_f62vKGAlE8gjtHXlijXrA.gif"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Searching for insights!!!!</figcaption></figure><h2 id="2d71" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated">第1部分:了解数据</h2><p id="fcf4" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">所以，我开始探索这个数据集。如果你有大量的文本，你想知道数据中存在什么样的趋势，你会怎么做？你从简单的词频开始！！！最后，我计算了最常见的单字母词、双字母词和三字母词，发现了一些真知灼见。下面是一个非常简单的记号频率的例子</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi lw"><img src="../Images/413b1ab6e872f3eadb993c4aef8b82e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YJyvbh5-5PFw4tq2BYkRqA.png"/></div></div></figure><h2 id="d7b8" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak">第二部:碰壁</strong></h2><p id="d4ec" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">从这个图像中，我可以很容易地看出沙鲁克·汗吸引了大量的头条新闻，而BJP作为一个政治团体设法与宝莱坞明星一起保持其显著的地位！！！！！到目前为止一切顺利。这是我的分析将要撞上<strong class="jp ir">砖墙</strong>的时候。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/8188f583a502ce65a334413b28e992fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*X06MuN2VvJvImuPAjmZi9g.gif"/></div></figure><p id="8e0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我想，为什么不继续从不同的角度来创造频率图呢？因此，我认为，如果我能绘制出多年来常见二元符号的频率图，那将是一个好主意？本质上，我想找出2001年(这是有数据的第一年)最频繁的二元模型标记，然后找出2002年最频繁的二元模型标记，最后找出2001年和2002年常见的频繁标记。并继续累积这些代币。这是我结尾的情节:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mc"><img src="../Images/bcd1deb181a36f3b3b72cfde35f486b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wuf_kwOR5FtnpiahrHtI2w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Problem Plot !!!</figcaption></figure><p id="aa7c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里可以看到历年来最频繁最常见的重名是<strong class="jp ir"><em class="md">‘岁’</em></strong>。但这意味着什么呢？它是在什么背景下使用的？可悲的是，频率图只能带我们到这里。他们大多<strong class="jp ir">没有告知</strong>关于<strong class="jp ir">的上下文。这是我的砖墙！有一会儿，我想，现在是凌晨2点，让我去睡觉吧！！！！</strong></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi me"><img src="../Images/fd6ce85d926ad325b3f7a36e7ea99729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*DYLPdMKKATuPC5kx01uRGg.gif"/></div></figure><p id="52df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后我想起了兰迪·波许</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mf"><img src="../Images/d6d7544ac1d0d55c43b3e5cb9589611f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QPvam0u8Fc2zHuH-Kk5qzg.jpeg"/></div></div></figure><p id="f782" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以，我继续努力…最终我明白了…</p><h2 id="e071" class="ky kz iq bd la lb lc dn ld le lf dp lg jy lh li lj kc lk ll lm kg ln lo lp lq bi translated"><strong class="ak">第三部分:爬砖墙</strong></h2><p id="8f20" class="pw-post-body-paragraph jn jo iq jp b jq lr js jt ju ls jw jx jy lt ka kb kc lu ke kf kg lv ki kj kk ij bi translated">我不会撒谎，我想我睡了一会儿，梦见了我在高中的语法课。在给定的句子中，名词、动词或形容词传达了什么样的信息？报纸标题不是句子吗？</p><p id="4a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我接下来需要做的就是过滤掉所有出现单词“<strong class="jp ir"> <em class="md">岁</em> </strong>”的标题，然后找出哪些名词和动词与这个单词同时出现。但是你是怎么做到的呢？实现这一点的方法是为每个句子创建一个词性树。词性标注是一种标准的自然语言处理技术。所有的NLP实现都有这个特性。我选择了spacy，这是我必须写的一小段代码:</p><pre class="kn ko kp kq gt mg mh mi mj aw mk bi"><span id="140a" class="ky kz iq mh b gy ml mm l mn mo">index=data['headline_text'].str.match(r'(?=.*\byear\b)(?=.*\bold\b).*$')<br/>texts=data['headline_text'].loc[index].tolist()<br/>noun=[]<br/>verb=[]<br/>for doc <strong class="mh ir">in</strong> nlp.pipe(texts,n_threads=16,batch_size=10000):<br/>    try:<br/>        for c <strong class="mh ir">in</strong> doc:<br/>            if c.pos_=="NOUN":<br/>                noun.append(c.text)<br/>            elif c.pos_=="VERB":<br/>                verb.append(c.text)            <br/>    except:<br/>        noun.append("")<br/>        verb.append("")<br/>plt.subplot(1,2,1)<br/>pd.Series(noun).value_counts().head(10).plot(kind="bar",figsize=(20,5))<br/>plt.title("Top 10 Nouns in context of 'Year Old'",fontsize=30)<br/>plt.xticks(size=20,rotation=80)<br/>plt.yticks([])<br/>plt.subplot(1,2,2)<br/>pd.Series(verb).value_counts().head(10).plot(kind="bar",figsize=(20,5))<br/><br/>plt.title("Top 10 Verbs in context of 'Year Old'",fontsize=30)<br/>plt.xticks(size=20,rotation=80)<br/>plt.yticks([]</span></pre><p id="b608" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要创建此图:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="lx ly di lz bf ma"><div class="gh gi mp"><img src="../Images/f3aecb41616053ee3aa4de1d65647742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBrXtDyNsTsOL3kLMlEUuQ.png"/></div></div></figure><p id="f0e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看哪！！！我有与token“岁”相关联的上下文。这个符号被用在报道暴力行为/犯罪的新闻标题中，这些暴力行为/犯罪也大多是针对妇女的。</p><p id="21a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了确保我的结论是正确的，我查看了实际的新闻标题，其中提到了“<strong class="jp ir">岁”</strong>，这是我看到的-</p><pre class="kn ko kp kq gt mg mh mi mj aw mk bi"><span id="16ec" class="ky kz iq mh b gy ml mm l mn mo">['10-year-old girl missing',<br/> 'Relative kills 9-year-old',<br/> '59-year-old widow murdered',<br/> 'Spunky 60-year-old woman prevents burglary',<br/> "75-year-old woman done to death in B'lore",<br/> 'Encroachments threaten 900-year-old temple',<br/> '3 nabbed for 5-year-old robbery',<br/> '25-year-old man electrocuted',<br/> '5-year-old boy run over',<br/> 'Killers of 88-year-old woman arrested',<br/> '21-year-old held in theft case',<br/> "60-year-old gets two years' RI for rape attempt",<br/> 'STRAIGHT ANSWERSBRSwati Aneja 13 year old schoolgirl on what I Day means to her',<br/> 'Robbers stab 9-year-old',<br/> "Eight year old's brush with 'commissions'",<br/> 'By Ganesha; what 81-year-old Deryck does BEST',<br/> 'Six-year-old girl raped; murdered',<br/> 'FBI woos 16-year-old indian author',<br/> 'Six-year old raped murdered in Patiala cantonment',<br/> 'FBI woos 16-year-old Indian author']</span></pre><p id="d507" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">唷！！！那是一些工作。我继续研究这个数据集，寻找更多这样的故事。你可以在这个<strong class="jp ir"> Kaggle内核</strong><a class="ae kl" href="https://www.kaggle.com/gunnvant/what-india-talks-about-a-visual-essay" rel="noopener ugc nofollow" target="_blank"><strong class="jp ir">https://www . ka ggle . com/gunvant/what-India-talks-about-a-visual-essay</strong></a>上查看我正在进行的工作</p><p id="84b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你喜欢这篇文章，别忘了鼓掌。另外，如果你在Kaggle上，如果你能投票支持我的内核就太好了</p></div></div>    
</body>
</html>