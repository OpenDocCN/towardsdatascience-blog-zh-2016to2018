<html>
<head>
<title>Where do Mayors Come From?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">市长从哪里来？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/where-do-mayors-come-from-querying-wikidata-with-python-and-sparql-91f3c0af22e2?source=collection_archive---------12-----------------------#2018-12-04">https://towardsdatascience.com/where-do-mayors-come-from-querying-wikidata-with-python-and-sparql-91f3c0af22e2?source=collection_archive---------12-----------------------#2018-12-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4186" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用 Python 和 SPARQL 查询 Wikidata</h2></div><p id="d2bb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">想象一下，你想要一个画家的儿子的列表，或者你想知道哪个市长出生在最遥远的地方。用 SPARQL 在 Wikidata 上进行简单的查询，就可以完成大量繁琐的研究工作。在本文中，通过了解欧洲市长的出生地，您将看到如何使用 Python 和 SPARQL 为 Wikidata 构建查询。</p><p id="f4f7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这篇文章和<a class="ae le" href="https://janakiev.com/wikidata-mayors/" rel="noopener ugc nofollow" target="_blank">交互可视化</a>的所有代码都可以在这个<a class="ae le" href="https://github.com/njanakiev/wikidata-mayors" rel="noopener ugc nofollow" target="_blank">库</a>中找到。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/a929481b5957b2a0398724aed135547c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ml_7QfcL9oqzAcAbSWqxIA.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk"><a class="ae le" href="https://janakiev.com/wikidata-mayors/" rel="noopener ugc nofollow" target="_blank">Where do Mayors Come From?</a></figcaption></figure><p id="97e7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae le" href="https://www.wikidata.org/" rel="noopener ugc nofollow" target="_blank"> Wikidata </a>是一个免费的协作式<a class="ae le" href="https://en.wikipedia.org/wiki/Linked_data" rel="noopener ugc nofollow" target="_blank">链接开放数据(LOD) </a>知识库，可以由人类和机器编辑。该项目始于 2012 年，由维基媒体基金会发起，旨在集中维基链接、信息框和丰富的查询。它雄心勃勃的目标是以机器可读的方式构建整个人类知识，这很好地体现了蒂姆·伯纳斯·李在 2009 年 TED 演讲中的愿景。令人惊讶的是，<a class="ae le" href="https://en.wikipedia.org/wiki/Semantic_Web" rel="noopener ugc nofollow" target="_blank">语义网</a>的想法在 2001 年就已经存在了，它是由关联数据组成的。在维基数据之前有很多项目。有<a class="ae le" href="https://en.wikipedia.org/wiki/DBpedia" rel="noopener ugc nofollow" target="_blank"> DBpedia </a>基于维基百科中的信息框，<a class="ae le" href="https://en.wikipedia.org/wiki/FOAF_(ontology)" rel="noopener ugc nofollow" target="_blank">朋友的朋友(FOAF) </a>这是一个描述社交网络中关系的本体，<a class="ae le" href="https://en.wikipedia.org/wiki/GeoNames" rel="noopener ugc nofollow" target="_blank"> GeoNames </a>提供了一个带有地理名称的数据库，<a class="ae le" href="https://en.wikipedia.org/wiki/UMBEL" rel="noopener ugc nofollow" target="_blank">上层映射和绑定交换层(UMBEL) </a>这是一个概念和实体的知识图以及一整套其他项目，但维基数据似乎是它们之间最雄心勃勃的项目。</p><p id="c81c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它的工作方式类似于维基百科，它是建立在贡献者的工作之上的。那里的所有数据都是免费的(在<a class="ae le" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank"> CC0 1.0 </a>下，也就是公共领域)，任何人都可以编辑和贡献。在大多数(如果不是全部)维基百科页面上，有一个<em class="lv">维基数据条目</em>链接到它在维基数据中的对应条目，在那里你可以找到列出的链接信息。请注意，您仍然可以找到漏洞，但由于这是一个社区的努力，随着时间的推移，随着每一次贡献，这将变得越来越好。要访问结构化数据，您可以使用它的<a class="ae le" href="https://query.wikidata.org/" rel="noopener ugc nofollow" target="_blank"> SPARQL 端点</a>来查询 Wikidata，这使您能够运行高级查询，或者使用它的<a class="ae le" href="https://www.wikidata.org/w/api.php" rel="noopener ugc nofollow" target="_blank"> REST API </a>。</p><p id="7019" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但是你可能会问，那些维基数据是什么？在这个图表中，您可以看到一个 Wikidata 条目的结构。他们每个人都有一个<a class="ae le" href="https://www.wikidata.org/wiki/Help:Statements" rel="noopener ugc nofollow" target="_blank">语句</a>的列表，是以<code class="fe lw lx ly lz b">SUBJECT</code> - <code class="fe lw lx ly lz b">PREDICATE</code> - <code class="fe lw lx ly lz b">OBJECT</code>形式的三元组(例如<em class="lv">道格拉斯·亚当斯</em>在<em class="lv">圣约翰学院</em>受<em class="lv">教育)。在维基数据中，主语指的是一个<a class="ae le" href="https://www.wikidata.org/wiki/Help:Items" rel="noopener ugc nofollow" target="_blank">项</a>，谓语指的是<a class="ae le" href="https://www.wikidata.org/wiki/Help:Properties" rel="noopener ugc nofollow" target="_blank">属性</a>。每个属性都有一个值，可以是项目、文本、数字、日期或 GPS 坐标等。每个值可以有额外的<a class="ae le" href="https://www.wikidata.org/wiki/Help:Qualifiers" rel="noopener ugc nofollow" target="_blank">限定符</a>，这些限定符具有其他属性-值对的额外信息，比如开始时间。当您开始用 SPARQL 表达查询时，这种结构将非常重要。</em></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ma"><img src="../Images/0028db553855e22691d72f65e44a44bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ae7EhWRYU3xIxCjK7z751A.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Image from <a class="ae le" href="https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Qualifiers,_References_and_Ranks" rel="noopener ugc nofollow" target="_blank">SPARQL/WIKIDATA Qualifiers, References and Ranks</a></figcaption></figure><h1 id="d979" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">SPARQL 简介</h1><p id="be62" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">SPARQL？这是另一个 SQL 派生吗？因为您处理的是链接数据，而不是通常的关系数据，所以您需要一种不同的方法来查询数据库(也称为 triplestore)，但它非常相似，使用起来也非常简单。SPARQL 是一种查询语言，用于检索存储为<a class="ae le" href="https://en.wikipedia.org/wiki/Resource_Description_Framework" rel="noopener ugc nofollow" target="_blank"> RDF </a>(资源描述框架)的数据，它由 W3C 标准化。它是一种强大的查询链接数据的语言，已经被 Wikidata 选用。语法类似于 SQL，但是对于接受过 SQL 培训的人来说有一些不同。一个关键的区别是，在 SQL 中，您倾向于避免使用<code class="fe lw lx ly lz b">JOIN</code>子句，因为它们会降低查询速度，但是在 SPARQL 中，查询主要由连接组成。但是坚持住，让我们来看看这样一个查询。在本例中，我们希望列出欧盟的所有国家:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="407b" class="nc mc it lz b gy nd ne l nf ng">SELECT ?country ?countryLabel WHERE {<br/>  ?country wdt:P463 wd:Q458.<br/>  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }<br/>}</span></pre><p id="bee1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以自己尝试这个查询<a class="ae le" href="https://query.wikidata.org/#SELECT%20%3Fcountry%20%3FcountryLabel%20WHERE%20%7B%0A%20%20%3Fcountry%20wdt%3AP463%20wd%3AQ458.%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%0A%20%20%7D%0A%7D" rel="noopener ugc nofollow" target="_blank">这里</a>。请注意，您可以在<a class="ae le" href="https://query.wikidata.org/" rel="noopener ugc nofollow" target="_blank">https://query.wikidata.org/</a>测试每个查询。那里的编辑器提供了一些有用的特性。如果您将鼠标悬停在编辑器中的属性和项目上，您将获得关于它们的信息，编辑器还提供了自动完成功能。你还会发现一系列例子，这些例子在你重新开始时非常有用。好了，继续。</p><p id="bcf4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从<code class="fe lw lx ly lz b">SELECT</code>子句开始，定义想要获取的变量(变量以问号为前缀)。在<code class="fe lw lx ly lz b">WHERE</code>子句中，您设置了一些限制，这些限制大多采用您之前看到的三元组的形式。语句<code class="fe lw lx ly lz b">?country wdt:P463 wd:Q458.</code>将对象为<a class="ae le" href="https://www.wikidata.org/wiki/Q458" rel="noopener ugc nofollow" target="_blank">欧盟(Q458) </a>的属性为<a class="ae le" href="https://www.wikidata.org/wiki/Property:P463" rel="noopener ugc nofollow" target="_blank">成员(P463) </a>的所有项目收集到变量<code class="fe lw lx ly lz b">country</code>中。如您所见，这些声明读起来像一个句子(该国是欧盟成员国)。您还会注意到前缀<code class="fe lw lx ly lz b">wd:</code>和<code class="fe lw lx ly lz b">wdt:</code>被认为是 SPARQL 中的快捷缩写(您可以在这里找到内置前缀列表<a class="ae le" href="https://en.wikibooks.org/wiki/SPARQL/Prefixes" rel="noopener ugc nofollow" target="_blank">)。这些用<code class="fe lw lx ly lz b">wd:</code>表示项目，用<code class="fe lw lx ly lz b">wdt:</code>表示属性。在本教程的后面，当您更深入地了解 SPARQL 数据表示时，我们将讨论更复杂的前缀。</a></p><p id="032b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，您将看到查询中令人困惑的部分<code class="fe lw lx ly lz b">SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }</code>。这个代码片段负责将收集到的项目的标签检索到一个附加变量中，该变量带有指定语言(在本例中为英语)的后缀<code class="fe lw lx ly lz b">Label</code>。在这个查询中，这将是存储<code class="fe lw lx ly lz b">country</code>变量标签的<code class="fe lw lx ly lz b">countryLabel</code>变量。请注意，仅检索具有所选特定语言标签的项目的标签(在本例中<code class="fe lw lx ly lz b">"en"</code>为英语)，因为可能存在未翻译成该特定语言的项目。</p><p id="93dc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有趣的补充说明:当运行查询时，您会注意到欧洲国家列表中的<a class="ae le" href="https://en.wikipedia.org/wiki/Kingdom_of_the_Netherlands" rel="noopener ugc nofollow" target="_blank">荷兰王国</a>和维基百科条目<a class="ae le" href="https://www.wikidata.org/wiki/Q29999" rel="noopener ugc nofollow" target="_blank"> Q29999 </a>。令人惊讶的是，<a class="ae le" href="https://en.wikipedia.org/wiki/Netherlands" rel="noopener ugc nofollow" target="_blank">荷兰</a> ( <a class="ae le" href="https://www.wikidata.org/wiki/Q55" rel="noopener ugc nofollow" target="_blank"> Q55 </a>)是荷兰王国的组成国，但不是国家。这类似于英格兰是联合王国的一部分。如果你感到困惑，这个视频可以很好地解释这种情况。</p><h1 id="fc18" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">高级查询</h1><p id="de32" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">现在让我们探索一下我们所选择的国家的其他属性。如果你看一下<a class="ae le" href="https://www.wikidata.org/wiki/Q183" rel="noopener ugc nofollow" target="_blank">德国(Q183) </a>，那么你可以看到一大堆属性，比如<a class="ae le" href="https://www.wikidata.org/wiki/Property:P1082" rel="noopener ugc nofollow" target="_blank">人口(P1082) </a>，<a class="ae le" href="https://www.wikidata.org/wiki/Property:P3529" rel="noopener ugc nofollow" target="_blank">收入中位数(P3529) </a>，甚至是带有<a class="ae le" href="https://www.wikidata.org/wiki/Property:P18" rel="noopener ugc nofollow" target="_blank">图像(P18) </a>属性的图像。SPARQL 也使我们能够检索这些内容，这将我们引向下一个查询:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="6ce6" class="nc mc it lz b gy nd ne l nf ng">SELECT <br/>  ?country ?countryLabel ?population ?area ?medianIncome<br/>WHERE {<br/>  ?country wdt:P463 wd:Q458.<br/>  ?country wdt:P1082 ?population.<br/>  ?country wdt:P2046 ?area.<br/>  ?country wdt:P3529 ?medianIncome.<br/>  <br/>  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }<br/>}</span></pre><p id="d929" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以试试这个查询<a class="ae le" href="https://query.wikidata.org/#SELECT%20%0A%20%20%3Fcountry%20%3FcountryLabel%20%0A%20%20%3Fcapital%20%3FcapitalLabel%0A%20%20%3Fpopulation%20%3Farea%20%3FmedianIncome%0AWHERE%20%7B%0A%20%20%3Fcountry%20wdt%3AP463%20wd%3AQ458.%0A%20%20%3Fcountry%20wdt%3AP36%20%3Fcapital.%0A%20%20%3Fcountry%20wdt%3AP1082%20%3Fpopulation.%0A%20%20%3Fcountry%20wdt%3AP2046%20%3Farea.%0A%20%20%3Fcountry%20wdt%3AP3529%20%3FmedianIncome.%0A%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22.%20%7D%0A%7D" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="b0fa" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还记得我们说过 SPARQL 主要由连接组成吗？你可以看到，每个语句都是这样一个连接，增加了更多的链接。尝试这个查询后，您会注意到国家列表变短了。这是因为查询忽略了没有人口、面积或中值收入作为属性的每个国家项目。您可以将这些三元组想象成一个过滤器，限制只匹配这个查询的三元组。我们可以添加<code class="fe lw lx ly lz b">OPTIONAL</code>子句，如果查询在该子句中找不到三元组，该子句会将这些变量留空:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="7eb1" class="nc mc it lz b gy nd ne l nf ng">SELECT <br/>  ?country ?countryLabel ?population ?area ?medianIncome<br/>WHERE {<br/>  ?country wdt:P463 wd:Q458.<br/>  OPTIONAL { ?country wdt:P1082 ?population }<br/>  OPTIONAL { ?country wdt:P2046 ?area }<br/>  OPTIONAL { ?country wdt:P3529 ?medianIncome }<br/>    <br/>  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }<br/>}</span></pre><p id="508c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以试试这个查询<a class="ae le" href="https://query.wikidata.org/#SELECT%20%0A%20%20%3Fcountry%20%3FcountryLabel%20%0A%20%20%3Fcapital%20%3FcapitalLabel%0A%20%20%3Fpopulation%20%3Farea%20%3FmedianIncome%0AWHERE%20%7B%0A%20%20%3Fcountry%20wdt%3AP463%20wd%3AQ458.%0A%20%20%3Fcountry%20wdt%3AP36%20%3Fcapital.%0A%20%20%20%20%0A%20%20OPTIONAL%20%7B%20%3Fcountry%20wdt%3AP1082%20%3Fpopulation%20%7D%0A%20%20OPTIONAL%20%7B%20%3Fcountry%20wdt%3AP2046%20%3Farea%20%7D%0A%20%20OPTIONAL%20%7B%20%3Fcountry%20wdt%3AP3529%20%3FmedianIncome%20%7D%0A%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22.%20%7D%0A%7D" rel="noopener ugc nofollow" target="_blank">这里</a>。现在，您可以在表格中看到，您将再次找到所有国家/地区的更多附加信息:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nh"><img src="../Images/e4e56caf611489675edd0a3660590004.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APsXSpJnO7LUSwOeQ0GX1w.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Query Result for all countries</figcaption></figure><h1 id="ac13" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">SPARQL 数据表示</h1><p id="5cfb" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">我们用一个更复杂的查询继续我们的旅程，我们将一步一步地解开它。我们的目标是现在得到所有国家，首都，人口，市长，他的生日，最后是他的出生地。结果查询如下所示:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="a0a7" class="nc mc it lz b gy nd ne l nf ng">SELECT DISTINCT <br/>  ?country ?countryLabel ?capital ?capitalLabel ?population <br/>  ?mayor ?mayorLabel ?birth_place ?birth_placeLabel ?birth_date ?age<br/>WHERE {<br/>  # Get all european countries, their capitals and the population of the capital<br/>  ?country wdt:P463 wd:Q458.<br/>  ?country wdt:P36 ?capital.<br/>  OPTIONAL { ?capital wdt:P1082 ?population. }<br/>  <br/>  # Get all mayors without an end date<br/>  ?capital p:P6 ?statement.<br/>  ?statement ps:P6 ?mayor.<br/>  FILTER NOT EXISTS { ?statement pq:P582 ?end_date }<br/>  <br/>  # Get birth place, birth date and age of mayor<br/>  ?mayor wdt:P19 ?birth_place.<br/>  ?mayor wdt:P569 ?birth_date.<br/>  BIND(year(now()) - year(?birth_date) AS ?age)<br/>  <br/>  SERVICE wikibase:label { <br/>    bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". <br/>  }<br/>}</span></pre><p id="6d7e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以试试这个查询<a class="ae le" href="https://query.wikidata.org/#SELECT%20DISTINCT%20%0A%20%20%3Fcountry%20%3FcountryLabel%20%3Fcapital%20%3FcapitalLabel%20%3Fpopulation%20%0A%20%20%3Fmayor%20%3FmayorLabel%20%3Fbirth_place%20%3Fbirth_placeLabel%20%3Fbirth_date%20%3Fage%0AWHERE%20%7B%0A%20%20%3Fcountry%20wdt%3AP463%20wd%3AQ458.%0A%20%20%3Fcountry%20wdt%3AP36%20%3Fcapital.%0A%20%20OPTIONAL%20%7B%20%3Fcapital%20wdt%3AP1082%20%3Fpopulation.%20%7D%0A%20%20%0A%20%20%3Fcapital%20p%3AP6%20%3Fstatement.%0A%20%20%3Fstatement%20ps%3AP6%20%3Fmayor.%0A%20%20FILTER%20NOT%20EXISTS%20%7B%20%3Fstatement%20pq%3AP582%20%3Fend_date%20%7D%0A%20%20%20%20%0A%20%20%3Fmayor%20wdt%3AP19%20%3Fbirth_place.%0A%20%20%3Fmayor%20wdt%3AP569%20%3Fbirth_date.%0A%20%20BIND%28year%28now%28%29%29%20-%20year%28%3Fbirth_date%29%20AS%20%3Fage%29%0A%20%20%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%0A%20%20%7D%0A%7D" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="08e1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们解开这里发生的事情。首先，你首先通过<a class="ae le" href="https://www.wikidata.org/wiki/Property:P36" rel="noopener ugc nofollow" target="_blank">首都(P36) </a>属性获得这个国家的首都。接下来，你进入一个更复杂的部分。要理解如何访问市长，您必须查看下图中的 SPARQL 数据表示:</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ni"><img src="../Images/d93dc492f298c73f1402d692213d5d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FibcaKbsHc09KCqrfy7P3A.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Image from <a class="ae le" href="https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Qualifiers,_References_and_Ranks" rel="noopener ugc nofollow" target="_blank">SPARQL/WIKIDATA Qualifiers, References and Ranks</a></figcaption></figure><p id="8603" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这看起来确实令人困惑，但是不要放弃。你只需要专注于你需要的数据。这个数据表示图展示了使用 SPARQL 从一个条目开始遍历它以获得各种信息的方法(在图中显示为<code class="fe lw lx ly lz b">wd:Q1234</code>)。您可以在左侧看到我们在前面的三元组中使用的经典路径，它使用了前缀<code class="fe lw lx ly lz b">wdt:</code>,导致的值可以是另一个项目、一个数值(例如，在前面的一个查询中的人口)或各种其他数据类型。</p><p id="66c5" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你看一下像<a class="ae le" href="https://www.wikidata.org/wiki/Q220" rel="noopener ugc nofollow" target="_blank">罗马(Q220) </a>这样的项目，你会注意到对于<a class="ae le" href="https://www.wikidata.org/wiki/Property:P6" rel="noopener ugc nofollow" target="_blank">政府首脑(P6) </a>有各种各样的说法。你想要一个没有结束日期的。您可以通过遍历带有<code class="fe lw lx ly lz b">p:</code>前缀的语句节点并将其存储在<code class="fe lw lx ly lz b">statement</code>变量中来实现这一点。从这个变量中，您可以得到带有<code class="fe lw lx ly lz b">ps:</code>前缀的市长。你本可以用<code class="fe lw lx ly lz b">wdt:</code>做到这一点，因为你已经学会了，但你想更进一步。您希望到达作为限定符存储在语句中的<a class="ae le" href="https://www.wikidata.org/wiki/Property:P582" rel="noopener ugc nofollow" target="_blank">结束时间(P582) </a>。您可以遍历带有前缀<code class="fe lw lx ly lz b">pq:</code>的限定符，这将给出结束日期，但是您想要没有结束日期的市长。这可以通过使用<code class="fe lw lx ly lz b">FILTER NOT EXISTS</code>子句来完成，该子句排除了所有具有结束日期的语句节点的三元组。</p><p id="4071" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在最后一部分，您收集市长的出生地、出生日期和年龄。为了计算他的年龄，可以使用<code class="fe lw lx ly lz b">BIND</code>表达式。这个表达式可以用来将一些表达式绑定到一个变量(在我们的例子中是年龄变量)。对于这个表达式，我们用当前年份减去出生日期的年份。这个查询到此结束。您可以在<a class="ae le" href="https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Qualifiers,_References_and_Ranks" rel="noopener ugc nofollow" target="_blank"> SPARQL/WIKIDATA 限定符、引用和等级</a>中更深入地挖掘，它更详细地描述了数据表示。请确保对这个查询稍加研究，以便更好地理解它，因为它确实涵盖了各种各样的主题。</p><h1 id="5b59" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">用 Python 检索 SPARQL 查询</h1><p id="c0c9" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">您已经了解了如何使用 SPARQL，也可以在编辑器中下载结果表，但是如何自动化整个过程呢？您还可以使用 Python 访问 Wikidata SPARQL 端点，这使您能够直接加载和分析您查询的数据。为此，您将使用出色的<a class="ae le" href="http://docs.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank">请求</a>模块，该模块通过其所有必要的工具在处理 HTTP 请求方面表现出色。您可以通过添加查询作为参数来创建请求，如下所示。</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="872e" class="nc mc it lz b gy nd ne l nf ng">import requests</span><span id="47fb" class="nc mc it lz b gy nj ne l nf ng">url = 'https://query.wikidata.org/sparql'<br/>query = """<br/>SELECT <br/>  ?countryLabel ?population ?area ?medianIncome ?age<br/>WHERE {<br/>  ?country wdt:P463 wd:Q458.<br/>  OPTIONAL { ?country wdt:P1082 ?population }<br/>  OPTIONAL { ?country wdt:P2046 ?area }<br/>  OPTIONAL { ?country wdt:P3529 ?medianIncome }<br/>  OPTIONAL { ?country wdt:P571 ?inception. <br/>    BIND(year(now()) - year(?inception) AS ?age)<br/>  }<br/>  SERVICE wikibase:label { bd:serviceParam wikibase:language "en". }<br/>}<br/>"""<br/>r = requests.get(url, params = {'format': 'json', 'query': query})<br/>data = r.json()</span></pre><p id="9807" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您已经将查询打包到了<code class="fe lw lx ly lz b">query</code>变量中，并且需要额外提供带有 SPARQL 端点 URL 的请求，该 URL 是<a class="ae le" href="https://query.wikidata.org/sparql" rel="noopener ugc nofollow" target="_blank">https://query.wikidata.org/sparql</a>。默认情况下，这将返回一个 XML，但是如果您想使用 JSON 作为输出文件，您也可以将它添加到您的请求中。除了 XML 和 JSON，API 还支持 TSV、CSV 和二进制 RDF。这个请求返回一个 JSON，其中包含从查询中收集的所有行，您可以使用这个 JSON 将这些行收集到一个包含以下代码片段的<a class="ae le" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank"> Pandas </a> DataFrame 中:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="a2ef" class="nc mc it lz b gy nd ne l nf ng">import pandas as pd<br/>from collections import OrderedDict</span><span id="63c5" class="nc mc it lz b gy nj ne l nf ng">countries = []<br/>for item in data['results']['bindings']:<br/>    countries.append(OrderedDict({<br/>        'country': item['countryLabel']['value'],<br/>        'population': item['population']['value'],<br/>        'area': item['area']['value'] <br/>            if 'area' in item else None,<br/>        'medianIncome': item['medianIncome']['value'] <br/>            if 'medianIncome' in item else None,<br/>        'age': item['age']['value'] <br/>            if 'age' in item else None}))</span><span id="8bce" class="nc mc it lz b gy nj ne l nf ng">df = pd.DataFrame(countries)<br/>df.set_index('country', inplace=True)<br/>df = df.astype({'population': float, 'area': float, 'medianIncome': float, 'age': float})<br/>df.head()</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nk"><img src="../Images/0ca747493566a8b6142370dd224175af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ABZ06eQC36uTQzSfJ0QTA.png"/></div></div></figure><p id="bc01" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们直观地研究收集的数据，并比较每个国家的各种属性:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="b91c" class="nc mc it lz b gy nd ne l nf ng">%matplotlib inline<br/>import matplotlib.pyplot as plt<br/>plt.style.use('ggplot')</span><span id="89c7" class="nc mc it lz b gy nj ne l nf ng">plt.figure(figsize=(16, 12))<br/>for i, label in enumerate(['population', 'medianIncome', 'area', 'age']):<br/>    plt.subplot(2, 2, i + 1)<br/>    df_plot = df[label].sort_values().dropna()<br/>    df_plot.plot(kind='barh', color='C0', ax=plt.gca());<br/>    plt.ylabel('')<br/>    plt.xticks(rotation=30)<br/>    plt.title(label.capitalize())<br/>    plt.ticklabel_format(style='plain', axis='x')<br/>plt.tight_layout()</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nl"><img src="../Images/2210cce2ebb6f4acc12b2841eb016a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcYpHtSqAVk-u6ZeCkghag.png"/></div></div></figure><p id="4682" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">太好了！现在让我们继续更高级的查询。</p><h1 id="bdf4" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">欧洲各国首都的市长</h1><p id="d4e9" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">在我们最后的查询中，通过将坐标添加到查询中，您将看到市长出生的地方。为了获得经纬度坐标作为变量，需要添加以下语句:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="1658" class="nc mc it lz b gy nd ne l nf ng">?capital p:P625/psv:P625 ?capital_node.<br/>?capital_node wikibase:geoLatitude ?capital_lat.<br/>?capital_node wikibase:geoLongitude ?capital_lon.</span></pre><p id="dc53" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第一行中，您遍历前面显示的数据表示图。<code class="fe lw lx ly lz b">p:P625/psv:P625</code>中的斜线表示您继续到<a class="ae le" href="https://www.wikidata.org/wiki/Property:P625" rel="noopener ugc nofollow" target="_blank">坐标位置(P625) </a>的<em class="lv">值节点</em>，而没有为<em class="lv">语句节点</em>使用单独的变量。然后，<code class="fe lw lx ly lz b">wikibase:geoLatitude</code>和<code class="fe lw lx ly lz b">wikibase:geoLongitude</code>分别负责从<em class="lv">值节点</em>中检索经纬度。欲了解更多信息，请查看关于<a class="ae le" href="https://en.wikibooks.org/wiki/SPARQL/WIKIDATA_Precision,_Units_and_Coordinates" rel="noopener ugc nofollow" target="_blank">精度、单位和坐标</a>的文档。您将使用请求库向 SPARQL 端点发送查询:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="1438" class="nc mc it lz b gy nd ne l nf ng">url = 'https://query.wikidata.org/sparql'<br/>query="""<br/>SELECT DISTINCT <br/>  ?countryLabel ?capitalLabel ?population ?capital_lon ?capital_lat<br/>  ?mayorLabel ?birth_date ?age ?birth_place ?birth_placeLabel ?birth_place_lon ?birth_place_lat<br/>WHERE {<br/>  ?country wdt:P463 wd:Q458.<br/>  ?country wdt:P36 ?capital.<br/>  OPTIONAL { ?capital wdt:P1082 ?population. }<br/>  <br/>  # Get latitude longitude coordinates of capital<br/>  ?capital p:P625/psv:P625 ?capital_node.<br/>  ?capital_node wikibase:geoLatitude ?capital_lat.<br/>  ?capital_node wikibase:geoLongitude ?capital_lon.</span><span id="f245" class="nc mc it lz b gy nj ne l nf ng">  ?capital p:P6 ?statement.<br/>  ?statement ps:P6 ?mayor.<br/>  FILTER NOT EXISTS { ?statement pq:P582 ?end_date }</span><span id="3320" class="nc mc it lz b gy nj ne l nf ng">  ?mayor wdt:P569 ?birth_date.<br/>  BIND(year(now()) - year(?birth_date) AS ?age)<br/>  ?mayor wdt:P19 ?birth_place.<br/>  ?birth_place wdt:P625 ?birth_place_coordinates.<br/>  <br/>  # Get latitude longitude coordinates of birth place<br/>  ?birth_place p:P625/psv:P625 ?birth_place_node.<br/>  ?birth_place_node wikibase:geoLatitude ?birth_place_lat.<br/>  ?birth_place_node wikibase:geoLongitude ?birth_place_lon.<br/>  <br/>  SERVICE wikibase:label { <br/>    bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". <br/>  }<br/>}<br/>"""</span><span id="b377" class="nc mc it lz b gy nj ne l nf ng">r = requests.get(url, params = {'format': 'json', 'query': query})<br/>data = r.json()</span></pre><p id="481f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，您需要将生成的 JSON 数据转换成 Pandas 数据框架，以便进一步处理数据:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="9eb1" class="nc mc it lz b gy nd ne l nf ng">countries = []<br/>for item in data['results']['bindings']:<br/>    countries.append(OrderedDict({<br/>        label : item[label]['value'] if label in item else None<br/>        for label in ['countryLabel', 'capitalLabel', <br/>                      'capital_lon', 'capital_lat', 'population', <br/>                      'mayorLabel', 'birth_date', 'age', <br/>                      'birth_placeLabel', 'birth_place_lon',      <br/>                      'birth_place_lat']}))</span><span id="f308" class="nc mc it lz b gy nj ne l nf ng">df = pd.DataFrame(countries)<br/>df.set_index('capitalLabel', inplace=True)<br/>df = df.astype({'population': float, 'age': float,<br/>                'capital_lon': float, 'capital_lat': float, <br/>                'birth_place_lon': float, 'birth_place_lat': float})<br/>df.head()</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nm"><img src="../Images/b4370bf4ed077c4caf97fcbfd5306fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxKHgWXTggArEBKDOeCHGQ.png"/></div></div></figure><p id="aeb9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用该数据集，您现在可以探索市长的年龄以及他们所服务的首都的人口:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="bd48" class="nc mc it lz b gy nd ne l nf ng">plt.figure(figsize=(12, 5))<br/>plt.subplot(1, 2, 1)<br/>df['age'].sort_values().plot(kind='barh', color='C0', title='Mayors Age')<br/>plt.ylabel('')<br/>plt.subplot(1, 2, 2)<br/>df['population'].sort_values().plot(kind='barh', color='C0', title='Population')<br/>plt.ylabel('')<br/>plt.ticklabel_format(style='plain', axis='x')<br/>plt.tight_layout()</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nn"><img src="../Images/c131246af0333dc6b52abd88bf8ae965.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wzVDOuVVa9iACKDg3tIOCw.png"/></div></div></figure><p id="f848" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，欧洲首都最老的市长似乎是马德里的住房。接下来，我们来看看市长出生在离首都多远的地方。为此，您可以使用<a class="ae le" href="https://geopy.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank"> geopy </a>包来计算坐标之间的距离。这个<a class="ae le" href="https://janakiev.com/blog/gps-points-distance-python/" rel="noopener ugc nofollow" target="_blank">教程</a>涵盖了这个话题，如果你好奇为什么我们不能只在 GPS 坐标上使用欧几里德距离(剧透:地球不是平的)。要计算距离，您可以使用距离的<code class="fe lw lx ly lz b">distance()</code>函数和米(<code class="fe lw lx ly lz b">.m</code>)属性:</p><pre class="lg lh li lj gt my lz mz na aw nb bi"><span id="a6e8" class="nc mc it lz b gy nd ne l nf ng">from geopy.distance import distance</span><span id="fc0e" class="nc mc it lz b gy nj ne l nf ng">coordinates = df[['capital_lon', 'capital_lat', <br/>                  'birth_place_lon', 'birth_place_lat']]<br/>df['distance'] = [distance((lat0, lon0), (lat1, lon1)).m <br/>                for lon0, lat0, lon1, lat1 in coordinates.values]</span><span id="3623" class="nc mc it lz b gy nj ne l nf ng">df['distance'].sort_values().plot(<br/>    kind='barh', color='C0', logx=True)<br/>plt.xlabel('Distance (m)')<br/>plt.ylabel('');</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi no"><img src="../Images/2bd65732e4d6486aca93c2a431704eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBtewnqMouhvTSub0JuMfA.png"/></div></div></figure><p id="ca97" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，你可以看到大多数市长往往出生在他们后来任职的城市或其附近(注意，该图表是对数标度)。你可以看到雅典领先例外，他们的现任市长(乔治·卡米尼斯)出生在美国纽约，巴黎的现任市长(安妮·伊达尔戈)出生在西班牙圣费尔南多。从那里开始，距离显著下降。</p><p id="8e1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要在 Wikidata 中获得欧洲所有市长的列表，请看一下这个<a class="ae le" href="https://github.com/njanakiev/wikidata-mayors/blob/master/load_european_mayors.py" rel="noopener ugc nofollow" target="_blank">脚本</a>，它更复杂，因为它必须处理一些例外情况(比如出生在不再存在的国家的市长)，并且需要对每个国家分别进行查询，因为查询有限制。最终的交互可视化可以在<a class="ae le" href="https://janakiev.com/wikidata-mayors/" rel="noopener ugc nofollow" target="_blank">这里</a>找到，包括这个笔记本在内的完整代码可以在这个<a class="ae le" href="https://github.com/njanakiev/wikidata-mayors" rel="noopener ugc nofollow" target="_blank">库</a>找到。</p><h1 id="bb7c" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">结论</h1><p id="8ae4" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">您已经学习了如何使用 Wikidata 和 SPARQL，以及如何将其与 Python 和 Pandas 集成。Wikidata 是一个很棒的数据库，它可以实现在您最喜欢的搜索引擎上进行普通搜索所无法实现的查询和发现。这为进行数据科学和探索性数据分析开辟了令人兴奋的新可能性，并为了解我们积累的人类知识中的关系和好奇的发现开辟了一条迷人的新途径。</p><p id="37ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lv">感谢阅读！如果你有一些反馈或者想要合作，请随时联系我。你可以在</em><a class="ae le" href="https://github.com/njanakiev" rel="noopener ugc nofollow" target="_blank"><em class="lv">Github</em></a><em class="lv"/><a class="ae le" href="https://twitter.com/njanakiev" rel="noopener ugc nofollow" target="_blank"><em class="lv">Twitter</em></a><em class="lv"/><a class="ae le" href="https://at.linkedin.com/in/nikolai-janakiev" rel="noopener ugc nofollow" target="_blank"><em class="lv">LinkedIn</em></a><em class="lv">上找到我或者你可以在我的</em> <a class="ae le" href="https://janakiev.com/about/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">主页</em> </a> <em class="lv">上找到我的邮箱。</em></p><h1 id="7c21" class="mb mc it bd md me mf mg mh mi mj mk ml jz mm ka mn kc mo kd mp kf mq kg mr ms bi translated">资源和一堆链接</h1><p id="cb95" class="pw-post-body-paragraph ki kj it kk b kl mt ju kn ko mu jx kq kr mv kt ku kv mw kx ky kz mx lb lc ld im bi translated">在文章<a class="ae le" href="http://delivery.acm.org/10.1145/2630000/2629489/p78-vrandecic.pdf?ip=188.23.116.132&amp;id=2629489&amp;acc=OA&amp;key=4D4702B0C3E38B35%2E4D4702B0C3E38B35%2E4D4702B0C3E38B35%2EB8CD93A2515AABD1&amp;__acm__=1533116941_da1ef0b41c8a6ea97e62187e7e72de90" rel="noopener ugc nofollow" target="_blank"> Wikidata:一个免费的协作知识库中可以找到关于 Wikidata 的历史和概述。</a>作者:vrandei d .&amp;krtzsch m .(2014 年)。有一个很棒的 SPARQL 教程涵盖了这里提到的许多内容，并且更加深入地理解 SPARQL。如果你对维基数据感到兴奋，并想做出贡献，有<a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:Tours" rel="noopener ugc nofollow" target="_blank">维基数据之旅</a>可以指导你完成这个过程。如果你计划进行大型查询，请确保查看可公开下载的<a class="ae le" href="https://dumps.wikimedia.org/wikidatawiki/entities/" rel="noopener ugc nofollow" target="_blank">维基数据转储</a>，它们是整个维基数据集的定期更新转储，这里有一个关于<a class="ae le" href="https://www.mediawiki.org/wiki/Wikibase/DataModel" rel="noopener ugc nofollow" target="_blank">维基数据库数据模型</a>的文档。维基数据也为程序员提供了一个工具列表。</p><p id="dec4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里是一个非结构化的资源列表，包含有用的文档、教程或使用 Wikidata 的例子。</p><ul class=""><li id="4206" class="np nq it kk b kl km ko kp kr nr kv ns kz nt ld nu nv nw nx bi translated"><a class="ae le" href="https://tools.wmflabs.org/wikidata-exports/rdf/" rel="noopener ugc nofollow" target="_blank">从维基数据导出 RDF</a></li><li id="3789" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:List_of_properties" rel="noopener ugc nofollow" target="_blank">维基数据:属性列表</a></li><li id="0517" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:Database_reports" rel="noopener ugc nofollow" target="_blank">维基数据:数据库报告</a></li><li id="0831" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:Database_reports/List_of_properties/Top100" rel="noopener ugc nofollow" target="_blank">维基数据:数据库报告/财产清单/前 100 名</a></li><li id="8b40" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:Introduction" rel="noopener ugc nofollow" target="_blank">维基百科:简介</a></li><li id="65f8" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries" rel="noopener ugc nofollow" target="_blank"> Wikidata:SPARQL 查询</a></li><li id="7160" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/queries/examples" rel="noopener ugc nofollow" target="_blank"> Wikidata:SPARQL 查询示例</a></li><li id="c4db" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://www.wikidata.org/wiki/Wikidata:Creating_a_bot" rel="noopener ugc nofollow" target="_blank">维基数据:创建一个机器人</a></li><li id="23c7" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://noniq.at/0016/wikidata-sparql-introduction/" rel="noopener ugc nofollow" target="_blank">向维基数据查询维也纳的电车线路:SPARQL 简介</a></li><li id="8246" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="http://ramiro.org/notebook/us-presidents-causes-of-death/" rel="noopener ugc nofollow" target="_blank">维基数据显示美国总统的死因</a></li><li id="20ee" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://de.slideshare.net/_Emw/an-ambitious-wikidata-tutorial" rel="noopener ugc nofollow" target="_blank">雄心勃勃的维基数据教程——幻灯片分享</a></li><li id="1f23" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated"><a class="ae le" href="https://angryloki.github.io/wikidata-graph-builder/" rel="noopener ugc nofollow" target="_blank">维基数据图表生成器</a>，可视化维基数据图表的伟大工具</li><li id="f157" class="np nq it kk b kl ny ko nz kr oa kv ob kz oc ld nu nv nw nx bi translated">历史时间线的可视化</li></ul></div></div>    
</body>
</html>