<html>
<head>
<title>How to use flickr api to collect data for deep learning experiments?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用 flickr api 为深度学习实验收集数据？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-use-flickr-api-to-collect-data-for-deep-learning-experiments-209b55a09628?source=collection_archive---------6-----------------------#2018-06-27">https://towardsdatascience.com/how-to-use-flickr-api-to-collect-data-for-deep-learning-experiments-209b55a09628?source=collection_archive---------6-----------------------#2018-06-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="io ip gp gr iq ir"><div class="bz fp l di"><div class="is it l"/></div></figure><div class=""/><p id="4274" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">一旦你踏上了深度学习的旅程，并通过了基本的玩具示例，如在 MNIST 数据集上对手写数字进行分类，下一个合乎逻辑的步骤就是开始从事自己的定制项目。人们遇到的第一个障碍是他们想要做的定制项目的数据可能不可用。如果你知道如何清理网站，你可以很容易地收集到你想要的图片，但是清理网站有两个陷阱:</p><p id="e461" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">1.刮一些网站是不合法也不道德的</p><p id="b0b9" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">2.即使你不关心法律或道德，大规模报废也是具有挑战性的，特别是如果有适当的保护措施来阻止报废的话。</p><p id="0836" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">除了废弃网络，还有其他选择。以下是您可以在自己的项目中使用图像数据的资源列表:</p><p id="00e0" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">1.Yelp 公开了大量的数据，他们公开了 20 万张图片的数据集，你可以点击这里查看<a class="ae kr" href="https://www.yelp.com/dataset" rel="noopener ugc nofollow" target="_blank">https://www.yelp.com/dataset</a></p><p id="7e78" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">2.这里也有亚马逊评论数据托管在 http://jmcauley.ucsd.edu/data/amazon/<a class="ae kr" href="http://jmcauley.ucsd.edu/data/amazon/" rel="noopener ugc nofollow" target="_blank">也包括预处理的图像特征</a></p><p id="ace0" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">3.此外，还有一些数据集，如学术界非常常用的 MS COCO、Imagenet 和 CIFAR 10。</p><p id="5a5d" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">如果这些数据集似乎也不能满足您的目的，那么您可以使用 flickr 作为您的数据收集来源。Flickr 有一个 api 可以用来收集图片。您可以使用这个 api 通过标签搜索图像。例如，您可以搜索日常物品/地点和建筑物的图像，如灯柱、披萨、教堂等。我能够使用这个 api 轻松地为一个给定的标签获取大约 600 多张图片。我能够创建一个脚本，通过标签获取图像，并存储在计算机上的一个文件夹中，该文件夹以被搜索的标签命名。我创建了两个脚本，一个获取给定标记的 url，并将其存储在 csv 文件中。另一个脚本从 url 文件中读取链接，获取图像并将它们存储在一个文件夹中。</p><p id="fb17" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">下面是通过标签获取 Url 的脚本代码，<em class="ks"> flickrGetUrl.py </em>(你可以在这里注册获得密钥和应用程序秘密令牌<a class="ae kr" href="https://www.flickr.com/services/apps/create/" rel="noopener ugc nofollow" target="_blank">https://www.flickr.com/services/apps/create/</a></p><figure class="kt ku kv kw gt ir"><div class="bz fp l di"><div class="kx it l"/></div></figure><p id="1747" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">要使用上面的脚本，您可以在终端中运行以下命令:</p><pre class="kt ku kv kw gt ky kz la lb aw lc bi"><span id="fc05" class="ld le iw kz b gy lf lg l lh li">python flickrGetUrl.py pizza 500</span></pre><p id="a779" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">这将在工作目录中创建一个新文件，其中将有指向 pizza 图像的链接，这将是一个名为 pizza.csv 的. csv 文件。第一个参数是您想要其图像的标记，第二个参数是要尝试的 URL 获取的数量。</p><p id="22f6" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">第二个文件，<em class="ks"> get_images.py </em> <strong class="jv ix"> <em class="ks">，</em> </strong>从 url 获取图片并将图片存储在一个文件夹中，下面是它的代码:</p><figure class="kt ku kv kw gt ir"><div class="bz fp l di"><div class="kx it l"/></div></figure><p id="b3f2" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">要使用第二个文件，请在终端中键入以下内容:</p><pre class="kt ku kv kw gt ky kz la lb aw lc bi"><span id="302c" class="ld le iw kz b gy lf lg l lh li">python get_images.py pizza.csv</span></pre><p id="e6b4" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">这将从存储在 pizza.csv 中的 URL 获取图像，并将它们存储在一个名为 pizza 的文件夹中。</p><p id="dd6f" class="pw-post-body-paragraph jt ju iw jv b jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq ij bi translated">这些是一些常见的方法，人们可以通过这些方法获取图像数据来运行深度学习实验。请记住，上面的脚本可能需要一些时间来下载图像，您可以通过向它们添加多处理功能并在多核机器上运行它们来加速这些脚本。</p></div></div>    
</body>
</html>