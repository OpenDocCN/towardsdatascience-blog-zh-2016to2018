<html>
<head>
<title>Linear Regression: Moneyball — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归:钱球—第二部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/linear-regression-moneyball-part-2-175a9dc72e89?source=collection_archive---------3-----------------------#2018-06-01">https://towardsdatascience.com/linear-regression-moneyball-part-2-175a9dc72e89?source=collection_archive---------3-----------------------#2018-06-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b19d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">大众体育故事的统计案例研究</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/022fa1415e633a119d71f3f87fa21265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0WKd4U2_Kf8_vmkq."/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">“The macro view of an old baseball on a wood surface” by <a class="ae kv" href="https://unsplash.com/@jtkyber1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joey Kyber</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><blockquote class="kw kx ky"><p id="24e9" class="kz la lb lc b ld le jr lf lg lh ju li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">这篇文章是线性回归的续集:金钱球-第一部分。如果你还没有检查，我强烈建议你这样做。</p></blockquote><h1 id="d984" class="lw lx iq bd ly lz ma mb mc md me mf mg jw mh jx mi jz mj ka mk kc ml kd mm mn bi translated">概述</h1><p id="e550" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">在前一篇文章结束时，我们已经建立了 RD(运行差异)和 W(成功)之间的线性关系。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/48b8f02bef2a01c0a291bfdb3fda71fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*1kd5JaY8JGLCZXSnqMTu5Q.png"/></div></figure><p id="0434" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我们还发现，RD 和 w 之间有非常强的正相关，为 0.9385。在本文中，我们将继续研究数值变量之间的关系，并建立一些模型来预测奥克兰运动家队在 2002 年的表现。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="5491" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">公式</h1><p id="b5a3" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">让我们再看一下数据。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="be2d" class="no lx iq nk b gy np nq l nr ns">df = pd.read_csv("baseball.csv")<br/>df.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/4d881be27e8dc58c4e7bea50a1da35ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h4O5gR6g2w7teF8gySGH8A.png"/></div></div></figure><p id="828a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">现在，让我们来看看计算一些对大多数人来说似乎晦涩难懂的数字项的公式。</p><p id="e83b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><strong class="lc ir">按基数百分比:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/a38683c75fc646e42dcaacddaf8344bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*2uWZhYYad5nJJSywEzQ90w.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Formula for calculating On-base Percentage. <a class="ae kv" href="https://en.wikipedia.org/wiki/On-base_percentage" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="3ed0" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">点击量</p><p id="a38f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">b:以球(保送)为基础</p><p id="54a2" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">HBP:投球命中</p><p id="30aa" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">阿瑟:击球</p><p id="ebe1" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">科幻:牺牲苍蝇</p><p id="e7bc" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><strong class="lc ir">击发百分比:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/026b29dd0ff4069cf06c26876e500f62.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*OO5SSE0XQ8FLIUWk4caAqg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Formula for calculating Slugging percentage. <a class="ae kv" href="https://en.wikipedia.org/wiki/Slugging_percentage" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="f4c6" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">1B，2B，3B:单打，双打，三连冠</p><p id="1936" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">HR:全垒打</p><p id="393c" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">阿瑟:击球</p><p id="4ae3" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><strong class="lc ir">击球率:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/86c3ede5c68cb935f2eaa56e87d94254.png" data-original-src="https://miro.medium.com/v2/resize:fit:204/format:webp/1*nBY4BIvKcmqK-ukmOzNeTg.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Formula for calculating Batting average. <a class="ae kv" href="https://en.wikipedia.org/wiki/Batting_average" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="f371" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">点击量</p><p id="6317" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">阿瑟:击球</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="0563" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">探索性数据分析</h1><p id="b27b" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">我们可以看到，前面讨论的所有三个统计数据都以某种方式影响了球队得分的次数。我不会详细解释每个变量。你需要知道的是 OBP，SLG 和 AVG 是特定球队得分的有力指标。</p><p id="482b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">让我们通过绘制这些变量与 RS(得分运行)之间的关系来验证这些假设:</p><div class="kg kh ki kj gt ab cb"><figure class="nx kk ny nz oa ob oc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/3f423b164542321a4e72e889afb54636.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*3cs6XaDrqt-uFTw14i0lyA.png"/></div></figure><figure class="nx kk od nz oa ob oc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/c71333af0f06bff66af0ec382638a477.png" data-original-src="https://miro.medium.com/v2/resize:fit:674/format:webp/1*ZagLZHA29dToY6Y4zW__vg.png"/></div></figure><figure class="nx kk ny nz oa ob oc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f107026568842ae70a6026f1d6528989.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*RFDuT3_pKfYiW4QGBoRSFw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk oe di of og">Relationship between OBP, SLG,BA and RS respectively</figcaption></figure></div><p id="8c64" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">在每个变量和得分之间有明显的线性关系。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="e014" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Correlation between On-base percentage and runs scored.</strong></span><span id="7af3" class="no lx iq nk b gy oh nq l nr ns">print(np.corrcoef(moneyball.OBP,moneyball.RS))</span><span id="1705" class="no lx iq nk b gy oh nq l nr ns">output:</span><span id="3665" class="no lx iq nk b gy oh nq l nr ns">[[ 1.          0.90490915]<br/> [ 0.90490915  1.        ]]</span><span id="ae43" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Correlation between Slugging percentage and runs scored.</strong></span><span id="76e4" class="no lx iq nk b gy oh nq l nr ns">print(np.corrcoef(moneyball.SLG,moneyball.RS))</span><span id="5cfd" class="no lx iq nk b gy oh nq l nr ns">output:</span><span id="06d4" class="no lx iq nk b gy oh nq l nr ns">[[ 1.          0.92638433]<br/> [ 0.92638433  1.        ]]</span><span id="0e0e" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Correlation between batting average and runs scored.</strong></span><span id="e4c9" class="no lx iq nk b gy oh nq l nr ns">print(np.corrcoef(moneyball.BA,moneyball.RS))</span><span id="3497" class="no lx iq nk b gy oh nq l nr ns">output:</span><span id="6321" class="no lx iq nk b gy oh nq l nr ns">[[ 1.          0.83162475]<br/> [ 0.83162475  1.        ]]</span></pre><p id="6a39" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">根据经验，0.7 以上的相关性被认为是强正相关。我们所有的变量都满足这条规则。</p><p id="4893" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">类似地，我们可以假设 OOBP(对手的 OBP)和 OSLG(对手的 SLG)与 RA(允许跑垒)有类似的关系。</p><p id="6ca0" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">在我们看到这些变量和 RA 之间的关系之前，我注意到在 OOBP 和 OSLG 列中有几个<strong class="lc ir">缺失值</strong>。为了画出正确的关系，我们必须去掉这几行观察数据。在以后的文章中，我会解释我们可以“估算”缺失数据的各种方法。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="65ec" class="no lx iq nk b gy np nq l nr ns">moneyballnew = moneyball.dropna()</span></pre><p id="89ee" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我们将缩减的数据集存储到一个新的变量中。</p><p id="8e65" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">现在让我们看看这些变量与 RA 之间的关系:</p><div class="kg kh ki kj gt ab cb"><figure class="nx kk oi nz oa ob oc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/3c672bf3f2f6c05d6d283f0cd0d92f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*GGPgT4dSwiwSuzvDqu1RLw.png"/></div></figure><figure class="nx kk oi nz oa ob oc paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/4bb5c051e9dc54283edc670d0341ae63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*oMbW1SygVwBv5IB88spVgQ.png"/></div></figure></div></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="7d8c" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">M<span class="l oj ok ol bm om on oo op oq di">odel 大楼</span></h1><p id="214e" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">我们现在将建立回归模型，以预测得分、允许得分和获胜。</p><p id="ddb1" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">python 中的<a class="ae kv" href="http://scikit-learn.org/" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a>库在使用很少几行代码构建各种各样的机器学习模型方面非常强大。我们将利用这个库来建立我们的模型。</p><p id="2cff" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我们的第一个模型用于预测“得分”。我们的自变量是上垒率、击球率、击球率。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="68ec" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Extracting our variables from the dataframe.</strong><br/>x = moneyball[['OBP','SLG','BA']].values<br/>y = moneyball[['RS']].values</span><span id="b02b" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Calling our model object.</strong><br/>RS_model = LinearRegression()</span><span id="b740" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Fitting the model.</strong><br/>RS_model.fit(x,y)<br/></span><span id="5267" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Printing model intercept and coefficients.</strong><br/>print(RS_model.intercept_)<br/>print(RS_model.coef_)</span><span id="1bd2" class="no lx iq nk b gy oh nq l nr ns">Output:</span><span id="9692" class="no lx iq nk b gy oh nq l nr ns">[-788.45704708]<br/>[[ 2917.42140821  1637.92766577  -368.96606009]]</span></pre><p id="9b63" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">因此，我们的模型具有以下形式:</p><p id="d219" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><em class="lb">RS =-788.46+2917.42×(OBP)+1637.93×(SLG)-368.97×(巴)</em></p><p id="ed1f" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">在这一点上，我们注意到一些奇怪的事情。我们的模型有一个负系数的变量，也就是击球率。这是反直觉的，因为一个击球率高的球队应该有更多的得分。这种情况代表了一种被称为<a class="ae kv" href="https://en.wikipedia.org/wiki/Multicollinearity" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir">多重共线性</strong> </a>的现象，其导致多重线性回归模型中的差异。</p><p id="77b5" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">为了避免多重共线性，我们必须添加一个<a class="ae kv" href="https://en.wikipedia.org/wiki/Interaction_(statistics)" rel="noopener ugc nofollow" target="_blank"> <strong class="lc ir">交互变量</strong> </a> <strong class="lc ir"> </strong>或者删除导致差异的变量。为了简单起见，让我们把 BA 从模型中去掉。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="9a39" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Extracting our variables from the dataframe.</strong><br/>x = moneyball[['OBP','SLG']].values<br/>y = moneyball[['RS']].values</span><span id="e2f9" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Calling our model object.</strong><br/>RS_model = LinearRegression()</span><span id="0304" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Fitting the model.</strong><br/>RS_model.fit(x,y)</span><span id="a4f3" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Printing model intercept and coefficients.</strong><br/>print(model.intercept_)<br/>print(model.coef_)</span><span id="9c87" class="no lx iq nk b gy oh nq l nr ns">Output:</span><span id="d7e4" class="no lx iq nk b gy oh nq l nr ns">[-804.62706106]<br/>[[ 2737.76802227  1584.90860546]]</span></pre><p id="bd26" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我们的改良模型是:</p><p id="4667" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><em class="lb">RS =-804.63+2737.77×(OBP)+1584.91×(SLG)</em></p><p id="d24c" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">类似地，我们使用对手的上垒百分比和对手的击球百分比作为独立变量来建立“允许跑垒”的模型:</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="4ac1" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Extracting our variables from the dataframe.</strong><br/>x = moneyballnew[['OOBP','OSLG']].values<br/>y = moneyballnew[['RA']].values</span><span id="4395" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Calling our model object.</strong><br/>RA_model = LinearRegression()</span><span id="5d62" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Fitting the model.</strong><br/>RA_model.fit(x,y)</span><span id="638f" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Printing model intercept and coefficients.</strong><br/>print(RA_model.intercept_)<br/>print(RA_model.coef_)</span><span id="069b" class="no lx iq nk b gy oh nq l nr ns">Output:<br/>[-837.37788861]<br/>[[ 2913.59948582  1514.28595842]]</span></pre><p id="1c61" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">允许运行的型号:</p><p id="6345" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><em class="lb">RA =-837.38+2913.60×(OOBP)+1514.29×(OSLG)</em></p><p id="7837" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">最后，我们从运行差异中预测成功的模型:</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="7edb" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Extracting our variables from the dataframe.</strong><br/>x = moneyball[['RD']].values<br/>y = moneyball[['W']].values</span><span id="51a1" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Calling our model object.</strong><br/>W_model = LinearRegression()</span><span id="89ce" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Fitting the model.</strong><br/>W_model.fit(x,y)</span><span id="9f08" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Printing model intercept and coefficients.</strong><br/>print(W_model.intercept_)<br/>print(W_model.coef_)</span><span id="c147" class="no lx iq nk b gy oh nq l nr ns">Output:</span><span id="012e" class="no lx iq nk b gy oh nq l nr ns">[ 80.88137472]<br/>[[ 0.10576562]]</span></pre><p id="f7ea" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">成功的模式:</p><p id="b90b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated"><em class="lb"> W = 80.88 + 0.11 ×(RD) </em></p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="5e91" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">模型预测</h1><p id="68ea" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">以下是奥克兰运动家队 2001 年季后赛前的统计数据。</p><p id="7b31" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">OBP: 0.339</p><p id="c4dc" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">比重:0.430</p><p id="196a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">OOBP: 0.307</p><p id="897a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">OSLG: 0.373</p><p id="4413" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">让我们将这些值代入上述模型以生成预测。</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="14eb" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Prediction for runs scored.</strong><br/>RS_model.predict([[0.339,0.430]])</span><span id="d3d6" class="no lx iq nk b gy oh nq l nr ns">Output:<br/>array([[ 804.98699884]])</span><span id="fb9f" class="no lx iq nk b gy oh nq l nr ns"><strong class="nk ir"># Predictions for runs allowed.</strong><br/>RA_model.predict([[0.307,0.373]])</span><span id="1d7f" class="no lx iq nk b gy oh nq l nr ns">Output:<br/>array([[ 621.92581602]])</span></pre><p id="09e8" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">因此，我们的模型预测了以下情况:</p><p id="9527" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">805 卢比</p><p id="f127" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">RA 约 622</p><p id="d545" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">这意味着 RD = 183。</p><p id="a0af" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">最后，我们将研发纳入我们的 wins 模型:</p><pre class="kg kh ki kj gt nj nk nl nm aw nn bi"><span id="0e25" class="no lx iq nk b gy np nq l nr ns"><strong class="nk ir"># Prediction for wins.</strong><br/>W_model.predict([[183]])</span><span id="1d17" class="no lx iq nk b gy oh nq l nr ns">Output:<br/>array([[ 100.23648363]])</span></pre><p id="545a" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">将我们的模型结果与实际结果和 De Podesta 的估计进行比较，我们得到:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="or os l"/></div></figure><p id="a58b" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">很不寻常，不是吗？与现实相比，我们模型的预测实际上相当准确。</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="7962" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">结论</h1><p id="dab7" class="pw-post-body-paragraph kz la iq lc b ld mo jr lf lg mp ju li mq mr ll lm ms mt lp lq mu mv lt lu lv ij bi translated">最后，我们总结了线性回归应用于 Sabermetrics 的案例研究。需要注意的重要一点是，在这个案例研究中，我对我们的回归模型做了很多假设。在以后的帖子中，我将深入讨论回归假设以及如何避免违反它们。</p><p id="d089" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我希望你们都喜欢这篇关于线性回归的分为两部分的博文。如果你喜欢我的内容，我将非常感谢鼓掌和关注。完整的代码可在这里<a class="ae kv" href="https://github.com/Sayar1106/Moneyball/blob/master/Moneyball.ipynb" rel="noopener ugc nofollow" target="_blank">获得。</a></p><p id="89cc" class="pw-post-body-paragraph kz la iq lc b ld le jr lf lg lh ju li mq lk ll lm ms lo lp lq mu ls lt lu lv ij bi translated">我期待着问题，评论，关注。下次见，伙计们。✌🏽</p></div><div class="ab cl mx my hu mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="ij ik il im in"><h1 id="fa2e" class="lw lx iq bd ly lz ne mb mc md nf mf mg jw ng jx mi jz nh ka mk kc ni kd mm mn bi translated">参考</h1><ol class=""><li id="2c63" class="ot ou iq lc b ld mo lg mp mq ov ms ow mu ox lv oy oz pa pb bi translated"><a class="ae kv" href="http://www.espn.com/mlb/statistics" rel="noopener ugc nofollow" target="_blank">http://www.espn.com/mlb/statistics</a></li><li id="0569" class="ot ou iq lc b ld pc lg pd mq pe ms pf mu pg lv oy oz pa pb bi translated"><a class="ae kv" href="https://www.baseball-reference.com/" rel="noopener ugc nofollow" target="_blank">https://www.baseball-reference.com/</a></li></ol></div></div>    
</body>
</html>