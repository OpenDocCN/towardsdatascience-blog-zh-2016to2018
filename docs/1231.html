<html>
<head>
<title>Summarizing Tweets in a Disaster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">总结灾难中的推文</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/summarizing-tweets-in-a-disaster-e6b355a41732?source=collection_archive---------6-----------------------#2017-08-13">https://towardsdatascience.com/summarizing-tweets-in-a-disaster-e6b355a41732?source=collection_archive---------6-----------------------#2017-08-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/26dcd975385542e507c5981e012681e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y2G8M1KSi3be0QXo8xipKg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Map of the Nepal’s second earthquake’s intensity, credit: <a class="ae kc" href="https://www.washingtonpost.com/graphics/world/nepal-earthquake/" rel="noopener ugc nofollow" target="_blank">https://www.washingtonpost.com/graphics/world/nepal-earthquake/</a></figcaption></figure><p id="0263" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2015年4月25日，就在中午之前，尼泊尔经历了一场矩震级<a class="ae kc" href="https://earthquake.usgs.gov/earthquakes/eventpage/us20002926#executive" rel="noopener ugc nofollow" target="_blank"> 7.8 </a>的地震。地震席卷了加德满都山谷，一系列余震夷平了整个村庄。</p><p id="3734" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">地震发生后，来自世界各地的志愿者在指导紧急行动中发挥了重要作用，他们使用<a class="ae kc" href="http://news.nationalgeographic.com/2015/05/150501-nepal-crisis-mapping-disaster-relief-earthquake/" rel="noopener ugc nofollow" target="_blank">卫星图像</a>来确定整个地区基础设施的破坏情况。</p><p id="262e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，尼泊尔地面上的人们也在twitter上产生了大量可能对救援行动有用的信息，尽管不那么直接。从4月25日到5月28日，<a class="ae kc" href="https://www.int-arch-photogramm-remote-sens-spatial-inf-sci.net/XLI-B2/567/2016/isprs-archives-XLI-B2-567-2016.pdf" rel="noopener ugc nofollow" target="_blank">有33610条推特被尼泊尔人转发。这些推文充满了有用的信息，但33，610条推文对于救援行动来说太多了，难以梳理。</a></p><p id="4e03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是这个项目的动机:</p><p id="7ea4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我能从大量的推文中提取出有用的简短摘要吗？这些摘要可能对地面救援行动有用。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h2 id="7111" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">内容:</h2><p id="353c" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">0.获取推文</p><ol class=""><li id="7675" class="mh mi iq kf b kg kh kk kl ko mj ks mk kw ml la mm mn mo mp bi translated">使用内容词和tf-idf分数查找所有有用的推文</li><li id="e253" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated">挑选最好的推文做一个简短的总结</li><li id="080b" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated">结论</li></ol></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><h1 id="8f0b" class="mv lk iq bd ll mw mx my lo mz na nb lr nc nd ne lu nf ng nh lx ni nj nk ma nl bi translated">0.获取推文</h1><p id="0f4e" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated"><a class="ae kc" href="https://github.com/GabrielTseng/LearningDataScience/blob/master/natural_language_processing/twitter_disasters/1%20-%20Tweets%20from%20IDs.ipynb" rel="noopener ugc nofollow" target="_blank">链接至代码</a></p><p id="766e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我从“<a class="ae kc" href="https://arxiv.org/abs/1605.05894" rel="noopener ugc nofollow" target="_blank"> Twitter作为生命线:危机相关消息的NLP的人类注释Twitter语料库</a>”获得我的推文；该项目从危机中提取了数千条推文，并将其分为8个不同的类别(例如，“流离失所者和疏散”，或“同情和情感支持”)。</p><p id="a6fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，由于救援队无法标记推文，我只使用推文本身的数据集，而不是标签。</p><p id="46b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Twitter的政策规定，只能保存推文id，而不是推文本身——这样，如果用户删除了他们的推文，那么它们就不会存储在其他地方。因此，我不得不使用twitter的API从这个语料库中获取tweet内容。这需要我注册一个应用程序:</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nm"><img src="../Images/7d6ab95ce501b6e112caccebe17895fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XNRBAAbQgBFgazapkBoK2w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">I am now an app developer!</figcaption></figure><p id="2a80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后我用Twython下载了这些推文，然后就上路了！</p><h1 id="8a52" class="mv lk iq bd ll mw nr my lo mz ns nb lr nc nt ne lu nf nu nh lx ni nv nk ma nl bi translated">1.提取情景推文</h1><p id="8ba0" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated"><a class="ae kc" href="https://github.com/GabrielTseng/LearningDataScience/blob/master/natural_language_processing/twitter_disasters/spaCy/2%20-%20Tweet%20Summarization.ipynb" rel="noopener ugc nofollow" target="_blank">链接到代码</a></p><p id="9b4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">很明显，并不是所有的推文对救援队都同样有用。举个例子，</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="4600" class="lj lk iq nx b gy ob oc l od oe">@Gurmeetramrahim: #MSGHelpEarthquakeVictims Shocked!!!hearing earthquake in Nepal n some parts of India. I pray to GOD to save His child</span></pre><p id="c840" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不包含对救援队有用的信息，尤其是与以下信息相比:</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="ab2e" class="lj lk iq nx b gy ob oc l od oe">MEA opens 24 hour Control Room for queries regarding the Nepal #Earthquake.<br/>Numbers:<br/>+91 11 2301 2113<br/>+91 11 2301 4104<br/>+91 11 2301 7905</span></pre><p id="4774" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有用的推文被归类为<strong class="kf ir">情景推文</strong>，可能包含状态更新，或即时有用的信息(如附近医院的号码)。</p><p id="c2b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">非情境推文</strong>包含(例如)情绪、观点或事件分析。这些并不能立即帮助救援工作。</p><p id="61bb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我开始总结推文之前，我需要把情景推文和非情景推文分开。我用两种方法做到了这一点:我首先<strong class="kf ir">手动分离推文的特征</strong>(1.1-内容词)<strong class="kf ir"> </strong>，这些特征有助于推文的有用性。然后，我使用了一个名为<strong class="kf ir"> tf-idf </strong> (1.2)的文档分析工具来寻找对这个特定事件和这组推文有意义的词。</p><h2 id="c781" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">1.1.实词</h2><p id="76c7" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">在他们2015年的论文中。al确定了在灾难中提供重要信息的三类术语:<strong class="kf ir">数字</strong>、<strong class="kf ir">名词</strong>和<strong class="kf ir">主要动词</strong>。属于这些类别的词被称为实词。我发现这太笼统，无法区分推文，于是自己定义了两个类别:</p><ol class=""><li id="6afa" class="mh mi iq kf b kg kh kk kl ko mj ks mk kw ml la mm mn mo mp bi translated">数字(如伤亡人数、重要电话号码)</li><li id="c8c3" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><a class="ae kc" href="https://spacy.io/docs/usage/entity-recognition" rel="noopener ugc nofollow" target="_blank">实体</a>(如地点、日期、事件、组织等。)</li></ol><p id="e795" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://spacy.io/" rel="noopener ugc nofollow" target="_blank"> SpaCy </a>(一个<a class="ae kc" href="https://www.wikiwand.com/en/Natural_language_processing" rel="noopener ugc nofollow" target="_blank">自然语言处理</a>库，自动从文本中分析提取信息)是一个非常有用的识别实词的工具；当SpaCy <a class="ae kc" href="https://nlp.stanford.edu/IR-book/html/htmledition/tokenization-1.html" rel="noopener ugc nofollow" target="_blank">对</a>文本进行标记时，它会向标记添加许多附加信息，例如它是否是实体(如果是，它是什么类型的实体)，它的词性是什么(即它是名词吗？一个动词？一个数字？)，甚至是令牌的情绪。</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi of"><img src="../Images/2aa668bca02f32c1d128def6fc8ddee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SldseZ8DZi4yfSz4CVzjRA.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">SpaCy’s awesome <a class="ae kc" href="https://spacy.io/docs/usage/entity-recognition" rel="noopener ugc nofollow" target="_blank">entity recognizer</a></figcaption></figure><p id="84b0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我使用SpaCy来标记推文。这意味着将推文分解成它们的组成部分(主要是单词，但也包括标点和数字)，并将这些组成部分转化为<strong class="kf ir">符号。</strong>例如，</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="b45d" class="lj lk iq nx b gy ob oc l od oe">: Over 110 killed in earthquake: Nepal Home Ministry (PTI)</span></pre><p id="12d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">成为</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="502d" class="lj lk iq nx b gy ob oc l od oe">[:, Over, 110, killed, in, earthquake, :, Nepal, Home, Ministry, (, PTI, )]</span></pre><p id="fe62" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">SpaCy的强大之处在于这些令牌充满了附加信息；例如，我可以找出所有这些标记的词性:</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="bed3" class="lj lk iq nx b gy ob oc l od oe">[u'PUNCT', u'ADP', u'NUM', u'VERB', u'ADP', u'NOUN', u'PUNCT', u'PROPN', u'PROPN', u'PROPN', u'PUNCT', u'PROPN', u'PUNCT']</span></pre><p id="3890" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">令牌的另一个非常有用的属性是它的实体类型；SpaCy可以告诉我<code class="fe og oh oi nx b">Kathmandu</code>是一个城市，或者<code class="fe og oh oi nx b">25 April</code>是一个日期。如果实体类型(<code class="fe og oh oi nx b">token.ent_type_</code>)是:</p><ol class=""><li id="7fed" class="mh mi iq kf b kg kh kk kl ko mj ks mk kw ml la mm mn mo mp bi translated"><code class="fe og oh oi nx b">NORP</code>:国籍、宗教或政治团体</li><li id="bf65" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><code class="fe og oh oi nx b">FACILITY</code>:建筑、机场、高速公路、桥梁等。</li><li id="bc34" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><code class="fe og oh oi nx b">ORG</code>:公司、机关、机构等。</li><li id="e784" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><code class="fe og oh oi nx b">GPE</code>:国家、城市、州。</li><li id="217d" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated">非GPE地区，山脉，水体。</li><li id="05a4" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><code class="fe og oh oi nx b">EVENT</code>:命名飓风、战役、战争、体育赛事等。</li><li id="1ecc" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated">绝对或相对的日期或时期。</li><li id="2c3b" class="mh mi iq kf b kg mq kk mr ko ms ks mt kw mu la mm mn mo mp bi translated"><code class="fe og oh oi nx b">TIME</code>:小于一天的时间。</li></ol><p id="b9e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果单词的词性(<code class="fe og oh oi nx b">token.pos_</code>)将它们标记为数字，或者如果它们是关键词列表中的一个(例如‘杀死’，‘受伤’，‘伤害’)，我也会包含这些单词。</p><p id="c568" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种分类大体上允许我开始整理我的推文；情景推文包含的内容词较多，非情景推文包含的内容词较少。举个例子，</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="30ea" class="lj lk iq nx b gy ob oc l od oe">@timesofindia: #Earthquake | Helpline numbers of the Indian Embassy in Nepal:\r+9779581107021\r\r+9779851135141'</span></pre><p id="86da" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">是一条非常有用的推文，正如所料，提取了许多内容词:</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="6401" class="lj lk iq nx b gy ob oc l od oe">[the, Indian, Embassy, Nepal, 977, 9581107021, 977, 9851135141]</span></pre><p id="caf6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">另一方面，</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="b55d" class="lj lk iq nx b gy ob oc l od oe">Pray for #Nepal where a powerful earthquake has struck. May the Almighty grant them ease to face this calamity with utmost sÛ_</span></pre><p id="a66d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">包含的情景信息很少，从中提取的唯一内容词是<code class="fe og oh oi nx b">[Nepal]</code>。</p><h2 id="bca7" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">1.2.tf-idf分数</h2><p id="0ac6" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">实词的一个缺点是它们不能捕捉到关于单词本身的任何信息。例如，对于这场灾难，单词<code class="fe og oh oi nx b">Nepal</code>将是一个强有力的指标，表明一条推文是否是情境性的，但它现在与任何其他内容单词的权重没有任何不同。</p><p id="390b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以使用<a class="ae kc" href="https://www.wikiwand.com/en/Tf%E2%80%93idf" rel="noopener ugc nofollow" target="_blank">术语频率—逆文档频率</a> (tf-idf)得分来引入这种加权。</p><p id="cded" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">尽管tf-idf的名称很长，但其背后的逻辑却很简单:</p><blockquote class="oj ok ol"><p id="5181" class="kd ke lb kf b kg kh ki kj kk kl km kn om kp kq kr on kt ku kv oo kx ky kz la ij bi translated">在文档主体中出现频率相当高的单词可能更重要，但是如果它们出现得太频繁，那么它们就太笼统而没有帮助。</p></blockquote><p id="b2fe" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基本上，我想给“尼泊尔”这个词打高分(它应该在许多推文中出现一次)，而不是“the”(它应该在许多推文中出现多次)。</p><p id="3dad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">数学上，某个单词<em class="lb"> t </em>的tf-idf分数可以描述为</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div class="gh gi op"><img src="../Images/8399a2755bc72bc50f40328252dc7d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*AEmHOS21zCNfYtVbMSjTQg.png"/></div></figure><p id="4861" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中c是单词<em class="lb"> t </em>在文档中出现的平均次数，N是文档总数，<em class="lb"> n </em>是单词<em class="lb"> t </em>出现的文档数。</p><p id="cd3c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="http://textacy.readthedocs.io/en/latest/api_reference.html" rel="noopener ugc nofollow" target="_blank"> Textacy </a>，一个建立在<a class="ae kc" href="https://spacy.io/docs/api/token" rel="noopener ugc nofollow" target="_blank"> SpaCy </a>之上的库，让我给推文中的单词分配tf-idf分数变得超级简单:</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="dd7f" class="lj lk iq nx b gy ob oc l od oe">WORD:morning -- tf-idf SCORE:6.45446604904<br/>WORD:bishnu -- tf-idf SCORE:8.06390396147<br/>WORD:nagarkot -- tf-idf SCORE:12.2359876248<br/>WORD:search -- tf-idf SCORE:6.35915586923<br/>WORD:kathmandu -- tf-idf SCORE:5.27350744616</span></pre><p id="7a4d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，如果我只选择有很多内容词的推文，或者甚至只选择有很多tf-idf分数高的内容词的推文，我仍然会有太多的推文供救援队实际使用。</p><p id="f945" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我想做的是找到一个简短的推文摘要，但它也包含了尽可能多的tf-idf得分最高的词。</p><h1 id="39d0" class="mv lk iq bd ll mw nr my lo mz ns nb lr nc nt ne lu nf nu nh lx ni nv nk ma nl bi translated">2.基于内容词的推文摘要</h1><p id="6513" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">为了生成对救援队有用的东西，我需要生成一些简短的东西(因此可以快速阅读)。它还需要包含对救援队有用的信息——因此摘要需要充满具有高tf-idf分数的内容词。</p><p id="12ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我可以很容易地将它定义为一个带约束条件的方程:</p><p id="94ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">等式:</strong>最大化我的摘要中内容词的总分。</p><p id="72e7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">约束1: </strong>摘要必须短于150字。</p><p id="ac80" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">约束2: </strong>如果我选择一个内容词出现在我的摘要中，那么我必须选择一些包含该内容词的tweet出现在我的摘要中。</p><p id="350d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">约束3: </strong>如果我选择某条推文放在我的摘要中，那么这条推文中的所有内容词都必须包含在内。</p><p id="e0ba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我需要在约束条件下解方程。我求解的变量(一个实词是否在摘要里)是<strong class="kf ir">整数。</strong>具体来说，选择是二进制的——如果包含该单词，选择1；如果不包含，选择0。</p><p id="94f6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种用整数变量来求解受一些约束的一些方程(最大化内容词的得分)的方法被称为<a class="ae kc" href="https://www.wikiwand.com/en/Integer_programming" rel="noopener ugc nofollow" target="_blank">整数线性规划</a> (ILP)。</p><p id="0ce3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用ILP，我可以从数学上定义我上面写的最大化</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/3f0868578f3fee716148578bc7121785.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*y5JdHfIuOOAcSX14-VVk2Q.png"/></div></figure><p id="c803" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">其中x和y是1和0的数组，取决于是否选择了tweet <em class="lb"> i </em>和内容词<em class="lb"> j </em>，Score( <em class="lb"> j </em>)是内容词<em class="lb"> j </em>的tf-idf分数。约束条件定义如下</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/fdf685ed039a00c401b0bdbd7080124c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NUYRh6H6QnPLqKyVXEZK6w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">See my <a class="ae kc" href="https://github.com/GabrielTseng/LearningDataScience/blob/master/Natural_Language_Processing/TwitterDisasters/2%20-%20COWTS.ipynb" rel="noopener ugc nofollow" target="_blank">jupyter notebook </a>for more info on what these mean</figcaption></figure><p id="1600" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<a class="ae kc" href="http://pymprog.sourceforge.net/" rel="noopener ugc nofollow" target="_blank"> pymathproj </a>来优化这个ILP问题产生了以下总结:</p><pre class="nn no np nq gt nw nx ny nz aw oa bi"><span id="2ff0" class="lj lk iq nx b gy ob oc l od oe">1. TV: 2 dead, 100 injured in Bangladesh from Nepal quake: DHAKA, Bangladesh (AP) ÛÓ A TV r...<br/>-------------<br/>2. : Earthquake helpline at the Indian Embassy in Kathmandu-+977 98511 07021, +977 98511 35141<br/>-------------<br/>3. +91 11 2301 7905om no for Nepal #earthquake +91 11 2301 2113<br/>-------------<br/>4. Tremors felt in West Bengal after 7.9 Magnitude Earthquake in Nepal <br/>-------------<br/>5. This mobile App may help these people to predict this powerfull M7.9 earthquake <br/>-------------<br/>6. 5.00 earthquake occured 31km NNW of Nagarkot, Nepal at 09:30 UTC! #earthquake #Nagarkot <br/>-------------<br/>7. Earthquake in bihar up punjab haryana delhi ncr and nepal <br/>-------------<br/>8. : Whole Himalayan region is becoming non stable. Two yrs back Uttrakhand, then Kashmir now Nepal n north east. Even Tibet isÛ_<br/>-------------<br/>9. WellingtonHere Nepal's Home Ministry Says at Least 71 People Killed in the Earthquake: Nepal'...  WellingtonHere<br/>-------------<br/>10. 934s of major earthquake-s in Nepal:<br/>-------------<br/>11. Historic Dharahara tower collapses in Kathmandu after quake | Latest News &amp;amp; Updates at Daily...<br/>-------------<br/>12. Powerful quake near Nepal capital causes widespread damage, avalanche near Everest base camp</span></pre><p id="a0ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">将此与随机推文进行比较:</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/41e74e09cd678fd1c1cc78ffcef18c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Ot2eCdODNrqXzeT6byQ2Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">A comparison of the tweets selected by COWTS to a random selection from the database.</figcaption></figure><p id="dd0c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">肯定有一些噪音，但并不坏！摘要尤其擅长提供位置信息，例如描述震中在哪里以及哪些区域受到地震影响。</p><h1 id="f4c6" class="mv lk iq bd ll mw nr my lo mz ns nb lr nc nt ne lu nf nu nh lx ni nv nk ma nl bi translated">3.结论</h1><p id="a2c8" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">如果我再次做这个项目，我会<strong class="kf ir">使用一个</strong> <a class="ae kc" href="http://www.nltk.org/howto/twitter.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> twitter特有的</strong> </a> <strong class="kf ir">标记器</strong>。SpaCy的tokenizer实际上在标记数据方面相当糟糕，因为所有的缩写和twitter专用术语。我还会对数据进行更多的清理，因为拼写错误和缩写也可能会损害记号赋予器的性能。</p><p id="9083" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，用除了<a class="ae kc" href="https://www.wikiwand.com/en/Word_embedding" rel="noopener ugc nofollow" target="_blank">单词嵌入</a>之外的方法来比较和量化文本数据是很棒的。此外，这种方法的速度让我相信它可以由救援队实施；特别是，如果使用更小的推文子集(例如，每日推文，而不是覆盖整个事件的推文)，这将非常有用！</p><h2 id="e14a" class="lj lk iq bd ll lm ln dn lo lp lq dp lr ko ls lt lu ks lv lw lx kw ly lz ma mb bi translated">3.1进一步阅读</h2><p id="9391" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated">这个项目涉及实施各种不同的文件；这里有一些很酷的论文，可以进一步探索灾难中的twitter摘要:</p><p id="565a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://arxiv.org/abs/1605.05894" rel="noopener ugc nofollow" target="_blank"> Twitter作为生命线:危机相关消息的自然语言处理的人类注释Twitter语料库</a></p><p id="860c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://www.aaai.org/ocs/index.php/ICWSM/ICWSM11/paper/view/2834" rel="noopener ugc nofollow" target="_blank">自然语言处理拯救？在大规模突发事件中提取“情境感知”推文</a></p><p id="8492" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="http://dl.acm.org/citation.cfm?id=2914600" rel="noopener ugc nofollow" target="_blank">总结危机场景中的情景推文</a>(本帖实质上实现了本文)</p><h1 id="9506" class="mv lk iq bd ll mw nr my lo mz ns nb lr nc nt ne lu nf nu nh lx ni nv nk ma nl bi translated">更新—使用NLTK的twitter标记器</h1><p id="a5b5" class="pw-post-body-paragraph kd ke iq kf b kg mc ki kj kk md km kn ko me kq kr ks mf ku kv kw mg ky kz la ij bi translated"><a class="ae kc" href="https://github.com/GabrielTseng/LearningDataScience/blob/master/Natural_Language_Processing/TwitterDisasters/NLTK/2%20-%20Tweet%20Summarization.ipynb" rel="noopener ugc nofollow" target="_blank">链接到代码</a></p><p id="682b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我用NLTK代替spaCy重复了这个练习。这允许我使用NLTK的<a class="ae kc" href="http://www.nltk.org/_modules/nltk/tokenize/casual.html#TweetTokenizer" rel="noopener ugc nofollow" target="_blank"> twitter特定标记器</a>对tweets进行标记，产生以下摘要(与spaCy输出相比):</p><figure class="nn no np nq gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ot"><img src="../Images/b75bd989031db3253fa6826d618f2934.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h-1CkwUnf6TRVfNuTCkswQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">NDRF: India’s <a class="ae kc" href="https://www.wikiwand.com/en/National_Disaster_Response_Force" rel="noopener ugc nofollow" target="_blank">Natural Disaster Response Force</a></figcaption></figure><p id="a9d2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因为内容词的定义不同，所以很难定量地比较这两个输出，但是值得注意的是NLTK的实体识别系统(我用的是斯坦福的NER)明显比spaCy的慢。</p></div><div class="ab cl lc ld hu le" role="separator"><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh li"/><span class="lf bw bk lg lh"/></div><div class="ij ik il im in"><p id="eecb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我(试图)在第2部分中使用这些精选的tweets建立一个抽象的总结:</p><div class="ou ov gp gr ow ox"><a href="https://medium.com/towards-data-science/summarizing-tweets-in-a-disaster-part-ii-67db021d378d" rel="noopener follow" target="_blank"><div class="oy ab fo"><div class="oz ab pa cl cj pb"><h2 class="bd ir gy z fp pc fr fs pd fu fw ip bi translated">总结灾难中的推文(第二部分)</h2><div class="pe l"><h3 class="bd b gy z fp pc fr fs pd fu fw dk translated">现在是2015年5月，救援队正在努力重建4月地震(及其余震)后的尼泊尔。可以…</h3></div><div class="pf l"><p class="bd b dl z fp pc fr fs pd fu fw dk translated">medium.com</p></div></div><div class="pg l"><div class="ph l pi pj pk pg pl jw ox"/></div></div></a></div></div></div>    
</body>
</html>