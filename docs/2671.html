<html>
<head>
<title>Super Simple Machine Learning — Multiple Linear Regression Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">超级简单的机器学习—多元线性回归第 1 部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/super-simple-machine-learning-by-me-multiple-linear-regression-part-1-447800e8b624?source=collection_archive---------3-----------------------#2018-02-19">https://towardsdatascience.com/super-simple-machine-learning-by-me-multiple-linear-regression-part-1-447800e8b624?source=collection_archive---------3-----------------------#2018-02-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="8469" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这篇超长的文章中，我简要描述了多元线性回归的工作原理以及你需要注意的标准。所以给自己找些水和零食，因为这需要一段时间。</p><p id="e348" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">大部分的基本概念都包含在我的简单线性回归帖子中，这些帖子可以在</em> <a class="ae km" rel="noopener" target="_blank" href="/super-simple-machine-learning-by-me-simple-linear-regression-part-1-concept-and-r-4b5b39bbdb5d"> <em class="kl">她的</em> </a> <em class="kl"> e 中找到。我曾打算在一篇帖子中快速涵盖 MLR，但实在有太多的事情要解决。叹气。</em></p><h1 id="560c" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">多元线性回归是简单的线性回归，但是有更多的关系(更多的 x。更多前任。哈哈。)</h1><p id="a61b" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">这就像当你的姐姐有了一个婴儿，他曾经是房子里所有噪音的唯一贡献者，但后来她又有了两个，现在这三个都是噪音的贡献者。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/b99a1eb45fc663d45297012edd0ca52d.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*MWgt_oYtAQZb9xHAEOVIgA.png"/></div></figure><p id="7eff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">成为</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ly"><img src="../Images/d0904d83feb65f2493e9815841ff1361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nkZkR0HI9zu5wS0zYy789Q.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">A multiple linear regression with 2 more variables, making that 3 babies in total. Too many babies.</figcaption></figure><p id="6f1c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">多元线性回归解释了<strong class="jp ir">一个连续因变量</strong> ( <em class="kl"> y </em>)和<strong class="jp ir">两个或多个自变量</strong> ( <em class="kl"> x </em> 1，<em class="kl"> x </em> 2，<em class="kl"> x </em> 3…等)<strong class="jp ir">之间的关系。</strong></p><p id="7684" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，它显示的是<strong class="jp ir">连续的</strong>因变量。由于<em class="kl"> y </em>是<em class="kl"> beta </em>、<em class="kl"> beta </em> 1 <em class="kl"> x </em> 1、<em class="kl"> beta </em> 2 <em class="kl"> x </em> 2 <em class="kl">等</em>之和，因此得到的<em class="kl"> y </em>将是一个数字，一个连续的变量，而不是一个“是”、“否”的答案(分类)。</p><p id="81e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，使用线性回归，我将试图找出<strong class="jp ir">产生了多少分贝的</strong>噪音，而不是噪音是否有(噪音|无)。</p><blockquote class="mh mi mj"><p id="60e0" class="jn jo kl jp b jq jr js jt ju jv jw jx mk jz ka kb ml kd ke kf mm kh ki kj kk ij bi translated">为了找到分类变量(例如“<em class="iq">是</em>或“<em class="iq">否</em>”、“<em class="iq"> 1 </em>或“<em class="iq"> 0 </em>”)，将使用逻辑回归。我下次会谈到这一点。</p></blockquote><h1 id="b423" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">让我们从数据开始</h1><p id="0ead" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">到处都可以找到测试代码的数据集。</p><p id="6135" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">sklearn 有<a class="ae km" href="http://scikit-learn.org/stable/datasets/index.html#datasets" rel="noopener ugc nofollow" target="_blank">玩具数据集</a>用于不同类型的算法(回归、分类等),非常适合实践。Kaggle 还有现实生活中的<a class="ae km" href="https://www.kaggle.com/datasets" rel="noopener ugc nofollow" target="_blank">数据集</a>。</p><p id="0a16" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，在野外，当您遇到数据集时，它将是一个丑陋的 AF。它会有丢失的值、错误的条目、格式错误的列、不相关的变量……甚至在清理之后，可能你的 p 值看起来很糟糕，你的 R 平方太低。你需要选择好的特征，尝试不同的算法，调整你的超参数，添加时间延迟，转换列的数据…</p><p id="0c39" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在现实生活中，运行一个模型并不是那么简单，这就是为什么人们做这件事会得到很多报酬，这样他们就可以资助他们的头皮治疗，以从压力引起的脱发中恢复过来。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/95388548bd29d724b3c55e50faf89c97.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*L18uN16ewD3IU1RKgUjn8w.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Exploring a dataset is like surfing along the coast of Cinnabar Island… you’ll find MissingNo(s). *badum tss*</figcaption></figure><h1 id="3550" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">分类变量&gt;&gt;&gt;连续变量</h1><p id="e477" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">由于回归方程的性质，<strong class="jp ir">你的<em class="kl"> x </em>变量也必须是连续的</strong>。因此，你需要把你的分类变量变成连续变量。</p><p id="9985" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">连续变量简单来说就是流水号。分类变量是类别。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi mo"><img src="../Images/62e78d9b78ddcca91322f7af95d7e165.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tm4IJOoguVQUPYPZWiAobQ.png"/></div></div></figure><p id="3c6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">当你的分类变量在第一次</strong>连续出现时，会有点混乱。</p><p id="3752" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果有一列邮政编码或电话号码会怎么样？</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/6700041c237f5c52564e0fd6185dff6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:262/format:webp/1*BeZBy54p80Dv2gXzvUSpDg.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Continuous at first glance, but actually categorical.</figcaption></figure><p id="f55b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">每个邮政编码代表一个唯一的地址，每个电话号码只是一个唯一的联系号码。增加/减少这个数字没有任何意义——它们只是没有内在数值的标识符，因此,<strong class="jp ir">被认为是分类的</strong>。</p><p id="7d79" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">分类变量也被称为<strong class="jp ir">离散</strong>或<strong class="jp ir">定性</strong>变量。有 3 种类型:</p><ul class=""><li id="c262" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><strong class="jp ir">标称</strong>:2 种以上。例如颜色</li><li id="1b67" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><strong class="jp ir">二分的</strong>:两种类型，例如是或否</li><li id="3f71" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><strong class="jp ir">顺序</strong>:多于两种类型，但有一个等级/顺序，例如低于平均值、平均值、高于平均值</li></ul><h1 id="60c6" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">我们该拿他们怎么办？</h1><p id="f63a" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">有几种方法<a class="ae km" href="https://www.analyticsvidhya.com/blog/2015/11/easy-methods-deal-categorical-variables-predictive-modeling/" rel="noopener ugc nofollow" target="_blank">将分类数据转换成可用于回归的连续变量</a>。</p><h2 id="54a8" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated"><strong class="ak">标签编码器:</strong></h2><h2 id="d345" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">对于二分变量</h2><p id="e894" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">对于<strong class="jp ir">二分变量</strong>的简单解决方案是将其转换为二进制——“1”表示“是”,“0”表示“否”,反之亦然。您的标签应该从 0 开始。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/be3041068e48916a241b3eef1263849e.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*MBMYBDTv025-6aGF8ay33A.png"/></div></figure><p id="5cb6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">名义变量和序数变量</strong>稍微麻烦一点。</p><h2 id="082a" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">对于名义变量</h2><p id="ef01" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">假设你有三种不同的颜色:红色、蓝色和灰色。按照上面的概念，你把红色标为 0，蓝色标为 1，灰色标为 2。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/764f93ba64cefd2887bc4eb5586da3db.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*EKaGuRi09zPTozfzijciqA.png"/></div></figure><p id="fcac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这样做的问题是，它意味着灰色比红色和蓝色更高级，蓝色比红色更高级，如果你认为所有三种颜色都具有相同的“价值”，这些颜色中没有一种比另一种更高级。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ns"><img src="../Images/c5e90aa938040fd947aa2ebe241a8d8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EeqV8g-Wt6Vr3CT9dYp3Vw.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Reckless labelling can lead to disastrous consequences (The Office S3 E1)</figcaption></figure><h2 id="07dc" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">对于序数变量</h2><p id="0b0b" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">带标签的“排名”对顺序变量更有效，因为它们确实有排名，并且应该被赋予不同的权重。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/79ab34d2a16e2acca0433b57d8e2cbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*Id_6Gm9UCy_LHYB0nT7-mA.png"/></div></figure><p id="0b93" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当面对<strong class="jp ir">不应有不同权重</strong>、<a class="ae km" href="http://forums.fast.ai/t/to-label-encode-or-one-hot-encode/6057/4" rel="noopener ugc nofollow" target="_blank">的标称变量时，首选一个热编码</a>。</p><h2 id="8106" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">一个热编码/创建虚拟变量:</h2><p id="f7b2" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">为了不给处于相同竞争环境的类别任何不相等的值，我们使用一个热编码。这是通过创建虚拟变量来实现的，这意味着创建更多的“<em class="kl">x</em>”s。这些将是假的/虚拟的变量，因为它们是实际变量的占位符，并且是由您自己创建的。</p><p id="0a6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">很简单。对于变量所在的每一层，只需为每一层创建一个新的 x。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/d3ac0fc39d7aea04f5bf1d7c61965177.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*lbKC9p-5icOB93WFr8D-Ug.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">easy peasy</figcaption></figure><p id="a1bb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">等等……格雷呢？</p><p id="44e1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你的变量只能是 3 种颜色，那么你只能使用 2 个虚拟变量。灰色成为参照类别，在你的<em class="kl"> X </em>(蓝色)和<em class="kl"> X </em>(红色)都为 0 的情况下，则默认变量为灰色。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nv"><img src="../Images/b5eb355660cd5f43b9bfae46778ced00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCv3mfifDxMAvOYyOpuwGg.png"/></div></div></figure><p id="26db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您选择排除哪个变量并将其用作<a class="ae km" href="https://www.theanalysisfactor.com/strategies-dummy-coding/" rel="noopener ugc nofollow" target="_blank">参考类别</a>有关系吗？</p><p id="e9de" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">不会。但最佳实践是使用最常出现的类别(例如，如果数据集的 70%是灰色的，那么灰色将是参考类别)。</p><h2 id="41a3" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">合并级别:</h2><p id="fda5" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">回到邮政编码这一栏，假设您有 500 行客户，它们都有自己唯一的邮政编码。对 500 个不同的邮政编码进行热编码有意义吗？</p><p id="fef0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这将向您的数据集中添加 500 列，使您的模型变得混乱，并使您患上偏头痛。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/a1f5baccbc75130fd0f4c187fcde8a80.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*sWjEzBv-8zRGh34FgZgVZQ.png"/></div></figure><p id="efba" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这也是毫无意义的，因为每个邮政编码都是唯一的。它没有给你的模型增加洞察力，因为你如何使用这样的信息来预测新数据的结果？如果您需要预测居住在邮政编码 323348 的人的收入水平，如果您的数据集中没有这样的邮政编码，您的模型将如何处理呢？它从来没有见过这个邮政编码，也不能告诉你任何关于它的信息。</p><p id="5637" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你<em class="kl">所能做的</em>是<strong class="jp ir">将</strong>转换成你可以用来对未来数据进行分类的东西，比如按照它们的<strong class="jp ir">区域</strong>对这些邮政编码进行分组(这些数据不在数据集中，但需要来自领域知识或研究)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi nx"><img src="../Images/d6878731cb956671832b9bbeeca09c62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dsw8WqbTDQgK7ECLevw8-w.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">what is this, tables for ants?! Apologies for the tiny font.</figcaption></figure><p id="abf4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以你得到的不是<strong class="jp ir"> 500 </strong>不同的邮政编码，而是<strong class="jp ir"> 4 </strong>个地区，北部、南部、东部或西部(或者根据你想要得到的具体程度，它可以是实际的地区，如后港、义顺、贝多克、果园等。这些是新加坡的地区名称)。</p><p id="9a9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这意味着如果新的数据出现在你需要预测结果的地方，你可以根据新的邮政编码属于哪个区域来预测<em class="kl"> y </em>。</p><h2 id="4bb3" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">有意义的标签:</h2><p id="c51b" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">有一点要时刻牢记，不要盲目贴标签。</p><blockquote class="ny"><p id="67b9" class="nz oa iq bd ob oc od oe of og oh kk dk translated">它必须有意义。</p></blockquote><p id="f960" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated">例如，在对序数变量(有秩的分类变量)进行编码时，必须确保秩值对应于每个秩的实际显著性(也可以看作是它与因变量的关系)。</p><p id="d056" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">例如，如果你正在出售一栋房子，而<em class="kl"> y </em> = <em class="kl">价格</em>，而<em class="kl"> x </em>变量之一是公寓所在的楼层，如果楼层随着楼层的升高而涨价，则将楼层编码为整数是有意义的:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2aaeb2a651e95b180be0d5ff10cac938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*OziGZfOX9p_05bw_ECl4tA.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Encoding it this way is appropriate to show its relationship with the Y variable (price)</figcaption></figure><p id="1c52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然而，如果该值没有相应地增加，也许一个热编码和合并级别会更合适:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/038d6be74565f79b2fee87da3d6a247a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*l7sb4B9itmlierj9zw6FvQ.png"/></div></figure><p id="d272" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi op"><img src="../Images/6fdb70ac5998685bc86dd7e18961c886.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ho_b9OS2lbRfdjCDYFMdcw.png"/></div></div></figure><p id="b398" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">或者如果你不知道这是什么关系:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi oq"><img src="../Images/be2c457f5796925e1dde62103ec9eace.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RvEtqQrdIziMx1seLltgTA.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">One hot encode everything!!!! There are packages that can do this for you, don’t worry.</figcaption></figure><p id="a886" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">永远确保无论你如何转换你的分类变量，确保你回头看它，问自己“这有意义吗？”</p><p id="092c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有时没有正确的答案，所以问题就变成了“这样做是否让<strong class="jp ir">更有</strong>意义？”</p><p id="4516" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">可能会变成，“但是什么有意义？”并引出“什么是意义？”变成了“是什么？”然后进入一周的存在主义虚无主义。</p><p id="979b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">底线是:<em class="kl">了解你的数据</em></p><h1 id="231a" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">特征选择</h1><p id="a072" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">变量过多可能会导致模型变得不准确，尤其是当某些变量对结果没有影响或对其他变量有显著影响时。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi or"><img src="../Images/7fc62b9db368fa21ceb1ba6694db44e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*VDHwuBAZcH6cXGIIwzHNdg.gif"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Variables that have no significant effect or high collinearity can ruin the model</figcaption></figure><p id="a0bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们以三个婴儿的尖叫为例。如果我要对我的回归方程建模，以找出基于这 4 个变量产生的噪音分贝数=婴儿 1、婴儿 2、婴儿 3、灯(开或关)，这将不是一个好的模型。这是因为我的蜘蛛感官告诉我，灯不应该产生噪声，因此灯和噪声之间的任何可能的相关性都是虚假和不准确的。</p><blockquote class="ny"><p id="1365" class="nz oa iq bd ob oc od oe of og oh kk dk translated">功能选择的基本步骤:使用您的常识和/或商业感觉</p></blockquote><p id="c95b" class="pw-post-body-paragraph jn jo iq jp b jq oi js jt ju oj jw jx jy ok ka kb kc ol ke kf kg om ki kj kk ij bi translated">选择要素的另一种方法是使用 p 值。正如我们<a class="ae km" href="https://medium.com/swlh/super-simple-machine-learning-simple-linear-regression-part-3-validation-65b8c11fa36b" rel="noopener">上一次讨论</a>时，p 值告诉您变量的统计显著性。<strong class="jp ir">移除具有<strong class="jp ir">高 p 值</strong>的</strong>变量会导致您的精确度/R 平方增加，甚至其他变量的 p 值也会增加——这是一个好迹象。</p><p id="563e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这种省略变量的行为是<a class="ae km" href="https://en.wikipedia.org/wiki/Stepwise_regression" rel="noopener ugc nofollow" target="_blank">逐步回归</a>的一部分。有三种方法可以做到这一点:</p><ul class=""><li id="8417" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><strong class="jp ir">正向选择</strong>:从 0 开始。反复运行模型，尝试每个变量。找到给出最佳指标的变量(例如 p 值、调整后的 R 平方、SSE、准确度百分比)，并坚持使用它。使用选择的变量再次运行模型，每次尝试剩余变量中的一个，并坚持使用最佳变量。重复该过程，直到添加不再改善模型。</li></ul><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi os"><img src="../Images/382eae02874b17bb65935085a55db292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_zVUqukJcWDHv9aMRGEyaA.gif"/></div></div></figure><ul class=""><li id="0d33" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><strong class="jp ir">逆向淘汰</strong>:从所有变量开始。多次尝试模型，每次排除一个变量。当遗漏变量时，移除使模型改进最多的变量。在不移除变量的情况下重复该过程，直到您所判断的指标不再提高。</li></ul><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi os"><img src="../Images/bb0a96aea0dbb5da9190926c38c1d0e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8dLiSV6kaVV3JafgzJXrqg.gif"/></div></div></figure><ul class=""><li id="8afc" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><strong class="jp ir">双向淘汰</strong>:进行正向选择，但在某些阶段也进行反向淘汰。因此，你可以在一个阶段，你已经添加了 X1，X2，X5 和 X8，然后做消除 X2。<a class="ae km" href="https://stats.stackexchange.com/questions/97250/stepwise-regression-in-r-with-both-direction" rel="noopener ugc nofollow" target="_blank">这是一个很好的例子</a>。</li></ul><p id="ca12" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一些了不起的人创造了 R 和 Python 包，它们自动完成这些过程，根据特定的度量标准(如调整后的 R 平方或 AIC 或 p 值)选择“最佳模型”。<a class="ae km" href="https://planspace.org/20150423-forward_selection_with_statsmodels/" rel="noopener ugc nofollow" target="_blank">这里的</a> <a class="ae km" href="https://cran.r-project.org/web/packages/olsrr/vignettes/variable_selection.html" rel="noopener ugc nofollow" target="_blank">都是我找到的</a> <a class="ae km" href="https://www.statmethods.net/stats/regression.html" rel="noopener ugc nofollow" target="_blank">的一些</a>。</p><p id="d121" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注意:</strong>逐步回归是一种快速获得更好评分模型的方法，尤其是在运行简单模型时。它被广泛使用，但是<a class="ae km" href="https://www.quora.com/Regression-statistics-Why-is-stepwise-so-criticised-What-are-the-flaws-in-this-method" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">也被广泛批评</strong> </a>不准确。我一直被教导使用逐步，所以我很想听听你的意见。</p><p id="65c5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">逐步回归的替代方法是 LASSO(最小绝对收缩和选择算子)方法，我将在下一次介绍。或者你可以在这里读到它。</p><h1 id="3fe5" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">相关性和共线性</h1><p id="6591" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">检查共线性有助于通过与另一个变量有<strong class="jp ir">显著关系</strong>来消除扭曲数据的变量。</p><p id="7a37" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">变量之间的<strong class="jp ir">相关性</strong>描述了两个变量之间的<strong class="jp ir">关系</strong>。如果它们是<strong class="jp ir">极相关</strong>，那么它们就是<strong class="jp ir">共线</strong>。</p><p id="d757" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae km" href="http://www.statisticssolutions.com/assumptions-of-linear-regression/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">自相关</strong> </a>发生在一个变量的数据影响到同一个变量的另一个实例(同一列，不同行)时。只有当数据集中很少或没有自相关，并且每个实例相互独立时，线性回归才有效。如果实例是自相关的，那么您的残差不是相互独立的，并且将显示一个模式。这通常发生在时间序列数据集中，所以当我介绍时间序列回归时，我会更详细地介绍。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ot"><img src="../Images/511dafea0811f525666baf6cf7e898a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NG0bzk0wtQcBdMYAnXKeBQ.jpeg"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">In stock market data, based on prices at a certain time, you can roughly guess what the prices will be in the future following that, showing the dependancy of the future instance on the previous one.</figcaption></figure><p id="f4df" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">当回归模型中的两个或多个预测值(<em class="kl"> x 变量</em>)中度或高度相关时(不同列)，存在多重共线性</strong>。当我们的一个<strong class="jp ir">预测者能够强有力地预测另一个预测者或者彼此之间有怪异的关系</strong>(可能是<em class="kl"> x </em> 2 = <em class="kl"> x </em> 3 或者<em class="kl">x</em>2 = 2(<em class="kl">x</em>3)+<em class="kl">x</em>4)，那么你的回归方程将会变得一团糟。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi ou"><img src="../Images/0774d0540c4c1deb4fa7ad1fd7e26a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kVKUjIpnzSx8JmXSeJkJ7w.jpeg"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Multicollinearity: One x variable = Orange colour, Other x variable = number of oranges. They would be highly correlated as the number of oranges affects the orange-ness of the juice. Orange you pleased with this simple analogy?</figcaption></figure><p id="4b43" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为什么多重共线性是回归的一个问题？嗯，回归方程是代表预测值和因变量影响的<strong class="jp ir">最佳拟合线，而<strong class="jp ir">不包括一个预测值对另一个</strong>的影响。</strong></p><p id="beca" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">预测值之间的高度共线性(相关性为 1.00)将影响您的系数和准确性，以及降低 SSE(误差平方和-您需要通过回归最小化的东西)的能力。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/c7e1297e86f99f8746e223855f7b00d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*KGzUcffJTgzVX0i6MwBtvg.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Example of a correlation plot taken from <a class="ae km" href="https://www.mathworks.com/help/econ/corrplot.html" rel="noopener ugc nofollow" target="_blank">https://www.mathworks.com/help/econ/corrplot.html</a> comparing 5 variables with each other</figcaption></figure><p id="bcd1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检测共线性的最简单的方法是用图表示出来，或者查看相关矩阵来检查成对的相关性(两个变量之间的相关性)。</p><p id="153f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你有两个高度相关的变量，你最好的办法就是去掉其中一个。</p><h1 id="823b" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">共线性正在影响你的回归生活的 4 大迹象——你会被第 3 个震惊！</h1><ol class=""><li id="9501" class="mq mr iq jp b jq ll ju lm jy ow kc ox kg oy kk oz mw mx my bi translated">当你的系数(<em class="kl"> bx </em>中的<em class="kl"> b </em>)为<em class="kl">负</em>时，但你从常识和商业知识中知道该变量的作用应该是<em class="kl">正的。</em>或当系数<em class="kl">过小时</em>对于一个应该有<em class="kl">更大影响的变量</em>。</li><li id="c7bd" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk oz mw mx my bi translated">当你用那个<em class="kl"> x </em>变量运行一个模型，而你不用那个<em class="kl"> x </em>变量运行另一个模型，这些模型的系数<em class="kl">完全不同</em>。</li><li id="99e7" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk oz mw mx my bi translated">当每个单独斜坡的<em class="kl">t</em>-测试不显著，但总的<em class="kl">F</em>-测试显著时。这是因为多重共线性导致一些变量看起来没有用，因此降低了 t-stat，但对总体来看的 F-统计量没有影响。</li><li id="ca3f" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk oz mw mx my bi translated">当你的 VIF 偏离图表是 5 或更多</li></ol><h1 id="e453" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">VIF 是什么国家？！</h1><p id="3c73" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">VIF:差异通货膨胀系数</p><p id="a11b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> VIF </strong>是从模型中导出的系数的<strong class="jp ir">方差被共线性</strong>夸大了多少的度量。它有助于检测仅通过目测两两相关图无法发现的多重共线性，甚至可以检测 3 个或更多变量之间的密切关系。</p><p id="1df3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它是通过[所有系数的方差]除以[当一个变量是模型中唯一的变量时，该变量的系数的方差]的比率<strong class="jp ir">来计算的。</strong></p><blockquote class="ny"><p id="c381" class="nz oa iq bd ob oc od oe of og oh kk dk translated">VIF = 1:预测值和其他变量之间没有相关性</p><p id="019c" class="nz oa iq bd ob oc od oe of og oh kk dk translated">VIF = 4:可疑，需要调查</p><p id="c467" class="nz oa iq bd ob oc od oe of og oh kk dk translated">VIF = 5-10:“休斯顿，我们有一个问题。”调查一下或者放弃这个变量。</p></blockquote><pre class="pa pb pc pd pe pf pg ph pi aw pj bi"><span id="aa81" class="ne ko iq pg b gy pk pl l pm pn"><a class="ae km" href="https://etav.github.io/python/vif_factor_python.html" rel="noopener ugc nofollow" target="_blank"><strong class="pg ir">Finding VIF in Python:</strong></a></span><span id="6b10" class="ne ko iq pg b gy po pl l pm pn"><strong class="pg ir">from</strong> <strong class="pg ir">statsmodels.stats.outliers_influence</strong> <strong class="pg ir">import</strong> variance_inflation_factor</span><span id="783f" class="ne ko iq pg b gy po pl l pm pn">y, X = dmatrices('y ~ x1 + x2', dataset, return_type='dataframe')</span><span id="b1e6" class="ne ko iq pg b gy po pl l pm pn">vif_df = pd.Dataframe()<br/>vif_df["vif"] = [variance_inflation_factor(X.values, i) <strong class="pg ir">for</strong> i <strong class="pg ir">in</strong> range(X.shape[1])]</span><span id="930f" class="ne ko iq pg b gy po pl l pm pn">vif_df["features"] = X.columns<br/>print(vif_df)</span><span id="4a78" class="ne ko iq pg b gy po pl l pm pn"><a class="ae km" href="http://minato.sip21c.org/msb/man/VIF.html" rel="noopener ugc nofollow" target="_blank">Finding VIF in R</a><br/><br/> reg &lt;- lm(y ~ x1+x2,x3, data=dataset)<br/> summary(reg)<br/> <br/> VIF(lm(x1 ~ x2+x3, data=dataset))<br/> VIF(lm(x2 ~ x1+x3, data=dataset))<br/> VIF(lm(x3 ~ x2+x1, data=dataset))</span></pre><h1 id="33f8" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">调整后的 R 平方</h1><p id="7a61" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">我们在上一篇文章中学习了 R 的平方。概括地说，它衡量回归线与实际结果的吻合程度<strong class="jp ir">。让我们潜入更深的地方。</strong></p><p id="912c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">它的公式是:</p><p id="3f4e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl"> R 平方=解释偏差/总偏差</em></p><p id="b720" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">解释方差</em> </strong> = <a class="ae km" href="https://en.wikipedia.org/wiki/Explained_sum_of_squares" rel="noopener ugc nofollow" target="_blank">回归平方和(SSR) </a>【不要与 RSS(残差平方和)混淆，RSS 也称为 SSE】</p><p id="06d8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总平方和(SST) = SSR + SSE(误差平方和)</p><p id="7ae5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以把它看成 SSE 是“<em class="kl">无法解释的变异</em>”。记住 SSE 是你的实际值(<em class="kl"> y </em>)和你的预测值(<em class="kl"> y-hat </em>)之间的误差</p><p id="64a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="kl">总变差</em> </strong> = SST(总平方和)。每个变量与该变量总体平均值之间的平均平方差(y- ybar)。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lz ma di mb bf mc"><div class="gh gi pp"><img src="../Images/5db6b1a10b72ab5185a268e492e2d877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qt2AJ_awegXHYa3iiVbLwQ.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk">SOS.</figcaption></figure><p id="def2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以 R 平方基本上是这样的:</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/abc8e1abc157b3e7980e14feb2cf623f.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*hXnfN_PUuvbvtJe1XmKVRw.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">htt<!-- -->p://blog.minitab.com/blog/statistics-and-quality-data-analysis/r-squared-sometimes-a-square-is-just-a-square</figcaption></figure><p id="6e96" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在这一点已经清楚了，让我们来看看调整后的 R 平方。</p><h2 id="800d" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">为什么要调整？</h2><p id="cfcc" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">因为您的分子是<strong class="jp ir">方差之和</strong>，所以添加更多的预测值(<em class="kl"> x </em>变量)将<strong class="jp ir">总是增加</strong>的 R 平方，从而随着预测值的增加而变得不准确。</p><p id="831e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">另一方面，<strong class="jp ir">调整的 R 平方</strong>，<strong class="jp ir">说明了预测器数量的增加。</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/81c3b793ef3be73d1653638dfd515a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*XCcet3Ko4eAMo63C1zD5LQ.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk"><a class="ae km" href="https://www.graphpad.com/guides/prism/7/curve-fitting/index.htm?reg_interpreting_the_adjusted_r2.htm" rel="noopener ugc nofollow" target="_blank">https://www.graphpad.com/guides/prism/7/curve-fitting/index.htm?reg_interpreting_the_adjusted_r2.htm</a></figcaption></figure><ul class=""><li id="632a" class="mq mr iq jp b jq jr ju jv jy ms kc mt kg mu kk mv mw mx my bi translated"><em class="kl"> n </em>指的是数据点的数量(例如数据集中的行数)</li><li id="67ba" class="mq mr iq jp b jq mz ju na jy nb kc nc kg nd kk mv mw mx my bi translated"><em class="kl"> k </em>指 x 个变量的个数</li></ul><p id="ce98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">由于等式的性质，调整后的 R 平方应始终低于或等于 R 平方。</p><h2 id="3982" class="ne ko iq bd kp nf ng dn kt nh ni dp kx jy nj nk lb kc nl nm lf kg nn no lj np bi translated">如何评价什么好什么不好？</h2><p id="3e10" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">使用调整后的 R 平方的一个好方法是用不同的变量对模型进行几次迭代(例如进行逐步回归)。你可以看到调整后的 R 平方是如何增加的，当增加更多变量时，可能会在减少之前达到一个最佳点。然后你应该把它保持在那些给你最佳调整 R 平方的变量上。</p><p id="56e8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">任何能够显著预测结果变量，从而提高您的准确性的变量，都将导致更高的调整后 R 平方。</p><h1 id="a576" class="kn ko iq bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk bi translated">那都是乡亲们！暂时如此。</h1><p id="f60f" class="pw-post-body-paragraph jn jo iq jp b jq ll js jt ju lm jw jx jy ln ka kb kc lo ke kf kg lp ki kj kk ij bi translated">喘口气。祝贺你到达这篇文章的结尾！</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/a3f297ac53571e8d0ea06c6074d350b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*976C-yRFHLvHtrQKEZcENA.png"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk">Take this cute photo - of a sleeping cat that I pet-sit — as your reward.</figcaption></figure><p id="ccb1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下一篇文章将介绍使用 gretl 和 python 的实际建模，以及更多检查准确性的方法。</p><p id="7253" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下次见！</p></div></div>    
</body>
</html>