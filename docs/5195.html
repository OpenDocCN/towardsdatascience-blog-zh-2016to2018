<html>
<head>
<title>The art of A/B testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B 测试艺术</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-art-of-a-b-testing-5a10c9bb70a4?source=collection_archive---------2-----------------------#2018-10-03">https://towardsdatascience.com/the-art-of-a-b-testing-5a10c9bb70a4?source=collection_archive---------2-----------------------#2018-10-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="92fe" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">走过统计意义的美丽数学</h2></div><p id="95c1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb"> A/B 测试，又名。分割测试，指的是一种实验技术，根据选定的标准来确定新的设计是否带来改进。</em></p><p id="3f99" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">在网络分析中，想法是用一个新的网站(B)挑战一个现有的网站(A ),通过随机分割流量并比较每个分割的指标。</em></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/5c94cbbef779a1bb5497a68063d4399c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KGsGDvJA6GJ9nyEQ"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Exchanging on interface layouts</figcaption></figure><p id="a4ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了举例，让我们看看美容公司丝芙兰东南亚(丝芙兰海，我工作的地方)，特别是它的电子商务平台。</p><h1 id="bb22" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">使用案例</h1><p id="528d" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">让我们假设 Sephora SEA 正在考虑为其黄金会员重新安排登陆页面。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mp"><img src="../Images/a820502825d4997dc3536aa0ff8a6014.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iiQPP5ecFiWx3SMCUg36FQ.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Landing pages pane arrangement: version A (current) and version B (alternative to be tested)</figcaption></figure><p id="451b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对公司至关重要的指标是:</p><ul class=""><li id="296c" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">每次会话花费在登录页面上的平均时间</li><li id="7863" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">转换率，定义为以交易结束的会话比例</li></ul><p id="e312" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">A/B 测试可用于挑战当前的安排。</p><p id="1ee0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，如果您担心版本 b 造成的损失，您可以选择流量分割，而不是 50-50，并将更多流量分配给版本 A。</p><p id="09f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，请记住，非常偏斜的分割通常会导致 A/B 测试变得<em class="lb">(统计)</em> <em class="lb">显著</em>之前需要更长的时间。</p><h1 id="d148" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">A/B 测试作为唯一的最终测试</h1><p id="262f" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">在网站上开发新功能的问题是，你很难事先知道这些功能会如何发挥作用:它们可能会损害你的业务或让你的利润飙升。</p><p id="f1c0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">用户体验(UX)设计师的知识对于挑选可能有效的功能建议至关重要。它通常会遵循 UX 的最佳做法或在其他类似情况下被证明是成功的设计范例。</p><p id="93bc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，没有任何先验假设可以打败真正的现场测试，即 A/B 测试。</p><p id="e351" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">A/B 测试使用真实的客户端实时测量性能。如果执行得很好，在对人口 A 和 B 进行抽样时没有偏见，它会给你最好的估计，如果你部署版本 B 会发生什么。</p><h1 id="d0e2" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">需要统计形式主义</h1><p id="e91b" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">在做了一些预先的市场研究后，Sephora SEA 决定对 B 版进行现场测试，流量分配如下:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/cba40c9dab3f2040b443ddea6ea4ac55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LEghmWySHa1kNodMsnHg1g.jpeg"/></div></div></figure><p id="8f1f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们假设在 7 天的 A/B 测试之后，实验的跟踪指标是</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/a02739f1b869cb14208fa97c25abe33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WMrlwFc-AwXnJybm-_C2jw.jpeg"/></div></div></figure><p id="15a0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">仅从这些结果来看，就产生了一些问题:</p><ul class=""><li id="365f" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">因为 B 版展现出更高的 CR，是否意味着 B 版带来了提升？同样，我们能得出对平均花费时间的影响吗？</li><li id="de61" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">如果是，有多大的把握？</li><li id="a790" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">B 版更高的 CR/更高的平均花费时间是偶然发生的吗？</li></ul><p id="8d73" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下结论之前，你需要记住的是</p><blockquote class="nf"><p id="1f80" class="ng nh iq bd ni nj nk nl nm nn no la dk translated">我们得到的原始结果只是更大群体的样本。它们的统计特性随着它们所属人群的不同而不同。</p></blockquote><p id="6536" class="pw-post-body-paragraph kf kg iq kh b ki np jr kk kl nq ju kn ko nr kq kr ks ns ku kv kw nt ky kz la ij bi translated">因此，有必要对这些输出进行统计建模。在<em class="lb">假设检验</em>中引入<em class="lb">统计显著性</em>的概念也是如此。</p><h1 id="a92d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">假设检验入门</h1><p id="cff8" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">关于假设检验的深入解释，我推荐威廉·科尔森的这篇伟大的<a class="ae nu" rel="noopener" target="_blank" href="/statistical-significance-hypothesis-testing-the-normal-curve-and-p-values-93274fa32687">文章</a>。</p><div class="nx ny gp gr nz oa"><a rel="noopener follow" target="_blank" href="/statistical-significance-hypothesis-testing-the-normal-curve-and-p-values-93274fa32687"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">解释统计显著性</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">用数据证明一件事是什么意思？</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo lm oa"/></div></div></a></div><p id="045f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于那些想快速复习统计学的人来说，你可能想看看这篇来自 Cassie Kozyrkov 的文章。</p><div class="nx ny gp gr nz oa"><a rel="noopener follow" target="_blank" href="/statistics-for-people-in-a-hurry-a9613c0ed0b"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd ir gy z fp of fr fs og fu fw ip bi translated">为赶时间的人统计</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">曾经希望有人能告诉你统计学的意义是什么，术语用简单的英语表达是什么意思吗？让…</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="op l ol om on oj oo lm oa"/></div></div></a></div><p id="ab5b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我将介绍假设检验的主要内容:一个<strong class="kh ir">工具，用于根据样本比较</strong>两个群体的分布。</p><p id="5a69" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以比较的是它们分布的参数(<em class="lb">例如</em>花费时间的平均值)或分布本身(<em class="lb">例如</em>转化率的二元分布)。</p><p id="49f9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个过程开始于陈述一个关于人口的<em class="lb">无效假设</em> <strong class="kh ir"> <em class="lb"> H₀ </em> </strong>。总的来说就是<em class="lb">相等假设</em> : <em class="lb">例如</em>“两个种群均值相同”。</p><p id="b364" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">备择假设</em> <strong class="kh ir"> <em class="lb"> H₁ </em> </strong>否定零假设:<em class="lb">例如</em>“第二总体的均值高于第一总体”。</p><p id="535d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试可以总结为两个步骤:</p><ul class=""><li id="0b6c" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir"> 1。</strong>模型<strong class="kh ir"> <em class="lb"> H₀ </em> </strong>为单个实值随机变量上的分布(称为<em class="lb">检验统计量</em></li><li id="4eb6" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir"> 2。</strong>评估<strong class="kh ir"> <em class="lb"> </em> </strong>这些样本，或者更极端的样本，在<strong class="kh ir"> <em class="lb"> H₀.下产生的可能性有多大</em> </strong>这个概率就是著名的<em class="lb"> p 值。越低，我们越有信心拒绝 H₀.</em>T59】</li></ul><p id="4439" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在上述帖子中，<a class="ae nu" href="https://towardsdatascience.com/@williamkoehrsen" rel="noopener" target="_blank">williamkoersshen</a>测试大学的平均睡眠时间是否低于全国平均水平，从而将估计值与理论值进行比较。他用一个 T2 Z 测试来达到这个目的。</p><p id="7d6c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这里，我建议将该框架扩展到 Sephora SEA 案例中的 A/B 测试。</p></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="51ba" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">特别是，我将展示:</strong></p><ul class=""><li id="835b" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">如何将 Z 测试应用于测试经历 B 的客户端是否平均花费更多时间</li><li id="cda9" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">如何使用卡方检验决定 B 版本是否导致更高的转化率</li><li id="3007" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">如何调整 Z 检验以测试 B 版本的转换率，以及它是否得出与卡方检验相同的结论</li></ul><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ox"><img src="../Images/2f44bfe756e255e6cbbd9303cc3745a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4wxtXehmChzu7WMe"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Let’s get testing!</figcaption></figure><h1 id="9e3a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">1 | Z-平均花费时间测试</h1><p id="d81b" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">要测试的假设是:</p><ul class=""><li id="ba52" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir"> <em class="lb"> H₀ </em> </strong>:“两个版本平均花费的时间相同”</li><li id="e36f" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir"><em class="lb">h₁</em></strong>:“b 版平均花费时间较高”</li></ul><h2 id="a024" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第一步是塑造<strong class="ak"> <em class="pk"> H₀ </em> </strong></h2><p id="0c7e" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">Z 检验使用中心极限定理(CLT)这样做。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pl"><img src="../Images/b4af92a5230e41bd5e93feefb7cef562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gWS4ffiryZLNdzKmd90HVA.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Illustration of the CLT (from <a class="ae nu" href="https://en.wikipedia.org/wiki/Central_limit_theorem" rel="noopener ugc nofollow" target="_blank">Wikipedia</a>)</figcaption></figure><blockquote class="pm pn po"><p id="c53c" class="kf kg lb kh b ki kj jr kk kl km ju kn pp kp kq kr pq kt ku kv pr kx ky kz la ij bi translated">CLT 确定:<br/>给定期望的随机变量<strong class="kh ir">x<em class="iq"/></strong>μ<em class="iq"/>和有限方差<strong class="kh ir"> σ </strong> <em class="iq">、<br/></em><strong class="kh ir">{x₁,…,xn}∼x</strong><em class="iq">、</em><strong class="kh ir"><em class="iq"/>n<em class="iq"/></strong>独立同分布(iid) rv，如下<strong class="kh ir">近似值</strong></p></blockquote><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ps"><img src="../Images/520eb9d2bb3a9ac0d1e5b025635cb6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q_d4IGul7XY7094X673UgQ.jpeg"/></div></div></figure><p id="82b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的上下文中，我们将花费在每个客户端会话<strong class="kh ir"> <em class="lb"> i </em> </strong>上的时间建模为实现:</p><ul class=""><li id="1943" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir">t49】aᵢ的</strong>RV<strong class="kh ir">的<em class="lb">aᵢ∨a、</em>的</strong>如果客户端会话属于版本 a 分裂</li><li id="c56f" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir"> <em class="lb"> bᵢ的</em></strong>RV 的<strong class="kh ir"> <em class="lb"> Bᵢ的∨b、</em> </strong>别的</li></ul><p id="f51a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们用 CLT 提供的近似值推导出</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pt"><img src="../Images/6e8279031ebfa1e276c8cd9ee11aa42f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jhb0dZ4nqLBUuhlm9GpwSg.jpeg"/></div></div></figure><p id="3099" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，rv 的近似值的差异(<a class="ae nu" href="https://en.wikipedia.org/wiki/Sum_of_normally_distributed_random_variables" rel="noopener ugc nofollow" target="_blank">维基百科:总和的正态分布 rv </a>)，</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/5c1867dab3127d5b2a8f3798e12cd360.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3xUlmSuVGAB81iMFhuaxGA.jpeg"/></div></div></figure><blockquote class="pm pn po"><p id="c5a9" class="kf kg lb kh b ki kj jr kk kl km ju kn pp kp kq kr pq kt ku kv pr kx ky kz la ij bi translated">在<strong class="kh ir"> <em class="iq"> H₀、</em> </strong>我们有平等的真正手段和因此的模式</p></blockquote><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/99df9041ba9391327b32d03cb6fc6b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6xbRB-fMatqQzZKWKYjiA.jpeg"/></div></div></figure><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pu"><img src="../Images/712b3d19134a2ed25a26047b39574837.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyDQGLlaXqSkIriVVcaffA.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Curves about N(0,1): centrered and reduced Gaussian distribution, probability density function (pdf) and associated p-values</figcaption></figure><h2 id="a65a" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第二步是看我们的样品在 H₀下的可能性有多大</h2><p id="0d81" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated"><strong class="kh ir"> <em class="lb"> A </em> </strong>和<strong class="kh ir"> <em class="lb"> B </em> </strong>的真实期望值和方差未知。我们介绍它们各自的经验估计量:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pv"><img src="../Images/5db1aed365ec3bbd5c693faf70f0b65b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*daGnzlIp1u38__p26hZqyQ.jpeg"/></div></div></figure><p id="3eb7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的样本生成了以下测试统计量<strong class="kh ir"> <em class="lb"> Z </em> </strong>，需要针对简化的中心正态分布进行测试:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pw"><img src="../Images/dd331255055b55821148dbf7ca5e74ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FCAkTCjZtmuADgbSNwYudA.jpeg"/></div></div></figure><p id="361b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从概念上讲，<strong class="kh ir"> <em class="lb"> Z </em> </strong>代表观察到的均值差远离 0 的标准差的个数。这个数字越高，<strong class="kh ir"> <em class="lb"> H₀ </em> </strong>的可能性越小。</p><p id="0dfe" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">还要注意，在这种情况下估计的期望值实际上是不同的，(samples)↗，<strong class="kh ir"> <em class="lb"> Z </em> </strong> ↗.</p><p id="fc5a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">从<strong class="kh ir"> <em class="lb"> Z </em> </strong>的公式中，还可以得到要证明的差越小，需要的样本越多的直觉。</p><p id="9472" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在 Python 中，计算如下</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="px py l"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">p-value calculation and graphical representation</figcaption></figure><p id="9153" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">像我们观察到的这样极端的结果很有可能发生在 H₀.时代 有了 5%的常用标准<strong class="kh ir"> <em class="lb"> α </em> </strong>，我们就可以放心地拒绝<em class="lb">p value</em>&lt;<strong class="kh ir"><em class="lb">α</em></strong>和<em class="lb">【h₀</em>。</p><p id="5f30" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">在样本量不大(&lt;每版 30 个)，CLT 近似不成立的情况下，可以看看</em> <a class="ae nu" href="https://en.wikipedia.org/wiki/Student%27s_t-test" rel="noopener ugc nofollow" target="_blank"> <em class="lb">学生的 t 检验</em> </a> <em class="lb">。</em></p><h1 id="1941" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">2 |转化率的χ检验</h1><p id="9a63" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">要检验的假设有:</p><ul class=""><li id="d6f6" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir"> <em class="lb"> H₀ </em> </strong>:“两个版本的转换率相同”</li><li id="eb87" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir"><em class="lb">h₁</em></strong>:“b 版转化率更高”</li></ul><p id="5d1f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与前一种情况不同，每个客户端会话的结果不是连续的，而是二进制的:“未转换”或“已转换”。</p><p id="332f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">观察到的结果总结如下</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/7b7bf1810ab610db1d408239f95cb3b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qkglapw_07VFANmAt2p9qA.jpeg"/></div></div></figure><p id="8988" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">χ检验比较了多项结果的分布，但是在这个例子中我们将保持二元的情况。</p><p id="6eff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">和以前一样，我们将分两步解决这个问题:</p><h2 id="2ca9" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第一步是模拟 H₀</h2><p id="e9da" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">在<strong class="kh ir"> <em class="lb"> H₀中，版本 a 和版本 b 中的</em> </strong>转换遵循相同的二项分布<strong class="kh ir"> <em class="lb"> B(1，p) </em> </strong>。我们汇总了版本 A 和版本 B 中的观测值，并导出了 CR 的估计量</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/53a39359db2e89a9f0830e56daa2520a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*37fxOM2ooWP0Dcu-KQ8m_w.jpeg"/></div></div></figure><p id="f032" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">并得到<code class="fe pz qa qb qc b">\hat{p} = 0.0170</code></p><p id="3711" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由此可见，<strong class="kh ir"> <em class="lb">下的 H₀，</em> </strong>下的理论结果表是</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/4c1ecbf45fa050b87619bdba323c765d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9-HSLXlKnq1Oxc9kZGEAmw.jpeg"/></div></div></figure><p id="8397" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看 rv D，定义为</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/2b5e84b1d5e9acd9a66eab9667349fc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8yHiymeEcYC2dAgx7ruqyg.jpeg"/></div></div></figure><p id="8861" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> <em class="lb"> D </em> </strong>表示理论分布和观测分布之间的平方相对距离。</p><p id="c353" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">根据<a class="ae nu" href="https://ocw.mit.edu/courses/mathematics/18-443-statistics-for-applications-fall-2003/lecture-notes/lec23.pdf" rel="noopener ugc nofollow" target="_blank">皮尔逊定理</a>，在<strong class="kh ir"> <em class="lb">下 H₀ </em> </strong>，<strong class="kh ir"> <em class="lb"> D </em> </strong>遵循 1 自由度(df)的χ概率定律。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pu"><img src="../Images/0b6f609a4e298e1c6833532733b77830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OOsRhoEI6bhItaJ5rllzDg.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Curves about the χ² law (df=1)</figcaption></figure><h2 id="0064" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第二步是看我们的样品在 H₀下的可能性有多大</h2><p id="2630" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">它包括计算观察到的<strong class="kh ir"> <em class="lb"> D </em> </strong>并根据χ定律导出其相应的 p 值。</p><p id="fbeb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是如何在 Python 中实现的:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="px py l"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">p-value calculation and graphical representation</figcaption></figure><p id="62f9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在 H₀.的情况下，一个结果有可能至少和我们的观察一样远离理论分布 用一个常见的常用词<strong class="kh ir"><em class="lb">α</em></strong>5%的准则，我们有<em class="lb">p value&gt;</em><strong class="kh ir"><em class="lb">α</em></strong>和<strong class="kh ir"><em class="lb">【h₀</em></strong>不能拒绝。</p><h1 id="3eb6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">3 |转换率的 Z 测试</h1><p id="8316" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">通过将转换率建模为以{0，1}为单位实现的 rv，Z 测试可适用于转换率:</p><ul class=""><li id="1d18" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">1 表示转换</li><li id="e9a9" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">0 其他</li></ul><p id="2506" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们保留与之前相同的符号，并将每个客户端会话<strong class="kh ir"> <em class="lb"> i </em> </strong>的模型转换作为实现:</p><ul class=""><li id="2a0d" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated"><strong class="kh ir"><em class="lb"/></strong>∈{ 0，1 }<strong class="kh ir"><em class="lb"/></strong>RV<strong class="kh ir"><em class="lb">aᵢ【a】，</em> </strong>如果客户端会话属于版本 a 拆分</li><li id="80c4" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated"><strong class="kh ir"> <em class="lb"> bᵢ </em> </strong> ∈ {0，1 }<strong class="kh ir"><em class="lb"/></strong>RV<strong class="kh ir"><em class="lb">bᵢ【b】，</em> </strong>其他</li></ul><h2 id="a470" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第一步是模拟 H₀</h2><p id="16b4" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">在 H₀的<strong class="kh ir"> <em class="lb">下，μ(A) = μ(B) </em> </strong>和我们有</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/9603a3baaf47abcab392ae781f1b0af3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CuGs8iRqG0Ufa1LhiaHHyw.jpeg"/></div></div></figure><p id="0722" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">相应的测试统计</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pw"><img src="../Images/dd331255055b55821148dbf7ca5e74ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FCAkTCjZtmuADgbSNwYudA.jpeg"/></div></div></figure><p id="a4c5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一次，使用二元 rvs，可以证明标准差的估计值是期望值的函数:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ne"><img src="../Images/b890d16c2bc9685ba58b528169fdd921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XN0imuj5hHFnb_6riQNQ1w.jpeg"/></div></div></figure><h2 id="ba50" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">第二步是看我们的样品在 H₀下的可能性有多大</h2><p id="27db" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">为此，我们计算 Z 得分和相应的右尾 p 值:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="px py l"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">p-value calculation and graphical representation</figcaption></figure><p id="a5df" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用这种建模，p 值输出略低于χ检验。用同样的<strong class="kh ir"> <em class="lb"> α </em> </strong> =0.05 的准则，我们早就拒绝了零假设(！！！).</p><p id="7488" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种差异可以用 Z-检验的一个轻微弱点来解释，它在这里不承认 rv 的二元性质:<strong class="kh ir"><em class="lb">【μ(B)】-μ(A)</em></strong>实际上在<strong class="kh ir"> <em class="lb"> [-1，1】</em></strong>中有界，因此观察结果被归因于较低的 p 值。</p><h1 id="56b0" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">总是质疑你的测试</h1><p id="a19e" class="pw-post-body-paragraph kf kg iq kh b ki mk jr kk kl ml ju kn ko mm kq kr ks mn ku kv kw mo ky kz la ij bi translated">永远不要做假设。在决定新特性的相关性时，A/B 测试确实是减少人为偏见的好方法。然而，不要忘记 A/B 测试仍然依赖于一个真实的模型:正如我们已经看到的，有不同的可能模型。</p><p id="0d1d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在大样本的情况下，他们倾向于得出相似的结论。特别是，CLT 近似比小样本情况下更好。</p><p id="2b6e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在后一种情况下，人们可以探索<a class="ae nu" href="https://en.wikipedia.org/wiki/Student%27s_t-test" rel="noopener ugc nofollow" target="_blank">学生的 t 检验</a>、<a class="ae nu" href="https://en.wikipedia.org/wiki/Welch%27s_t-test" rel="noopener ugc nofollow" target="_blank">韦尔奇的 t 检验</a>和<a class="ae nu" href="https://en.wikipedia.org/wiki/Fisher%27s_exact_test" rel="noopener ugc nofollow" target="_blank">费希尔的精确检验</a>。你也可以探索<a class="ae nu" rel="noopener" target="_blank" href="/reinforcement-learning-64730aaa46c9">强化学习</a>的领域，以便在测试时获得最大收益(多臂强盗和开发与探索的两难境地)。</p><p id="a9a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你不仅要严格解释结果，还要意识到 A/B 测试的背景效应:</p><ul class=""><li id="e0df" class="mq mr iq kh b ki kj kl km ko ms ks mt kw mu la mv mw mx my bi translated">一年/一月/一周的时间、天气、经济环境都会影响你的听众的性质</li><li id="99e0" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">即使在两天的 A/B 测试后，你的结果是显著的，也可能不会超过一周</li></ul><h2 id="8812" class="oy lt iq bd lu oz pa dn ly pb pc dp mc ko pd pe me ks pf pg mg kw ph pi mi pj bi translated">主要带回家的信息</h2><ul class=""><li id="b6d1" class="mq mr iq kh b ki mk kl ml ko qd ks qe kw qf la mv mw mx my bi translated">假设检验是对一个零假设<strong class="kh ir"> <em class="lb"> H₀ </em> </strong>进行建模，并评估它的可能性，给定你从 A/B 检验中得到的样本</li><li id="6a86" class="mq mr iq kh b ki mz kl na ko nb ks nc kw nd la mv mw mx my bi translated">关键是在<strong class="kh ir"> <em class="lb"> H₀ </em> </strong>模型中我们已经看到，它可以从 CLT (Z 检验)或皮尔逊定理(χ检验)中推导出来</li></ul></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="67fb" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">我们的统计之旅到此结束:我希望你能像我写这篇文章一样享受这次旅程！非常感谢您的评论、建议和更正。</strong></p></div><div class="ab cl oq or hu os" role="separator"><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov ow"/><span class="ot bw bk ou ov"/></div><div class="ij ik il im in"><p id="cc0d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">演职员表:<br/>照片由</em><a class="ae nu" href="https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"><em class="lb">raw pixel</em></a>和<a class="ae nu" href="https://unsplash.com/@_louisreed?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> <em class="lb">路易·里德</em></a><em class="lb"/><a class="ae nu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"><em class="lb"/></a></p></div></div>    
</body>
</html>