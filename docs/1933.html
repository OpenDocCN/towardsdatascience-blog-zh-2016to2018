<html>
<head>
<title>Engineering Awareness: Paradise Papers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">工程意识:天堂文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/engineering-awareness-paradise-papers-6303d93cee64?source=collection_archive---------3-----------------------#2017-11-18">https://towardsdatascience.com/engineering-awareness-paradise-papers-6303d93cee64?source=collection_archive---------3-----------------------#2017-11-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/add5d8e545c82d5bb2fa1c47be939c25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDiVG-Cz8xSYEbfXvKPuDw.jpeg"/></div></div></figure><div class=""/><p id="ad1c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">两周前，国际调查记者联盟发布了天堂文件，这是一份来自百慕大律师事务所艾波的文件集。这些文件由全球380名记者调查，揭示了精英们把钱藏在哪里。</p><p id="fe5f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">昨天，他们发布了代表77k公司官员、25k企业和他们之间364k连接的原始CSV文件。你能想到比使用图表更好的方法来分析这些数据吗？</p><p id="78fb" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">我不想只是自己分析这些数据，而是想让世界更容易分析。</p><h1 id="299c" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">将所有的事情归档</h1><p id="9a9e" class="pw-post-body-paragraph jy jz jb ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">Neo4j通过分发<a class="ae kw" href="http://hub.docker.com/_/neo4j/" rel="noopener ugc nofollow" target="_blank">官方docker图像</a>使得在容器中运行图形数据库变得非常容易。虽然这些图像允许通过<code class="fe ma mb mc md b">docker run</code>选项传递配置和数据库，但我想让人们能够超级容易地访问天堂文件。</p><pre class="me mf mg mh gt mi md mj mk aw ml bi"><span id="464d" class="mm ky jb md b gy mn mo l mp mq">docker run -p 7474:7474 -p 7687:7687 ryguyrg/neo4j-paradise-papers</span></pre><p id="bb49" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">该图像包括<a class="ae kw" href="https://github.com/neo4j-contrib/neo4j-apoc-procedures" rel="noopener ugc nofollow" target="_blank"> APOC库</a>和<a class="ae kw" href="https://github.com/neo4j-contrib/neo4j-graph-algorithms" rel="noopener ugc nofollow" target="_blank">图形算法库</a>。它还包含一个<a class="ae kw" href="https://github.com/ryguyrg/paradise-neo4j/blob/master/download_db.sh" rel="noopener ugc nofollow" target="_blank"> bash脚本</a>来从ICIJ下载最新的csv数据，并调用<code class="fe ma mb mc md b">neo4j-import</code>来创建图形数据库。然后，脚本调用<code class="fe ma mb mc md b">neo4j-shell</code>来执行<a class="ae kw" href="https://github.com/ryguyrg/paradise-neo4j/blob/master/configure.cql" rel="noopener ugc nofollow" target="_blank"> Cypher语句</a>，这些语句会创建适当的索引。</p><p id="a945" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">下面是完整的<code class="fe ma mb mc md b">Dockerfile</code>，它还设置了<code class="fe ma mb mc md b">EXTENSION_SCRIPT</code>环境变量，以便在Neo4j启动之前执行上述脚本。</p><pre class="me mf mg mh gt mi md mj mk aw ml bi"><span id="ff53" class="mm ky jb md b gy mn mo l mp mq">FROM neo4j:3.3.0<br/>MAINTAINER Ryan Boyd, &lt;ryan@neo4j.com&gt;</span><span id="2ce2" class="mm ky jb md b gy mr mo l mp mq">RUN apk update<br/>RUN apk add --quiet openssl sed wget unzip<br/>RUN cd /var/lib/neo4j/plugins/; wget "https://github.com/neo4j-contrib/neo4j-apoc-procedures/releases/download/3.3.0.1/apoc-3.3.0.1-all.jar"<br/>RUN cd /var/lib/neo4j/plugins/; wget "https://github.com/neo4j-contrib/neo4j-graph-algorithms/releases/download/3.3.0.0/graph-algorithms-algo-3.3.0.0.jar"</span><span id="89d5" class="mm ky jb md b gy mr mo l mp mq">COPY download_db.sh /download_db.sh<br/>COPY configure.cql /configure.cql</span><span id="95f0" class="mm ky jb md b gy mr mo l mp mq">ENV EXTENSION_SCRIPT /download_db.sh<br/>ENV NEO4J_AUTH=none</span></pre><figure class="me mf mg mh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ms"><img src="../Images/395fe6a4b9ace7823803df48779952b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8gfjhDxqnyk-1PXWP-3eFg.jpeg"/></div></div></figure><h1 id="2758" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">创建Neo4j沙盒</h1><p id="f2d2" class="pw-post-body-paragraph jy jz jb ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">创建新的<a class="ae kw" href="https://neo4j.com/sandbox/" rel="noopener ugc nofollow" target="_blank"> Neo4j沙箱</a>的过程与创建Docker映像非常相似，只是我们通常为大多数沙箱使用标准Docker映像<a class="ae kw" href="https://hub.docker.com/r/ryguyrg/neo4j-sandbox-3.3/" rel="noopener ugc nofollow" target="_blank">。这个标准映像复制了上面创建的Neo4j数据库，并在每次用户启动自己的沙箱实例时使其可用。</a></p><p id="1584" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">它还提供了来自ICIJ的交互式指南，该指南提供了关于要执行的查询类型的逐步说明。</p><figure class="me mf mg mh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mt"><img src="../Images/1bb98db62bfcf7e3b69ac0246d99d9ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YH74j2BAKl28itWAtk5DGw.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Interactive Guide for ICIJ Paradise Papers on Neo4j Sandbox</figcaption></figure><p id="c25c" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">前往<a class="ae kw" href="https://neo4j.com/sandbox" rel="noopener ugc nofollow" target="_blank"> Neo4j沙盒</a>亲自体验一下吧。</p><h1 id="74d6" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">分析数据</h1><p id="be7b" class="pw-post-body-paragraph jy jz jb ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我的同事威尔·里昂(Will Lyon)和迈克尔·亨格(Michael Hunger)在两篇博客文章中对这些数据做了一些精彩的分析——第一篇是搜集来的数据，第二篇是由ICIJ公布的最终数据。</p><p id="a85a" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">一个例子是，他们绘制了特定国家的居民最有可能持有海外资产的地点:</p><figure class="me mf mg mh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi my"><img src="../Images/6b8d5d1a1eb62caaf50faa157c6217a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIf6b-s6XzOv89R8_IXCUQ.png"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk">Officer Residence (bolded) and Offshore location (non-bold)</figcaption></figure><p id="9678" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在其他分析中，他们还研究了雷克斯·蒂勒森和英国女王之间的最短路径。</p><figure class="me mf mg mh gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ms"><img src="../Images/1dea1e41695adef0e29eb55a6f6c43ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_hr9bZRlUQ-ghocBTSMNaw.png"/></div></div></figure><p id="c78f" class="pw-post-body-paragraph jy jz jb ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">更多他们的分析，请阅读他们的博客文章。</p><h1 id="648a" class="kx ky jb bd kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu bi translated">我的下一步是什么？</h1><p id="4fb3" class="pw-post-body-paragraph jy jz jb ka b kb lv kd ke kf lw kh ki kj lx kl km kn ly kp kq kr lz kt ku kv ij bi translated">我计划为一些即将到来的演讲做一些额外的分析，所以请留意我的<a class="ae kw" href="http://twitter.com/ryguyrg" rel="noopener ugc nofollow" target="_blank"> Twitter </a>或<a class="ae kw" href="https://medium.com/@ryguyrg" rel="noopener"> Medium </a>的更新。</p></div></div>    
</body>
</html>