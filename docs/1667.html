<html>
<head>
<title>Beginner Python Hacks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初级Python黑客</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/when-learning-a-new-programming-language-theres-always-a-sense-that-there-will-be-a-few-commands-c81a023e033e?source=collection_archive---------8-----------------------#2017-10-02">https://towardsdatascience.com/when-learning-a-new-programming-language-theres-always-a-sense-that-there-will-be-a-few-commands-c81a023e033e?source=collection_archive---------8-----------------------#2017-10-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e17c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当学习一门新的编程语言时，总有一种感觉，我们会不断重用一些命令、技巧和变通办法；通常称为80/20法则——20%的活动负责80%的工作。Python自然适合这种范式，Python化意味着最小化，但具有更大的吞吐量。让我们看看其中的一些启发。</p><h2 id="2bf8" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">检查第三方库</h2><p id="4fe1" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">您正在使用Anaconda，或者更大胆一些，您已经通过Python在本地设置了一些虚拟环境。一个是专门用于自然语言处理的，另一个是用于机器学习的，甚至还有一个更深奥的——深度学习。在这三种环境中的一种，你不确定你是否已经安装了自然语言处理的<em class="lj"> nltk </em>或<em class="lj"> spacy </em>。要进行检查，您可以运行Python repl，并键入</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="3b46" class="kl km iq lp b gy lt lu l lv lw">import spacy</span></pre><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi lx"><img src="../Images/0a39c7bda650be40273e3c37e9e4d180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*JmgFdf3VS1c4o789tRWfHQ.png"/></div></figure><p id="93db" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好的，所以你知道，spacy是不可用的，你必须通过pip或conda安装它。不需要转到repl，更快的方法是直接在终端中输入这个命令，假设python包含在终端的路径中:</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="fb5b" class="kl km iq lp b gy lt lu l lv lw">python -c “import spacy”</span></pre><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/5882017ee07be5c375bd7a9856d71cb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*o9apgYF4Ixd0mCE9ExRA5w.png"/></div></figure><p id="6888" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">瞧！你得到同样的输出。如果包裹确实在那里，就不会打印投诉。</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/8678f1fff9ebf188bc18e5c248297823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1122/format:webp/1*rn1CQnz7M6MjlhfxKz5ZAQ.png"/></div></figure><h2 id="c2ce" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">在代码外部保存用户凭据</h2><p id="1b16" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">总是需要连接到远程数据库或访问REST API，其中需要用户名和密码。如果你是通过编程来实现的，你可以为它们创建单独的变量，将它们编码成字符串。</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="9b86" class="kl km iq lp b gy lt lu l lv lw">db_user_name = ‘me@example.com’</span><span id="f6f0" class="kl km iq lp b gy md lu l lv lw">db_password = ‘an_awS0mE1Pass.Word#’</span></pre><p id="e683" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这很糟糕，原因有几个。主要是如果你使用一些版本控制软件，比如GIT，这意味着每个参与项目的人都可以看到这些凭证。解决这个问题的一个快速而肮脏的实现是将这些变量填充为空字符串，然后让用户键入他们的凭证。这可能会变得令人厌倦和笨拙。我提倡使用<a class="ae me" href="https://github.com/theskumar/python-dotenv" rel="noopener ugc nofollow" target="_blank"> python-dotenv </a>，它本质上是一个帮助通过<em class="lj">访问这些凭证的包。env </em>文件(键值对)。如果你使用GIT，简单地添加这个。env文件到<em class="lj">。gitignore </em>确保在保存你的工作时不会涉及到它。假设上述用户凭证保存在一个. env文件中，在代码中调用它们的一个实现是:</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="8ce1" class="kl km iq lp b gy lt lu l lv lw">import os</span><span id="6f5d" class="kl km iq lp b gy md lu l lv lw">from dotenv import load_dotenv, find_dotenv</span><span id="36d0" class="kl km iq lp b gy md lu l lv lw">load_dotenv(find_dotenv())</span><span id="5c9c" class="kl km iq lp b gy md lu l lv lw">db_user = os.environ.get(‘db_user_name’)</span><span id="5dca" class="kl km iq lp b gy md lu l lv lw">db_pw = os.environ.get(‘db_password’)</span></pre><h2 id="506a" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">文档帮助</h2><p id="3f1f" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">现在，你可以告诉我喜欢与Python REPL一起工作。更是如此，伊普森。后者是因为我可以使用tab键来自动完成命令。总是需要查找文档。上网用谷歌搜索是很常见的。有些人会把他们经常去的网站加入书签。甚至存在与语言或库无关的文档浏览器，提供了在一个地方离线查找文档的额外优势。具体来说，<a class="ae me" href="https://kapeli.com/dash" rel="noopener ugc nofollow" target="_blank">破折号</a>和<a class="ae me" href="https://zealdocs.org/" rel="noopener ugc nofollow" target="_blank">热心</a>。虽然这在某些情况下很理想，但有时在REPL提取文档很方便；只是召唤<em class="lj">帮助</em>命令上的一个功能:</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/3dd7f8c43c93751f22178a7c78822436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*6wLHXVG7ooI5RrQNF0-ddg.png"/></div></figure><p id="d35c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会得到这个</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/231195d9b435051c20e92a481d48f3d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*BZsrSgatsyCa3L3ze5n0lw.png"/></div></figure><h2 id="9319" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">命令行参数</h2><p id="154f" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">诚然，这可能相当复杂，即使用例足够简单。我将提倡使用来自标准Python库的<em class="lj"> argparse </em>。下面是一个简单的程序，它将通过命令行输入的两个数字相乘:</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="8d68" class="kl km iq lp b gy lt lu l lv lw">import argparse</span><span id="99db" class="kl km iq lp b gy md lu l lv lw">parser = argparse.ArgumentParser()<br/>parser.add_argument(“--num_one”, default=1, help=”Enter Number 1", type=int)<br/>parser.add_argument("--num_two”, default=1, help=”Enter Number 2", type=int)</span><span id="a825" class="kl km iq lp b gy md lu l lv lw">args = vars(parser.parse_args())</span><span id="f757" class="kl km iq lp b gy md lu l lv lw">product = args[‘num_one’] * args[‘num_two’]</span><span id="a38b" class="kl km iq lp b gy md lu l lv lw">print(“The product is: {}”.format(product))</span></pre><p id="a2bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是你将如何运行它:-</p><figure class="lk ll lm ln gt ly gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/0d2170d3eb09cd7a68f7acf810a2d780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*Ch3SerI2asjO3rJICrmIFQ.png"/></div></figure><h2 id="4bd1" class="kl km iq bd kn ko kp dn kq kr ks dp kt jy ku kv kw kc kx ky kz kg la lb lc ld bi translated">关键字参数(**kwargs)</h2><p id="1479" class="pw-post-body-paragraph jn jo iq jp b jq le js jt ju lf jw jx jy lg ka kb kc lh ke kf kg li ki kj kk ij bi translated">当调用一个函数时，传递参数是再熟悉不过的了。例如，在前面的例子中，<em class="lj"> add_argument </em>函数被传递了变量名的参数，在没有提供变量名的情况下默认值应该是什么，最后是要显示的帮助消息。关键字实参允许你传递这些参数，但是当写出你的实际函数时，没有必要在函数“header”中显式地拼写它们。演示:</p><pre class="lk ll lm ln gt lo lp lq lr aw ls bi"><span id="634d" class="kl km iq lp b gy lt lu l lv lw">def print_name(**kwargs): </span><span id="fc41" class="kl km iq lp b gy md lu l lv lw"> print(‘First name: ‘, kwargs.pop(‘first_name’))<br/> print(‘Last name: ‘, kwargs.pop(‘last_name’))</span><span id="bf4b" class="kl km iq lp b gy md lu l lv lw">print_name(first_name=”Rush”, last_name=”Kirubi”)</span></pre><p id="3e41" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi">***</p><p id="e435" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我很想听听你的妙计。当一个人刚刚入门或者开始欣赏一门特定语言(在这里是Python)的长处时，它们会非常有用。请随意评论或提出你自己的建议。</p></div></div>    
</body>
</html>