<html>
<head>
<title>How to Version Control your Machine Learning task — I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何对机器学习任务进行版本控制— I</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-version-control-your-machine-learning-task-cad74dce44c4?source=collection_archive---------0-----------------------#2017-07-20">https://towardsdatascience.com/how-to-version-control-your-machine-learning-task-cad74dce44c4?source=collection_archive---------0-----------------------#2017-07-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/f2645f21b6ecc65d14f8ea9eedd4e930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ne-Pf2CmqoJ9CeRb5XfZhw.png"/></div></div></figure><h1 id="9337" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">什么是版本控制？</h1><p id="cca7" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated"><a class="ae lu" href="https://en.wikipedia.org/wiki/Software_configuration_management" rel="noopener ugc nofollow" target="_blank">软件配置管理</a>、<strong class="ky ir">版本控制</strong>的一个组成部分，也称为<strong class="ky ir">版本控制</strong>或<strong class="ky ir">源代码控制</strong>、<a class="ae lu" href="https://en.wikipedia.org/wiki/Version_control#cite_note-Mercurial-1" rel="noopener ugc nofollow" target="_blank">【1】</a>是对文档、<a class="ae lu" href="https://en.wikipedia.org/wiki/Computer_program" rel="noopener ugc nofollow" target="_blank">计算机程序</a>、大型网站以及其他信息集合的变更管理。变更通常由数字或字母代码标识，称为“修订号”、“修订级别”，或简称为“修订”。例如，一组初始文件是“修订版 1”。当进行第一次更改时，结果集是“修订版 2”，依此类推。每个修订都与一个<a class="ae lu" href="https://en.wikipedia.org/wiki/Timestamp" rel="noopener ugc nofollow" target="_blank">时间戳</a>和做出更改的人相关联。可以比较、恢复修订，还可以合并某些类型的文件。</p><h1 id="bf96" class="jy jz iq bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">为什么要版本控制？</h1><p id="f008" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">一个重要的问题:<strong class="ky ir">为什么我们需要版本控制？</strong>我在我的本地计算机/云上做任务，一旦模型准备好，并且只有当我完成测试时，我才在我的服务器上部署它。那么为什么我需要版本控制呢？</p><p id="506d" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">现在让我们看一个场景:我在一家像<a class="ae lu" href="http://botsupply.co/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Botsupply </strong> </a>这样的公司工作，我有客户。我是人工智能的家伙。我使用基于 TF-IDF 的模型进行了问答搜索。我把它部署在我的服务器上。在下一阶段，我对它做了一些更改，在我的虚拟数据上，我的准确性增加了。我把它部署在服务器上了。现在，由于测试数据的复杂性，性能下降了。现在我想回到之前的版本。</p><p id="5083" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">一种方法是<strong class="ky ir">再次部署之前的版本</strong>。第二，或者说<strong class="ky ir">更好的解决方案是版本控制</strong>并恢复到以前的版本。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ma"><img src="../Images/591d9e4dd9155f0c62f7744030dfe39d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4l0MO6Qi98hRHhTQA-WRg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk"><a class="ae lu" href="https://dataversioncontrol.com/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h1 id="ba6d" class="jy jz iq bd ka kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv bi translated">如何做版本控制？</h1><ol class=""><li id="41f7" class="mv mw iq ky b kz la ld le lh mx ll my lp mz lt na nb nc nd bi translated">版本控制最流行的方式之一是<a class="ae lu" href="https://git-scm.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Git </strong> </a>。非常受欢迎，基本上每个人都知道如何使用它。(至少是每个程序员和数据科学家)。<br/>现在，Git 真的很酷，但对于一个数据科学家来说，保持 Git 中所有文件夹的同步是一项艰巨的任务。模型检查点和数据大小占用了所有不必要的空间。因此，一种方法是将所有数据集存储在像亚马逊 S3 这样的云服务器中，并将所有可复制的代码存储在 Git 中，并动态生成模型。看起来是一个不错的选择，但是如果在相同的代码中使用多个数据集，将会造成混乱，如果没有正确地记录，从长远来看，可能会导致数据集的混合。<br/>此外，如果数据变更/升级，并且所有的提交没有被正确地记录，模型可能会丢失上下文。</li></ol><blockquote class="ne"><p id="e2c8" class="nf ng iq bd nh ni nj nk nl nm nn lt dk translated">没有上下文的结果比毒药更致命— <a class="no np ep" href="https://medium.com/u/5a927ef41003?source=post_page-----cad74dce44c4--------------------------------" rel="noopener" target="_blank">乔瓦尼·托奇</a>，<a class="ae lu" href="http://botsupply.co/" rel="noopener ugc nofollow" target="_blank">僵尸供应</a></p></blockquote><p id="6469" class="pw-post-body-paragraph kw kx iq ky b kz nq lb lc ld nr lf lg lh ns lj lk ll nt ln lo lp nu lr ls lt ij bi translated">如果文件不能动态复制，可以选择<a class="ae lu" href="http://git-annex.branchable.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> git-annex </strong> </a>。</p><div class="nv nw gp gr nx ny"><a href="https://git-annex.branchable.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">git-附件</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">git-annex 允许用 git 管理文件，而不需要将文件内容签入 git。虽然这看起来有些矛盾…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">git-annex.branchable.com</p></div></div></div></a></div><p id="ee59" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">2.第二个选择是在<strong class="ky ir">沙盒环境</strong>中做所有事情，看看结果，如果不好，就不要将更改提交到生产环境中。<a class="ae lu" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Ipython 笔记本(Jupyter Notebook) </a>就是这么做的好方法。代码可以在不同的单元中分成更小的片段，然后在每一步都可以看到结果，这使得 Ipython 成为机器学习的最佳编辑器之一。</p><div class="nv nw gp gr nx ny"><a href="https://jupyter.org/" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">Jupyter 项目</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">Jupyter 笔记本是一个基于网络的交互式计算平台。该笔记本结合了现场代码，方程式…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">jupyter.org</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om jw ny"/></div></div></a></div><p id="07c1" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">3.最好的选择(在我看来)是<a class="ae lu" href="https://dataversioncontrol.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">数据版本控制或者</strong>【DVC】</a>。DVC 在许多方面与 Git 相似(如命令结构)，但它也提供对步骤的跟踪、步骤之间的依赖关系、代码和数据文件之间的依赖关系以及所有代码运行参数，因此它结合了对代码和数据库的版本控制。</p><div class="nv nw gp gr nx ny"><a href="https://dataversioncontrol.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">数据版本控制——让您的数据科学项目具有可复制性和可共享性。</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">阅读有关 dataversioncontrol 的更多信息。数据科学项目 Git。</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">dataversioncontrol.com</p></div></div><div class="oh l"><div class="on l oj ok ol oh om jw ny"/></div></div></a></div><blockquote class="ne"><p id="ec52" class="nf ng iq bd nh ni nj nk nl nm nn lt dk translated">在现实生活中，很难一次性开发出一个好的机器学习模型。ML 建模是一个迭代过程，跟踪您的步骤、步骤之间的依赖关系、代码和数据文件之间的依赖关系以及所有代码运行参数非常重要。DVC，德米特里·彼得罗夫</p></blockquote></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><h1 id="e218" class="jy jz iq bd ka kb mq kd ke kf mr kh ki kj ms kl km kn mt kp kq kr mu kt ku kv bi translated">什么是 DVC 和使用它的 5 个好理由？</h1><p id="5c00" class="pw-post-body-paragraph kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt ij bi translated">DVC 通过自动构建数据依赖图(DAG)使数据科学项目具有可重复性。你的代码和依赖项可以很容易地被 Git 和数据共享——通过云存储(AWS S3，GCP)在一个单一的 DVC 环境中。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oo"><img src="../Images/10d1ab8f749e491b6bc1192033753590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ekGRk4XNNEMqr2PHPQqhIg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk"><a class="ae lu" href="https://dataversioncontrol.com/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><ol class=""><li id="3dff" class="mv mw iq ky b kz lv ld lw lh op ll oq lp or lt na nb nc nd bi translated">它是完全<strong class="ky ir">开源的</strong>，可以用 pip 的简单命令安装:</li></ol><pre class="mb mc md me gt os ot ou ov aw ow bi"><span id="f3e3" class="ox jz iq ot b gy oy oz l pa pb"><strong class="ot ir">pip install dvc</strong> #pip3 for python3</span></pre><p id="1c46" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">2.<strong class="ky ir">命令类似于 git </strong>:</p><pre class="mb mc md me gt os ot ou ov aw ow bi"><span id="f940" class="ox jz iq ot b gy oy oz l pa pb"><strong class="ot ir">dvc run python train_model.py data/train_matrix.p data/model.p</strong></span></pre><p id="5ea3" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">3.它是独立于语言的，机器学习过程可以很容易地转换成任何语言的可重复的 DVC 流水线。</p><p id="dacd" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">4.DVC 不仅可以将你的工作简化到一个单一的、可复制的环境中，它还可以通过 Git 共享这个环境，包括依赖关系(DAG)——这是一个令人兴奋的协作功能，它提供了在不同的计算机上复制研究结果的能力。</p><p id="e69f" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">5.数据文件可以由任何云文件共享服务共享，如 AWS S3 或 GCP 存储，因为 DVC 不会将数据文件推送到 Git 存储库。</p><figure class="mb mc md me gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pc"><img src="../Images/fdcc39c182627f8171bb1fc75044b7c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6vO1fMPEg6sPWA6k_d13w.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk"><a class="ae lu" href="https://dataversioncontrol.com/" rel="noopener ugc nofollow" target="_blank">source</a></figcaption></figure><p id="c21a" class="pw-post-body-paragraph kw kx iq ky b kz lv lb lc ld lw lf lg lh lx lj lk ll ly ln lo lp lz lr ls lt ij bi translated">要详细了解 DVC 的安装和使用，请查看下面的博文:</p><div class="nv nw gp gr nx ny"><a href="https://blog.dataversioncontrol.com/data-version-control-beta-release-iterative-machine-learning-a7faf7c8be67" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">数据版本控制测试版:迭代机器学习</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">在现实生活中，很难一次性开发出一个好的机器学习模型。ML 建模是一种…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">blog.dataversioncontrol.com</p></div></div><div class="oh l"><div class="pd l oj ok ol oh om jw ny"/></div></div></a></div></div><div class="ab cl mj mk hu ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="ij ik il im in"><blockquote class="pe pf pg"><p id="90cd" class="kw kx ph ky b kz lv lb lc ld lw lf lg pi lx lj lk pj ly ln lo pk lz lr ls lt ij bi translated">阅读<a class="ae lu" href="https://medium.com/@shridhar743/how-to-version-control-your-machine-learning-task-ii-d37da60ef570" rel="noopener"> <strong class="ky ir">第二部分</strong> </a>以了解<strong class="ky ir"> DVC </strong>如何在与<strong class="ky ir">numeri</strong>合作时帮助我进行版本控制，在那里，数据科学家使用机器学习来做出预测，为 numeri 的对冲基金提供动力。</p></blockquote><div class="nv nw gp gr nx ny"><a href="https://medium.com/@shridhar743/how-to-version-control-your-machine-learning-task-ii-d37da60ef570" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd ir gy z fp od fr fs oe fu fw ip bi translated">如何对您的机器学习任务进行版本控制— II</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">这篇文章是上一篇文章的延续:如何对你的机器学习进行版本控制- I。如果你还没有…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="pl l oj ok ol oh om jw ny"/></div></div></a></div></div></div>    
</body>
</html>