<html>
<head>
<title>A Census-based Deprivation Index using R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于人口普查的贫困指数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-census-based-deprivation-index-using-r-7aa738da697c?source=collection_archive---------9-----------------------#2018-08-29">https://towardsdatascience.com/a-census-based-deprivation-index-using-r-7aa738da697c?source=collection_archive---------9-----------------------#2018-08-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/2892562fb5e0449ed70953ab972d46cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nZmUATGIgxgQ4twQASHXg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Area deprivation scores at the county-level. Brighter colors represent higher deprivation relative to all counties in the U.S.</figcaption></figure><p id="cd41" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">你住在哪里对你的健康有重大影响；更具体地说，生活在贫困地区的人健康状况更差。因此，剥夺指数经常用于健康研究。为了估计邻里层面的剥夺，大多数研究人员依赖于人口普查数据，但是，收集和清理这样的数据需要相当多的时间和精力。在这里，我展示了一个 R 函数，它收集数据并不费吹灰之力就创建了一个标准化的贫困指数。</p><p id="1075" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要运行这个功能，你需要<a class="ae la" href="https://walkerke.github.io/tidycensus/" rel="noopener ugc nofollow" target="_blank">tidysensus</a>和<a class="ae la" href="https://personality-project.org/r/psych/" rel="noopener ugc nofollow" target="_blank"> psych </a>软件包。所有代码都发布在<a class="ae la" href="https://github.com/iecastro/deprivation-index" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="afd8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">工作原理</strong></p><p id="6ccb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">该指数是基于刀子乐队和他的同事们的方法论。简而言之，他们发现从八个特定变量中提取的主成分最能代表邻里层面的剥夺。按照他们的方法，普查区一级需要以下变量:</p><p id="7829" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">不到 HS 学位的百分比(25 岁及以上)</p><p id="7a3e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">低于贫困线的百分比</p><p id="f4e6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">有 18 岁以下子女的女户主家庭百分比</p><p id="ee46" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">%从事管理、科学和艺术职业</p><p id="0ae3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">拥挤家庭中的百分比(每个房间超过 1 人)</p><p id="688a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">%有公共援助或食品券</p><p id="7a38" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">失业百分比(16-64 岁劳动力)</p><p id="675b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">家庭年收入低于 3 万英镑的百分比</p><p id="ee22" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">该功能收集普查估计值，转换变量，然后执行主成分分析(PCA)。对于给定的县，在区域级别收集估计值。由于该指数已在以前的研究中得到验证，PCA 仅提取一个成分。</p></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="7074" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">使用函数:countyND() </strong></p><p id="9123" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">该函数通过输入参数<em class="li"> State </em>和<em class="li"> County 来工作。</em>输出变量“PC1”是分析中每个相应人口普查区(ct)的剥夺指数得分。较高的指数分数代表较高的剥夺感。这些分数可以单独使用，也可以导出用于统计模型。</p><h1 id="1690" class="lj lk iq bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg bi translated"><strong class="ak">例题</strong></h1><p id="cf83" class="pw-post-body-paragraph kc kd iq ke b kf mh kh ki kj mi kl km kn mj kp kq kr mk kt ku kv ml kx ky kz ij bi translated">这是纽约州奥农达加县人口普查区的贫困分布情况。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="957d" class="mv lk iq mr b gy mw mx l my mz">NDI &lt;-countyND("NY","Onondaga")<br/>ggplot(NDI, aes(PC1)) + geom_histogram() + theme_classic()</span></pre><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/06bcd3dd723aad6feccda1f71f312f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*_gkrIAPZeHTeVLh6kjkrGQ.png"/></div></figure><p id="a434" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我通过分类进一步探索剥夺分数的分布。通过根据锡拉丘兹市内外的地理位置对人口普查区进行分类，可以清楚地看出，大多数城区的邻里贫困程度高于县城。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="db56" class="mv lk iq mr b gy mw mx l my mz">NDI$type[as.numeric(NDI$GEOID) &lt; 36067006104] &lt;- "City Tract"<br/>NDI$type[as.numeric(NDI$GEOID) &gt;= 36067006104] &lt;- "County Tract"<br/><br/>ggplot(NDI, aes(reorder(Tract, -PC1), PC1)) + geom_col(aes(fill = type)) + coord_flip() +<br/>  theme(axis.text.x = element_text(size = 8, color = "black"), <br/>        axis.text.y = element_text(size = 4, color = "black")) +<br/>  scale_fill_viridis_d(option = "cividis") + <br/>  labs(fill = "", x = "Tract", y = "Deprivation Index")</span></pre><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/877be621efc930e27841638b5097e739.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*-wevfEa8qixz7NFAOGwBIA.png"/></div></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="9348" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">专题制图</strong></p><p id="3b9f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">该指数可通过其空间分布进行进一步研究。绘制剥夺分数图显示，高度剥夺集中在锡拉丘兹市。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/a3c1cd35f53a98b0d4bd41ffc71b0177.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*i98PbFeqI8G6Uxgwb3kHlg.png"/></div></figure><p id="acab" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然而，仅绘制锡拉丘兹市的剥夺分数，一些变化仍然是显而易见的。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div class="gh gi na"><img src="../Images/38e871aea895e2b916fca889dddfb231.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/1*vBDUDn7W3ppXGlwzhLWSkQ.png"/></div></figure><p id="26f0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">此外，通过省略<em class="li">县</em>参数，该函数将返回给定州中所有县的贫困指数。</p><pre class="mm mn mo mp gt mq mr ms mt aw mu bi"><span id="df54" class="mv lk iq mr b gy mw mx l my mz">NYND &lt;- countyND("NY")</span><span id="3c7c" class="mv lk iq mr b gy nb mx l my mz">ggplot(NYND, aes(PC1, color = County)) + geom_density() + <br/>  theme_classic() +  guides(colour=FALSE) + <br/>  scale_color_viridis_d() +<br/>  labs(x = "Deprivation Index for all Counties in NYS")</span></pre><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/067e8a32e6ae14c37fc2bbacc8aa7a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9Hi6kItfCgABQaKQh5WoYg.png"/></div></div></figure><p id="91c3" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">纽约贫困的空间分布:</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4988c7bd8a0ab20f1c6d88713de41442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*axFNcDrGowsI2_7Gr4VrTQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Neighborhood-level deprivation across New York</figcaption></figure></div><div class="ab cl lb lc hu ld" role="separator"><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg lh"/><span class="le bw bk lf lg"/></div><div class="ij ik il im in"><p id="4072" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所有的代码和更多的例子可以在<a class="ae la" href="https://github.com/iecastro/deprivation-index" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到。我为自己的分析编写了这个函数；但是，也许其他人也会发现它很有用。</p></div></div>    
</body>
</html>